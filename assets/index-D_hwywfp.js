(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function hE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rh={exports:{}},lr={};var vy;function fE(){if(vy)return lr;vy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return lr.Fragment=t,lr.jsx=i,lr.jsxs=i,lr}var by;function dE(){return by||(by=1,rh.exports=fE()),rh.exports}var _=dE(),lh={exports:{}},ue={};var wy;function mE(){if(wy)return ue;wy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function O(N,q,J){this.props=N,this.context=q,this.refs=C,this.updater=J||E}O.prototype.isReactComponent={},O.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=O.prototype;function x(N,q,J){this.props=N,this.context=q,this.refs=C,this.updater=J||E}var z=x.prototype=new j;z.constructor=x,A(z,O.prototype),z.isPureReactComponent=!0;var V=Array.isArray;function I(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function re(N,q,J){var W=J.ref;return{$$typeof:n,type:N,key:q,ref:W!==void 0?W:null,props:J}}function Se(N,q){return re(N.type,q,N.props)}function qe(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Ge(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(J){return q[J]})}var an=/\/+/g;function wt(N,q){return typeof N=="object"&&N!==null&&N.key!=null?Ge(""+N.key):q.toString(36)}function mt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,q,J,W,ce){var de=typeof N;(de==="undefined"||de==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case n:case t:Ee=!0;break;case g:return Ee=N._init,$(Ee(N._payload),q,J,W,ce)}}if(Ee)return ce=ce(N),Ee=W===""?"."+wt(N,0):W,V(ce)?(J="",Ee!=null&&(J=Ee.replace(an,"$&/")+"/"),$(ce,q,J,"",function(ms){return ms})):ce!=null&&(qe(ce)&&(ce=Se(ce,J+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(an,"$&/")+"/")+Ee)),q.push(ce)),1;Ee=0;var yt=W===""?".":W+":";if(V(N))for(var Ke=0;Ke<N.length;Ke++)W=N[Ke],de=yt+wt(W,Ke),Ee+=$(W,q,J,de,ce);else if(Ke=S(N),typeof Ke=="function")for(N=Ke.call(N),Ke=0;!(W=N.next()).done;)W=W.value,de=yt+wt(W,Ke++),Ee+=$(W,q,J,de,ce);else if(de==="object"){if(typeof N.then=="function")return $(mt(N),q,J,W,ce);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function P(N,q,J){if(N==null)return N;var W=[],ce=0;return $(N,W,"","",function(de){return q.call(J,de,ce++)}),W}function X(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(J){(N._status===0||N._status===-1)&&(N._status=1,N._result=J)},function(J){(N._status===0||N._status===-1)&&(N._status=2,N._result=J)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var se=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},oe={map:P,forEach:function(N,q,J){P(N,function(){q.apply(this,arguments)},J)},count:function(N){var q=0;return P(N,function(){q++}),q},toArray:function(N){return P(N,function(q){return q})||[]},only:function(N){if(!qe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ue.Activity=v,ue.Children=oe,ue.Component=O,ue.Fragment=i,ue.Profiler=o,ue.PureComponent=x,ue.StrictMode=r,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ue.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},ue.cache=function(N){return function(){return N.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(N,q,J){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=A({},N.props),ce=N.key;if(q!=null)for(de in q.key!==void 0&&(ce=""+q.key),q)!F.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(W[de]=q[de]);var de=arguments.length-2;if(de===1)W.children=J;else if(1<de){for(var Ee=Array(de),yt=0;yt<de;yt++)Ee[yt]=arguments[yt+2];W.children=Ee}return re(N.type,ce,W)},ue.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},ue.createElement=function(N,q,J){var W,ce={},de=null;if(q!=null)for(W in q.key!==void 0&&(de=""+q.key),q)F.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=q[W]);var Ee=arguments.length-2;if(Ee===1)ce.children=J;else if(1<Ee){for(var yt=Array(Ee),Ke=0;Ke<Ee;Ke++)yt[Ke]=arguments[Ke+2];ce.children=yt}if(N&&N.defaultProps)for(W in Ee=N.defaultProps,Ee)ce[W]===void 0&&(ce[W]=Ee[W]);return re(N,de,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(N){return{$$typeof:f,render:N}},ue.isValidElement=qe,ue.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:X}},ue.memo=function(N,q){return{$$typeof:p,type:N,compare:q===void 0?null:q}},ue.startTransition=function(N){var q=Y.T,J={};Y.T=J;try{var W=N(),ce=Y.S;ce!==null&&ce(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(I,se)}catch(de){se(de)}finally{q!==null&&J.types!==null&&(q.types=J.types),Y.T=q}},ue.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ue.use=function(N){return Y.H.use(N)},ue.useActionState=function(N,q,J){return Y.H.useActionState(N,q,J)},ue.useCallback=function(N,q){return Y.H.useCallback(N,q)},ue.useContext=function(N){return Y.H.useContext(N)},ue.useDebugValue=function(){},ue.useDeferredValue=function(N,q){return Y.H.useDeferredValue(N,q)},ue.useEffect=function(N,q){return Y.H.useEffect(N,q)},ue.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},ue.useId=function(){return Y.H.useId()},ue.useImperativeHandle=function(N,q,J){return Y.H.useImperativeHandle(N,q,J)},ue.useInsertionEffect=function(N,q){return Y.H.useInsertionEffect(N,q)},ue.useLayoutEffect=function(N,q){return Y.H.useLayoutEffect(N,q)},ue.useMemo=function(N,q){return Y.H.useMemo(N,q)},ue.useOptimistic=function(N,q){return Y.H.useOptimistic(N,q)},ue.useReducer=function(N,q,J){return Y.H.useReducer(N,q,J)},ue.useRef=function(N){return Y.H.useRef(N)},ue.useState=function(N){return Y.H.useState(N)},ue.useSyncExternalStore=function(N,q,J){return Y.H.useSyncExternalStore(N,q,J)},ue.useTransition=function(){return Y.H.useTransition()},ue.version="19.2.3",ue}var _y;function xf(){return _y||(_y=1,lh.exports=mE()),lh.exports}var T=xf();const Nr=hE(T);var oh={exports:{}},or={},uh={exports:{}},ch={};var Sy;function pE(){return Sy||(Sy=1,(function(n){function t($,P){var X=$.length;$.push(P);e:for(;0<X;){var se=X-1>>>1,oe=$[se];if(0<o(oe,P))$[se]=P,$[X]=oe,X=se;else break e}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var P=$[0],X=$.pop();if(X!==P){$[0]=X;e:for(var se=0,oe=$.length,N=oe>>>1;se<N;){var q=2*(se+1)-1,J=$[q],W=q+1,ce=$[W];if(0>o(J,X))W<oe&&0>o(ce,J)?($[se]=ce,$[W]=X,se=W):($[se]=J,$[q]=X,se=q);else if(W<oe&&0>o(ce,X))$[se]=ce,$[W]=X,se=W;else break e}}return P}function o($,P){var X=$.sortIndex-P.sortIndex;return X!==0?X:$.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],g=1,v=null,b=3,S=!1,E=!1,A=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function z($){for(var P=i(p);P!==null;){if(P.callback===null)r(p);else if(P.startTime<=$)r(p),P.sortIndex=P.expirationTime,t(m,P);else break;P=i(p)}}function V($){if(A=!1,z($),!E)if(i(m)!==null)E=!0,I||(I=!0,Ge());else{var P=i(p);P!==null&&mt(V,P.startTime-$)}}var I=!1,Y=-1,F=5,re=-1;function Se(){return C?!0:!(n.unstable_now()-re<F)}function qe(){if(C=!1,I){var $=n.unstable_now();re=$;var P=!0;try{e:{E=!1,A&&(A=!1,j(Y),Y=-1),S=!0;var X=b;try{t:{for(z($),v=i(m);v!==null&&!(v.expirationTime>$&&Se());){var se=v.callback;if(typeof se=="function"){v.callback=null,b=v.priorityLevel;var oe=se(v.expirationTime<=$);if($=n.unstable_now(),typeof oe=="function"){v.callback=oe,z($),P=!0;break t}v===i(m)&&r(m),z($)}else r(m);v=i(m)}if(v!==null)P=!0;else{var N=i(p);N!==null&&mt(V,N.startTime-$),P=!1}}break e}finally{v=null,b=X,S=!1}P=void 0}}finally{P?Ge():I=!1}}}var Ge;if(typeof x=="function")Ge=function(){x(qe)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,wt=an.port2;an.port1.onmessage=qe,Ge=function(){wt.postMessage(null)}}else Ge=function(){O(qe,0)};function mt($,P){Y=O(function(){$(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var X=b;b=P;try{return $()}finally{b=X}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=b;b=$;try{return P()}finally{b=X}},n.unstable_scheduleCallback=function($,P,X){var se=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=X+oe,$={id:g++,callback:P,priorityLevel:$,startTime:X,expirationTime:oe,sortIndex:-1},X>se?($.sortIndex=X,t(p,$),i(m)===null&&$===i(p)&&(A?(j(Y),Y=-1):A=!0,mt(V,X-se))):($.sortIndex=oe,t(m,$),E||S||(E=!0,I||(I=!0,Ge()))),$},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function($){var P=b;return function(){var X=b;b=P;try{return $.apply(this,arguments)}finally{b=X}}}})(ch)),ch}var Ey;function gE(){return Ey||(Ey=1,uh.exports=pE()),uh.exports}var hh={exports:{}},pt={};var Ty;function yE(){if(Ty)return pt;Ty=1;var n=xf();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,g)},pt.flushSync=function(m){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=g,r.d.f()}},pt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},pt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},pt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},pt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},pt.requestFormReset=function(m){r.d.r(m)},pt.unstable_batchedUpdates=function(m,p){return m(p)},pt.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},pt.useFormStatus=function(){return c.H.useHostTransitionStatus()},pt.version="19.2.3",pt}var xy;function vE(){if(xy)return hh.exports;xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hh.exports=yE(),hh.exports}var Ay;function bE(){if(Ay)return or;Ay=1;var n=gE(),t=xf(),i=vE();function r(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function c(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function f(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(r(188));return a!==e?null:e}for(var s=e,l=a;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),e;if(d===l)return m(h),a;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var y=!1,w=h.child;w;){if(w===s){y=!0,s=h,l=d;break}if(w===l){y=!0,l=h,s=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===s){y=!0,s=d,l=h;break}if(w===l){y=!0,l=d,s=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),x=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=qe&&e[qe]||e["@@iterator"],typeof e=="function"?e:null)}var an=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===an?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case x:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case z:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return a=e.displayName||null,a!==null?a:wt(e.type)||"Memo";case F:a=e._payload,e=e._init;try{return wt(e(a))}catch{}}return null}var mt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},se=[],oe=-1;function N(e){return{current:e}}function q(e){0>oe||(e.current=se[oe],se[oe]=null,oe--)}function J(e,a){oe++,se[oe]=e.current,e.current=a}var W=N(null),ce=N(null),de=N(null),Ee=N(null);function yt(e,a){switch(J(de,a),J(ce,e),J(W,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Hg(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Hg(a),e=$g(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(W),J(W,e)}function Ke(){q(W),q(ce),q(de)}function ms(e){e.memoizedState!==null&&J(Ee,e);var a=W.current,s=$g(a,e.type);a!==s&&(J(ce,e),J(W,s))}function Hr(e){ce.current===e&&(q(W),q(ce)),Ee.current===e&&(q(Ee),ar._currentValue=X)}var $o,yd;function Ea(e){if($o===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);$o=a&&a[1]||"",yd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$o+e+yd}var qo=!1;function Go(e,a){if(!e||qo)return"";qo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var L=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){L=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){L=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],w=d[1];if(y&&w){var R=y.split(`
`),U=w.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var H=`
`+R[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=h);break}}}finally{qo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ea(s):""}function $w(e,a){switch(e.tag){case 26:case 27:case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return e.child!==a&&a!==null?Ea("Suspense Fallback"):Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 15:return Go(e.type,!1);case 11:return Go(e.type.render,!1);case 1:return Go(e.type,!0);case 31:return Ea("Activity");default:return""}}function vd(e){try{var a="",s=null;do a+=$w(e,s),s=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ko=Object.prototype.hasOwnProperty,Io=n.unstable_scheduleCallback,Yo=n.unstable_cancelCallback,qw=n.unstable_shouldYield,Gw=n.unstable_requestPaint,Ot=n.unstable_now,Kw=n.unstable_getCurrentPriorityLevel,bd=n.unstable_ImmediatePriority,wd=n.unstable_UserBlockingPriority,$r=n.unstable_NormalPriority,Iw=n.unstable_LowPriority,_d=n.unstable_IdlePriority,Yw=n.log,Xw=n.unstable_setDisableYieldValue,ps=null,jt=null;function In(e){if(typeof Yw=="function"&&Xw(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ps,e)}catch{}}var Dt=Math.clz32?Math.clz32:Qw,Fw=Math.log,Jw=Math.LN2;function Qw(e){return e>>>=0,e===0?32:31-(Fw(e)/Jw|0)|0}var qr=256,Gr=262144,Kr=4194304;function Ta(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,a,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Ta(l):(y&=w,y!==0?h=Ta(y):s||(s=w&~e,s!==0&&(h=Ta(s))))):(w=l&~d,w!==0?h=Ta(w):y!==0?h=Ta(y):s||(s=l&~e,s!==0&&(h=Ta(s)))),h===0?0:a!==0&&a!==h&&(a&d)===0&&(d=h&-h,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:h}function gs(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Ww(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function Xo(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function ys(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zw(e,a,s,l,h,d){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(s=y&~s;0<s;){var H=31-Dt(s),K=1<<H;w[H]=0,R[H]=-1;var L=U[H];if(L!==null)for(U[H]=null,H=0;H<L.length;H++){var B=L[H];B!==null&&(B.lane&=-536870913)}s&=~K}l!==0&&Ed(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~a))}function Ed(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-Dt(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Td(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var l=31-Dt(s),h=1<<l;h&a|e[l]&a&&(e[l]|=a),s&=~h}}function xd(e,a){var s=a&-a;return s=(s&42)!==0?1:Fo(s),(s&(e.suspendedLanes|a))!==0?0:s}function Fo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ad(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:hy(e.type))}function Rd(e,a){var s=P.p;try{return P.p=e,a()}finally{P.p=s}}var Yn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Yn,_t="__reactProps$"+Yn,ni="__reactContainer$"+Yn,Qo="__reactEvents$"+Yn,e_="__reactListeners$"+Yn,t_="__reactHandles$"+Yn,Cd="__reactResources$"+Yn,vs="__reactMarker$"+Yn;function Wo(e){delete e[rt],delete e[_t],delete e[Qo],delete e[e_],delete e[t_]}function ai(e){var a=e[rt];if(a)return a;for(var s=e.parentNode;s;){if(a=s[ni]||s[rt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Fg(e);e!==null;){if(s=e[rt])return s;e=Fg(e)}return a}e=s,s=e.parentNode}return null}function ii(e){if(e=e[rt]||e[ni]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function bs(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(r(33))}function si(e){var a=e[Cd];return a||(a=e[Cd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function it(e){e[vs]=!0}var Od=new Set,jd={};function xa(e,a){ri(e,a),ri(e+"Capture",a)}function ri(e,a){for(jd[e]=a,e=0;e<a.length;e++)Od.add(a[e])}var n_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dd={},Nd={};function a_(e){return Ko.call(Nd,e)?!0:Ko.call(Dd,e)?!1:n_.test(e)?Nd[e]=!0:(Dd[e]=!0,!1)}function Yr(e,a,s){if(a_(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function Xr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function wn(e,a,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+l)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function i_(e,a,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Zo(e){if(!e._valueTracker){var a=kd(e)?"checked":"value";e._valueTracker=i_(e,a,""+e[a])}}function Md(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return e&&(l=kd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(a.setValue(e),!0):!1}function Fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var s_=/[\n"\\]/g;function Kt(e){return e.replace(s_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eu(e,a,s,l,h,d,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),a!=null?y==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Gt(a)):e.value!==""+Gt(a)&&(e.value=""+Gt(a)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),a!=null?tu(e,y,Gt(a)):s!=null?tu(e,y,Gt(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Gt(w):e.removeAttribute("name")}function Ud(e,a,s,l,h,d,y,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Zo(e);return}s=s!=null?""+Gt(s):"",a=a!=null?""+Gt(a):s,w||a===e.value||(e.value=a),e.defaultValue=a}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Zo(e)}function tu(e,a,s){a==="number"&&Fr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function li(e,a,s,l){if(e=e.options,a){a={};for(var h=0;h<s.length;h++)a["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=a.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Gt(s),a=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}a!==null||e[h].disabled||(a=e[h])}a!==null&&(a.selected=!0)}}function Ld(e,a,s){if(a!=null&&(a=""+Gt(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+Gt(s):""}function zd(e,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=Gt(a),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zo(e)}function oi(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var r_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bd(e,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,s):typeof s!="number"||s===0||r_.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Vd(e,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in a)l=a[h],a.hasOwnProperty(h)&&s[h]!==l&&Bd(e,h,l)}else for(var d in a)a.hasOwnProperty(d)&&Bd(e,d,a[d])}function nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return o_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var au=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ui=null,ci=null;function Pd(e){var a=ii(e);if(a&&(e=a.stateNode)){var s=e[_t]||null;e:switch(e=a.stateNode,a.type){case"input":if(eu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==e&&l.form===e.form){var h=l[_t]||null;if(!h)throw Error(r(90));eu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===e.form&&Md(l)}break e;case"textarea":Ld(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&li(e,!!s.multiple,a,!1)}}}var su=!1;function Hd(e,a,s){if(su)return e(a,s);su=!0;try{var l=e(a);return l}finally{if(su=!1,(ui!==null||ci!==null)&&(zl(),ui&&(a=ui,e=ci,ci=ui=null,Pd(a),e)))for(a=0;a<e.length;a++)Pd(e[a])}}function ws(e,a){var s=e.stateNode;if(s===null)return null;var l=s[_t]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=!1;if(Sn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){ru=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{ru=!1}var Xn=null,lu=null,Qr=null;function $d(){if(Qr)return Qr;var e,a=lu,s=a.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<s&&a[e]===h[e];e++);var y=s-e;for(l=1;l<=y&&a[s-l]===h[d-l];l++);return Qr=h.slice(e,1<l?1-l:void 0)}function Wr(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function qd(){return!1}function St(e){function a(s,l,h,d,y){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zr:qd,this.isPropagationStopped=qd,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),a}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=St(Aa),Ss=v({},Aa,{view:0,detail:0}),u_=St(Ss),ou,uu,Es,tl=v({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(ou=e.screenX-Es.screenX,uu=e.screenY-Es.screenY):uu=ou=0,Es=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:uu}}),Gd=St(tl),c_=v({},tl,{dataTransfer:0}),h_=St(c_),f_=v({},Ss,{relatedTarget:0}),cu=St(f_),d_=v({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=St(d_),p_=v({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g_=St(p_),y_=v({},Aa,{data:0}),Kd=St(y_),v_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function __(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=w_[e])?!!a[e]:!1}function hu(){return __}var S_=v({},Ss,{key:function(e){if(e.key){var a=v_[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E_=St(S_),T_=v({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=St(T_),x_=v({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),A_=St(x_),R_=v({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),C_=St(R_),O_=v({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j_=St(O_),D_=v({},Aa,{newState:0,oldState:0}),N_=St(D_),k_=[9,13,27,32],fu=Sn&&"CompositionEvent"in window,Ts=null;Sn&&"documentMode"in document&&(Ts=document.documentMode);var M_=Sn&&"TextEvent"in window&&!Ts,Yd=Sn&&(!fu||Ts&&8<Ts&&11>=Ts),Xd=" ",Fd=!1;function Jd(e,a){switch(e){case"keyup":return k_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function U_(e,a){switch(e){case"compositionend":return Qd(a);case"keypress":return a.which!==32?null:(Fd=!0,Xd);case"textInput":return e=a.data,e===Xd&&Fd?null:e;default:return null}}function L_(e,a){if(hi)return e==="compositionend"||!fu&&Jd(e,a)?(e=$d(),Qr=lu=Xn=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yd&&a.locale!=="ko"?null:a.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!z_[e.type]:a==="textarea"}function Zd(e,a,s,l){ui?ci?ci.push(l):ci=[l]:ui=l,a=Gl(a,"onChange"),0<a.length&&(s=new el("onChange","change",null,s,l),e.push({event:s,listeners:a}))}var xs=null,As=null;function B_(e){Ug(e,0)}function nl(e){var a=bs(e);if(Md(a))return e}function em(e,a){if(e==="change")return a}var tm=!1;if(Sn){var du;if(Sn){var mu="oninput"in document;if(!mu){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),mu=typeof nm.oninput=="function"}du=mu}else du=!1;tm=du&&(!document.documentMode||9<document.documentMode)}function am(){xs&&(xs.detachEvent("onpropertychange",im),As=xs=null)}function im(e){if(e.propertyName==="value"&&nl(As)){var a=[];Zd(a,As,e,iu(e)),Hd(B_,a)}}function V_(e,a,s){e==="focusin"?(am(),xs=a,As=s,xs.attachEvent("onpropertychange",im)):e==="focusout"&&am()}function P_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(As)}function H_(e,a){if(e==="click")return nl(a)}function $_(e,a){if(e==="input"||e==="change")return nl(a)}function q_(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Nt=typeof Object.is=="function"?Object.is:q_;function Rs(e,a){if(Nt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ko.call(a,h)||!Nt(e[h],a[h]))return!1}return!0}function sm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rm(e,a){var s=sm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=a&&l>=a)return{node:s,offset:a-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sm(s)}}function lm(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?lm(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function om(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Fr(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=Fr(e.document)}return a}function pu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var G_=Sn&&"documentMode"in document&&11>=document.documentMode,fi=null,gu=null,Cs=null,yu=!1;function um(e,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yu||fi==null||fi!==Fr(l)||(l=fi,"selectionStart"in l&&pu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cs&&Rs(Cs,l)||(Cs=l,l=Gl(gu,"onSelect"),0<l.length&&(a=new el("onSelect","select",null,a,s),e.push({event:a,listeners:l}),a.target=fi)))}function Ra(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var di={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},vu={},cm={};Sn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Ca(e){if(vu[e])return vu[e];if(!di[e])return e;var a=di[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in cm)return vu[e]=a[s];return e}var hm=Ca("animationend"),fm=Ca("animationiteration"),dm=Ca("animationstart"),K_=Ca("transitionrun"),I_=Ca("transitionstart"),Y_=Ca("transitioncancel"),mm=Ca("transitionend"),pm=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function sn(e,a){pm.set(e,a),xa(a,[e])}var al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],mi=0,wu=0;function il(){for(var e=mi,a=wu=mi=0;a<e;){var s=It[a];It[a++]=null;var l=It[a];It[a++]=null;var h=It[a];It[a++]=null;var d=It[a];if(It[a++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&gm(s,h,d)}}function sl(e,a,s,l){It[mi++]=e,It[mi++]=a,It[mi++]=s,It[mi++]=l,wu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _u(e,a,s,l){return sl(e,a,s,l),rl(e)}function Oa(e,a){return sl(e,null,null,a),rl(e)}function gm(e,a,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&a!==null&&(h=31-Dt(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[a]:l.push(a),a.lane=s|536870912),d):null}function rl(e){if(50<Js)throw Js=0,jc=null,Error(r(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var pi={};function X_(e,a,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,a,s,l){return new X_(e,a,s,l)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,a){var s=e.alternate;return s===null?(s=kt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ym(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function ll(e,a,s,l,h,d){var y=0;if(l=e,typeof e=="function")Su(e)&&(y=1);else if(typeof e=="string")y=ZS(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=kt(31,s,a,h),e.elementType=re,e.lanes=d,e;case A:return ja(s.children,h,d,a);case C:y=8,h|=24;break;case O:return e=kt(12,s,a,h|2),e.elementType=O,e.lanes=d,e;case V:return e=kt(13,s,a,h),e.elementType=V,e.lanes=d,e;case I:return e=kt(19,s,a,h),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:y=10;break e;case j:y=9;break e;case z:y=11;break e;case Y:y=14;break e;case F:y=16,l=null;break e}y=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return a=kt(y,s,a,h),a.elementType=e,a.type=l,a.lanes=d,a}function ja(e,a,s,l){return e=kt(7,e,l,a),e.lanes=s,e}function Eu(e,a,s){return e=kt(6,e,null,a),e.lanes=s,e}function vm(e){var a=kt(18,null,null,0);return a.stateNode=e,a}function Tu(e,a,s){return a=kt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var bm=new WeakMap;function Yt(e,a){if(typeof e=="object"&&e!==null){var s=bm.get(e);return s!==void 0?s:(a={value:e,source:a,stack:vd(a)},bm.set(e,a),a)}return{value:e,source:a,stack:vd(a)}}var gi=[],yi=0,ol=null,Os=0,Xt=[],Ft=0,Fn=null,mn=1,pn="";function Tn(e,a){gi[yi++]=Os,gi[yi++]=ol,ol=e,Os=a}function wm(e,a,s){Xt[Ft++]=mn,Xt[Ft++]=pn,Xt[Ft++]=Fn,Fn=e;var l=mn;e=pn;var h=32-Dt(l)-1;l&=~(1<<h),s+=1;var d=32-Dt(a)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,mn=1<<32-Dt(a)+h|s<<h|l,pn=d+e}else mn=1<<d|s<<h|l,pn=e}function xu(e){e.return!==null&&(Tn(e,1),wm(e,1,0))}function Au(e){for(;e===ol;)ol=gi[--yi],gi[yi]=null,Os=gi[--yi],gi[yi]=null;for(;e===Fn;)Fn=Xt[--Ft],Xt[Ft]=null,pn=Xt[--Ft],Xt[Ft]=null,mn=Xt[--Ft],Xt[Ft]=null}function _m(e,a){Xt[Ft++]=mn,Xt[Ft++]=pn,Xt[Ft++]=Fn,mn=a.id,pn=a.overflow,Fn=e}var lt=null,De=null,ve=!1,Jn=null,Jt=!1,Ru=Error(r(519));function Qn(e){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw js(Yt(a,e)),Ru}function Sm(e){var a=e.stateNode,s=e.type,l=e.memoizedProps;switch(a[rt]=e,a[_t]=l,s){case"dialog":pe("cancel",a),pe("close",a);break;case"iframe":case"object":case"embed":pe("load",a);break;case"video":case"audio":for(s=0;s<Ws.length;s++)pe(Ws[s],a);break;case"source":pe("error",a);break;case"img":case"image":case"link":pe("error",a),pe("load",a);break;case"details":pe("toggle",a);break;case"input":pe("invalid",a),Ud(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",a);break;case"textarea":pe("invalid",a),zd(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Vg(a.textContent,s)?(l.popover!=null&&(pe("beforetoggle",a),pe("toggle",a)),l.onScroll!=null&&pe("scroll",a),l.onScrollEnd!=null&&pe("scrollend",a),l.onClick!=null&&(a.onclick=_n),a=!0):a=!1,a||Qn(e,!0)}function Em(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:lt=lt.return}}function vi(e){if(e!==lt)return!1;if(!ve)return Em(e),ve=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Kc(e.type,e.memoizedProps)),s=!s),s&&De&&Qn(e),Em(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=Xg(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=Xg(e)}else a===27?(a=De,ha(e.type)?(e=Jc,Jc=null,De=e):De=a):De=lt?Wt(e.stateNode.nextSibling):null;return!0}function Da(){De=lt=null,ve=!1}function Cu(){var e=Jn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Jn=null),e}function js(e){Jn===null?Jn=[e]:Jn.push(e)}var Ou=N(null),Na=null,xn=null;function Wn(e,a,s){J(Ou,a._currentValue),a._currentValue=s}function An(e){e._currentValue=Ou.current,q(Ou)}function ju(e,a,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===s)break;e=e.return}}function Du(e,a,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var R=0;R<a.length;R++)if(w.context===a[R]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),ju(d.return,s,e),l||(y=null);break e}d=w.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),ju(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function bi(e,a,s,l){e=null;for(var h=a,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var w=h.type;Nt(h.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(h===Ee.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ar):e=[ar])}h=h.return}e!==null&&Du(a,e,s,l),a.flags|=262144}function ul(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){Na=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Tm(Na,e)}function cl(e,a){return Na===null&&ka(e),Tm(e,a)}function Tm(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},xn===null){if(e===null)throw Error(r(308));xn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else xn=xn.next=a;return s}var F_=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},J_=n.unstable_scheduleCallback,Q_=n.unstable_NormalPriority,Xe={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new F_,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&J_(Q_,function(){e.controller.abort()})}var Ns=null,ku=0,wi=0,_i=null;function W_(e,a){if(Ns===null){var s=Ns=[];ku=0,wi=Lc(),_i={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ku++,a.then(xm,xm),a}function xm(){if(--ku===0&&Ns!==null){_i!==null&&(_i.status="fulfilled");var e=Ns;Ns=null,wi=0,_i=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Z_(e,a){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var h=0;h<s.length;h++)(0,s[h])(a)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Am=$.S;$.S=function(e,a){ug=Ot(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&W_(e,a),Am!==null&&Am(e,a)};var Ma=N(null);function Mu(){var e=Ma.current;return e!==null?e:Oe.pooledCache}function hl(e,a){a===null?J(Ma,Ma.current):J(Ma,a.pool)}function Rm(){var e=Mu();return e===null?null:{parent:Xe._currentValue,pool:e}}var Si=Error(r(460)),Uu=Error(r(474)),fl=Error(r(542)),dl={then:function(){}};function Cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Om(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(_n,_n),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dm(e),e;default:if(typeof a.status=="string")a.then(_n,_n);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=l}},function(l){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dm(e),e}throw La=a,Si}}function Ua(e){try{var a=e._init;return a(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(La=s,Si):s}}var La=null;function jm(){if(La===null)throw Error(r(459));var e=La;return La=null,e}function Dm(e){if(e===Si||e===fl)throw Error(r(483))}var Ei=null,ks=0;function ml(e){var a=ks;return ks+=1,Ei===null&&(Ei=[]),Om(Ei,e,a)}function Ms(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function pl(e,a){throw a.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(a),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Nm(e){function a(k,D){if(e){var M=k.deletions;M===null?(k.deletions=[D],k.flags|=16):M.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)a(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=En(k,D),k.index=0,k.sibling=null,k}function d(k,D,M){return k.index=M,e?(M=k.alternate,M!==null?(M=M.index,M<D?(k.flags|=67108866,D):M):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function w(k,D,M,G){return D===null||D.tag!==6?(D=Eu(M,k.mode,G),D.return=k,D):(D=h(D,M),D.return=k,D)}function R(k,D,M,G){var te=M.type;return te===A?H(k,D,M.props.children,G,M.key):D!==null&&(D.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===F&&Ua(te)===D.type)?(D=h(D,M.props),Ms(D,M),D.return=k,D):(D=ll(M.type,M.key,M.props,null,k.mode,G),Ms(D,M),D.return=k,D)}function U(k,D,M,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Tu(M,k.mode,G),D.return=k,D):(D=h(D,M.children||[]),D.return=k,D)}function H(k,D,M,G,te){return D===null||D.tag!==7?(D=ja(M,k.mode,G,te),D.return=k,D):(D=h(D,M),D.return=k,D)}function K(k,D,M){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Eu(""+D,k.mode,M),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return M=ll(D.type,D.key,D.props,null,k.mode,M),Ms(M,D),M.return=k,M;case E:return D=Tu(D,k.mode,M),D.return=k,D;case F:return D=Ua(D),K(k,D,M)}if(mt(D)||Ge(D))return D=ja(D,k.mode,M,null),D.return=k,D;if(typeof D.then=="function")return K(k,ml(D),M);if(D.$$typeof===x)return K(k,cl(k,D),M);pl(k,D)}return null}function L(k,D,M,G){var te=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return te!==null?null:w(k,D,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return M.key===te?R(k,D,M,G):null;case E:return M.key===te?U(k,D,M,G):null;case F:return M=Ua(M),L(k,D,M,G)}if(mt(M)||Ge(M))return te!==null?null:H(k,D,M,G,null);if(typeof M.then=="function")return L(k,D,ml(M),G);if(M.$$typeof===x)return L(k,D,cl(k,M),G);pl(k,M)}return null}function B(k,D,M,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(M)||null,w(D,k,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return k=k.get(G.key===null?M:G.key)||null,R(D,k,G,te);case E:return k=k.get(G.key===null?M:G.key)||null,U(D,k,G,te);case F:return G=Ua(G),B(k,D,M,G,te)}if(mt(G)||Ge(G))return k=k.get(M)||null,H(D,k,G,te,null);if(typeof G.then=="function")return B(k,D,M,ml(G),te);if(G.$$typeof===x)return B(k,D,M,cl(D,G),te);pl(D,G)}return null}function Q(k,D,M,G){for(var te=null,be=null,Z=D,fe=D=0,ye=null;Z!==null&&fe<M.length;fe++){Z.index>fe?(ye=Z,Z=null):ye=Z.sibling;var we=L(k,Z,M[fe],G);if(we===null){Z===null&&(Z=ye);break}e&&Z&&we.alternate===null&&a(k,Z),D=d(we,D,fe),be===null?te=we:be.sibling=we,be=we,Z=ye}if(fe===M.length)return s(k,Z),ve&&Tn(k,fe),te;if(Z===null){for(;fe<M.length;fe++)Z=K(k,M[fe],G),Z!==null&&(D=d(Z,D,fe),be===null?te=Z:be.sibling=Z,be=Z);return ve&&Tn(k,fe),te}for(Z=l(Z);fe<M.length;fe++)ye=B(Z,k,fe,M[fe],G),ye!==null&&(e&&ye.alternate!==null&&Z.delete(ye.key===null?fe:ye.key),D=d(ye,D,fe),be===null?te=ye:be.sibling=ye,be=ye);return e&&Z.forEach(function(ga){return a(k,ga)}),ve&&Tn(k,fe),te}function ne(k,D,M,G){if(M==null)throw Error(r(151));for(var te=null,be=null,Z=D,fe=D=0,ye=null,we=M.next();Z!==null&&!we.done;fe++,we=M.next()){Z.index>fe?(ye=Z,Z=null):ye=Z.sibling;var ga=L(k,Z,we.value,G);if(ga===null){Z===null&&(Z=ye);break}e&&Z&&ga.alternate===null&&a(k,Z),D=d(ga,D,fe),be===null?te=ga:be.sibling=ga,be=ga,Z=ye}if(we.done)return s(k,Z),ve&&Tn(k,fe),te;if(Z===null){for(;!we.done;fe++,we=M.next())we=K(k,we.value,G),we!==null&&(D=d(we,D,fe),be===null?te=we:be.sibling=we,be=we);return ve&&Tn(k,fe),te}for(Z=l(Z);!we.done;fe++,we=M.next())we=B(Z,k,fe,we.value,G),we!==null&&(e&&we.alternate!==null&&Z.delete(we.key===null?fe:we.key),D=d(we,D,fe),be===null?te=we:be.sibling=we,be=we);return e&&Z.forEach(function(cE){return a(k,cE)}),ve&&Tn(k,fe),te}function Ce(k,D,M,G){if(typeof M=="object"&&M!==null&&M.type===A&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case S:e:{for(var te=M.key;D!==null;){if(D.key===te){if(te=M.type,te===A){if(D.tag===7){s(k,D.sibling),G=h(D,M.props.children),G.return=k,k=G;break e}}else if(D.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===F&&Ua(te)===D.type){s(k,D.sibling),G=h(D,M.props),Ms(G,M),G.return=k,k=G;break e}s(k,D);break}else a(k,D);D=D.sibling}M.type===A?(G=ja(M.props.children,k.mode,G,M.key),G.return=k,k=G):(G=ll(M.type,M.key,M.props,null,k.mode,G),Ms(G,M),G.return=k,k=G)}return y(k);case E:e:{for(te=M.key;D!==null;){if(D.key===te)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){s(k,D.sibling),G=h(D,M.children||[]),G.return=k,k=G;break e}else{s(k,D);break}else a(k,D);D=D.sibling}G=Tu(M,k.mode,G),G.return=k,k=G}return y(k);case F:return M=Ua(M),Ce(k,D,M,G)}if(mt(M))return Q(k,D,M,G);if(Ge(M)){if(te=Ge(M),typeof te!="function")throw Error(r(150));return M=te.call(M),ne(k,D,M,G)}if(typeof M.then=="function")return Ce(k,D,ml(M),G);if(M.$$typeof===x)return Ce(k,D,cl(k,M),G);pl(k,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,D!==null&&D.tag===6?(s(k,D.sibling),G=h(D,M),G.return=k,k=G):(s(k,D),G=Eu(M,k.mode,G),G.return=k,k=G),y(k)):s(k,D)}return function(k,D,M,G){try{ks=0;var te=Ce(k,D,M,G);return Ei=null,te}catch(Z){if(Z===Si||Z===fl)throw Z;var be=kt(29,Z,null,k.mode);return be.lanes=G,be.return=k,be}}}var za=Nm(!0),km=Nm(!1),Zn=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,a,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var h=l.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a,a=rl(e),gm(e,null,s),a}return sl(e,l,a,s),rl(e)}function Us(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,s|=l,a.lanes=s,Td(e,s)}}function Bu(e,a){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=a:d=d.next=a}else h=d=a;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Vu=!1;function Ls(){if(Vu){var e=_i;if(e!==null)throw e}}function zs(e,a,s,l){Vu=!1;var h=e.updateQueue;Zn=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,y===null?d=U:y.next=U,y=R;var H=e.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==y&&(w===null?H.firstBaseUpdate=U:w.next=U,H.lastBaseUpdate=R))}if(d!==null){var K=h.baseState;y=0,H=U=R=null,w=d;do{var L=w.lane&-536870913,B=L!==w.lane;if(B?(ge&L)===L:(l&L)===L){L!==0&&L===wi&&(Vu=!0),H!==null&&(H=H.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Q=e,ne=w;L=a;var Ce=s;switch(ne.tag){case 1:if(Q=ne.payload,typeof Q=="function"){K=Q.call(Ce,K,L);break e}K=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ne.payload,L=typeof Q=="function"?Q.call(Ce,K,L):Q,L==null)break e;K=v({},K,L);break e;case 2:Zn=!0}}L=w.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[L]:B.push(L))}else B={lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(U=H=B,R=K):H=H.next=B,y|=L;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;B=w,w=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),ra|=y,e.lanes=y,e.memoizedState=K}}function Mm(e,a){if(typeof e!="function")throw Error(r(191,e));e.call(a)}function Um(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mm(s[e],a)}var Ti=N(null),gl=N(0);function Lm(e,a){e=Un,J(gl,e),J(Ti,a),Un=e|a.baseLanes}function Pu(){J(gl,Un),J(Ti,Ti.current)}function Hu(){Un=gl.current,q(Ti),q(gl)}var Mt=N(null),Qt=null;function na(e){var a=e.alternate;J(Ie,Ie.current&1),J(Mt,e),Qt===null&&(a===null||Ti.current!==null||a.memoizedState!==null)&&(Qt=e)}function $u(e){J(Ie,Ie.current),J(Mt,e),Qt===null&&(Qt=e)}function zm(e){e.tag===22?(J(Ie,Ie.current),J(Mt,e),Qt===null&&(Qt=e)):aa()}function aa(){J(Ie,Ie.current),J(Mt,Mt.current)}function Ut(e){q(Mt),Qt===e&&(Qt=null),q(Ie)}var Ie=N(0);function yl(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xc(s)||Fc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rn=0,he=null,Ae=null,Fe=null,vl=!1,xi=!1,Ba=!1,bl=0,Bs=0,Ai=null,eS=0;function Ve(){throw Error(r(321))}function qu(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Nt(e[s],a[s]))return!1;return!0}function Gu(e,a,s,l,h,d){return Rn=d,he=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=e===null||e.memoizedState===null?wp:sc,Ba=!1,d=s(l,h),Ba=!1,xi&&(d=Vm(a,s,l,h)),Bm(e),d}function Bm(e){$.H=Hs;var a=Ae!==null&&Ae.next!==null;if(Rn=0,Fe=Ae=he=null,vl=!1,Bs=0,Ai=null,a)throw Error(r(300));e===null||Je||(e=e.dependencies,e!==null&&ul(e)&&(Je=!0))}function Vm(e,a,s,l){he=e;var h=0;do{if(xi&&(Ai=null),Bs=0,xi=!1,25<=h)throw Error(r(301));if(h+=1,Fe=Ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=_p,d=a(s,l)}while(xi);return d}function tS(){var e=$.H,a=e.useState()[0];return a=typeof a.then=="function"?Vs(a):a,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(he.flags|=1024),a}function Ku(){var e=bl!==0;return bl=0,e}function Iu(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Yu(e){if(vl){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}vl=!1}Rn=0,Fe=Ae=he=null,xi=!1,Bs=bl=0,Ai=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ye(){if(Ae===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var a=Fe===null?he.memoizedState:Fe.next;if(a!==null)Fe=a,Ae=e;else{if(e===null)throw he.alternate===null?Error(r(467)):Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(e){var a=Bs;return Bs+=1,Ai===null&&(Ai=[]),e=Om(Ai,e,a),a=he,(Fe===null?a.memoizedState:Fe.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?wp:sc),e}function _l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vs(e);if(e.$$typeof===x)return ot(e)}throw Error(r(438,String(e)))}function Xu(e){var a=null,s=he.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=wl(),he.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),l=0;l<e;l++)s[l]=Se;return a.index++,s}function Cn(e,a){return typeof a=="function"?a(e):a}function Sl(e){var a=Ye();return Fu(a,Ae,e)}function Fu(e,a,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}a.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{a=h.next;var w=y=null,R=null,U=a,H=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(ge&K)===K:(Rn&K)===K){var L=U.revertLane;if(L===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===wi&&(H=!0);else if((Rn&L)===L){U=U.next,L===wi&&(H=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(w=R=K,y=d):R=R.next=K,he.lanes|=L,ra|=L;K=U.action,Ba&&s(d,K),d=U.hasEagerState?U.eagerState:s(d,K)}else L={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(w=R=L,y=d):R=R.next=L,he.lanes|=K,ra|=K;U=U.next}while(U!==null&&U!==a);if(R===null?y=d:R.next=w,!Nt(d,e.memoizedState)&&(Je=!0,H&&(s=_i,s!==null)))throw s;e.memoizedState=d,e.baseState=y,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ju(e){var a=Ye(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=a.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Nt(d,a.memoizedState)||(Je=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,l]}function Pm(e,a,s){var l=he,h=Ye(),d=ve;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=a();var y=!Nt((Ae||h).memoizedState,s);if(y&&(h.memoizedState=s,Je=!0),h=h.queue,Zu(qm.bind(null,l,h,e),[e]),h.getSnapshot!==a||y||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Ri(9,{destroy:void 0},$m.bind(null,l,h,s,a),null),Oe===null)throw Error(r(349));d||(Rn&127)!==0||Hm(l,a,s)}return s}function Hm(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=he.updateQueue,a===null?(a=wl(),he.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function $m(e,a,s,l){a.value=s,a.getSnapshot=l,Gm(a)&&Km(e)}function qm(e,a,s){return s(function(){Gm(a)&&Km(e)})}function Gm(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Nt(e,s)}catch{return!0}}function Km(e){var a=Oa(e,2);a!==null&&Rt(a,e,2)}function Qu(e){var a=vt();if(typeof e=="function"){var s=e;if(e=s(),Ba){In(!0);try{s()}finally{In(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},a}function Im(e,a,s,l){return e.baseState=s,Fu(e,Ae,typeof l=="function"?l:Cn)}function nS(e,a,s,l,h){if(xl(e))throw Error(r(485));if(e=a.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};$.T!==null?s(!0):d.isTransition=!1,l(d),s=a.pending,s===null?(d.next=a.pending=d,Ym(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Ym(e,a){var s=a.action,l=a.payload,h=e.state;if(a.isTransition){var d=$.T,y={};$.T=y;try{var w=s(h,l),R=$.S;R!==null&&R(y,w),Xm(e,a,w)}catch(U){Wu(e,a,U)}finally{d!==null&&y.types!==null&&(d.types=y.types),$.T=d}}else try{d=s(h,l),Xm(e,a,d)}catch(U){Wu(e,a,U)}}function Xm(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Fm(e,a,l)},function(l){return Wu(e,a,l)}):Fm(e,a,s)}function Fm(e,a,s){a.status="fulfilled",a.value=s,Jm(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Ym(e,s)))}function Wu(e,a,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,Jm(a),a=a.next;while(a!==l)}e.action=null}function Jm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Qm(e,a){return a}function Wm(e,a){if(ve){var s=Oe.formState;if(s!==null){e:{var l=he;if(ve){if(De){t:{for(var h=De,d=Jt;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wt(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){De=Wt(h.nextSibling),l=h.data==="F!";break e}}Qn(l)}l=!1}l&&(a=s[0])}}return s=vt(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:a},s.queue=l,s=yp.bind(null,he,l),l.dispatch=s,l=Qu(!1),d=ic.bind(null,he,!1,l.queue),l=vt(),h={state:a,dispatch:null,action:e,pending:null},l.queue=h,s=nS.bind(null,he,h,d,s),h.dispatch=s,l.memoizedState=e,[a,s,!1]}function Zm(e){var a=Ye();return ep(a,Ae,e)}function ep(e,a,s){if(a=Fu(e,a,Qm)[0],e=Sl(Cn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Vs(a)}catch(y){throw y===Si?fl:y}else l=a;a=Ye();var h=a.queue,d=h.dispatch;return s!==a.memoizedState&&(he.flags|=2048,Ri(9,{destroy:void 0},aS.bind(null,h,s),null)),[l,d,e]}function aS(e,a){e.action=a}function tp(e){var a=Ye(),s=Ae;if(s!==null)return ep(a,s,e);Ye(),a=a.memoizedState,s=Ye();var l=s.queue.dispatch;return s.memoizedState=e,[a,l,!1]}function Ri(e,a,s,l){return e={tag:e,create:s,deps:l,inst:a,next:null},a=he.updateQueue,a===null&&(a=wl(),he.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,a.lastEffect=e),e}function np(){return Ye().memoizedState}function El(e,a,s,l){var h=vt();he.flags|=e,h.memoizedState=Ri(1|a,{destroy:void 0},s,l===void 0?null:l)}function Tl(e,a,s,l){var h=Ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Ae!==null&&l!==null&&qu(l,Ae.memoizedState.deps)?h.memoizedState=Ri(a,d,s,l):(he.flags|=e,h.memoizedState=Ri(1|a,d,s,l))}function ap(e,a){El(8390656,8,e,a)}function Zu(e,a){Tl(2048,8,e,a)}function iS(e){he.flags|=4;var a=he.updateQueue;if(a===null)a=wl(),he.updateQueue=a,a.events=[e];else{var s=a.events;s===null?a.events=[e]:s.push(e)}}function ip(e){var a=Ye().memoizedState;return iS({ref:a,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function sp(e,a){return Tl(4,2,e,a)}function rp(e,a){return Tl(4,4,e,a)}function lp(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function op(e,a,s){s=s!=null?s.concat([e]):null,Tl(4,4,lp.bind(null,a,e),s)}function ec(){}function up(e,a){var s=Ye();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&qu(a,l[1])?l[0]:(s.memoizedState=[e,a],e)}function cp(e,a){var s=Ye();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&qu(a,l[1]))return l[0];if(l=e(),Ba){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,a],l}function tc(e,a,s){return s===void 0||(Rn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=a:(e.memoizedState=s,e=hg(),he.lanes|=e,ra|=e,s)}function hp(e,a,s,l){return Nt(s,a)?s:Ti.current!==null?(e=tc(e,s,l),Nt(e,a)||(Je=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(ge&261930)===0?(Je=!0,e.memoizedState=s):(e=hg(),he.lanes|=e,ra|=e,a)}function fp(e,a,s,l,h){var d=P.p;P.p=d!==0&&8>d?d:8;var y=$.T,w={};$.T=w,ic(e,!1,a,s);try{var R=h(),U=$.S;if(U!==null&&U(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=Z_(R,l);Ps(e,a,H,Bt(e))}else Ps(e,a,l,Bt(e))}catch(K){Ps(e,a,{then:function(){},status:"rejected",reason:K},Bt())}finally{P.p=d,y!==null&&w.types!==null&&(y.types=w.types),$.T=y}}function sS(){}function nc(e,a,s,l){if(e.tag!==5)throw Error(r(476));var h=dp(e).queue;fp(e,h,a,X,s===null?sS:function(){return mp(e),s(l)})}function dp(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:X},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function mp(e){var a=dp(e);a.next===null&&(a=e.alternate.memoizedState),Ps(e,a.next.queue,{},Bt())}function ac(){return ot(ar)}function pp(){return Ye().memoizedState}function gp(){return Ye().memoizedState}function rS(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Bt();e=ea(s);var l=ta(a,e,s);l!==null&&(Rt(l,a,s),Us(l,a,s)),a={cache:Nu()},e.payload=a;return}a=a.return}}function lS(e,a,s){var l=Bt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xl(e)?vp(a,s):(s=_u(e,a,s,l),s!==null&&(Rt(s,e,l),bp(s,a,l)))}function yp(e,a,s){var l=Bt();Ps(e,a,s,l)}function Ps(e,a,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xl(e))vp(a,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,w=d(y,s);if(h.hasEagerState=!0,h.eagerState=w,Nt(w,y))return sl(e,a,h,0),Oe===null&&il(),!1}catch{}if(s=_u(e,a,h,l),s!==null)return Rt(s,e,l),bp(s,a,l),!0}return!1}function ic(e,a,s,l){if(l={lane:2,revertLane:Lc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(a)throw Error(r(479))}else a=_u(e,s,l,2),a!==null&&Rt(a,e,2)}function xl(e){var a=e.alternate;return e===he||a!==null&&a===he}function vp(e,a){xi=vl=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function bp(e,a,s){if((s&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,s|=l,a.lanes=s,Td(e,s)}}var Hs={readContext:ot,use:_l,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Hs.useEffectEvent=Ve;var wp={readContext:ot,use:_l,useCallback:function(e,a){return vt().memoizedState=[e,a===void 0?null:a],e},useContext:ot,useEffect:ap,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,El(4194308,4,lp.bind(null,a,e),s)},useLayoutEffect:function(e,a){return El(4194308,4,e,a)},useInsertionEffect:function(e,a){El(4,2,e,a)},useMemo:function(e,a){var s=vt();a=a===void 0?null:a;var l=e();if(Ba){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,a],l},useReducer:function(e,a,s){var l=vt();if(s!==void 0){var h=s(a);if(Ba){In(!0);try{s(a)}finally{In(!1)}}}else h=a;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=lS.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var a=vt();return e={current:e},a.memoizedState=e},useState:function(e){e=Qu(e);var a=e.queue,s=yp.bind(null,he,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:ec,useDeferredValue:function(e,a){var s=vt();return tc(s,e,a)},useTransition:function(){var e=Qu(!1);return e=fp.bind(null,he,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var l=he,h=vt();if(ve){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),Oe===null)throw Error(r(349));(ge&127)!==0||Hm(l,a,s)}h.memoizedState=s;var d={value:s,getSnapshot:a};return h.queue=d,ap(qm.bind(null,l,d,e),[e]),l.flags|=2048,Ri(9,{destroy:void 0},$m.bind(null,l,d,s,a),null),s},useId:function(){var e=vt(),a=Oe.identifierPrefix;if(ve){var s=pn,l=mn;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=bl++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=eS++,a="_"+a+"r_"+s.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:ac,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var a=vt();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=ic.bind(null,he,!0,s),s.dispatch=a,[e,a]},useMemoCache:Xu,useCacheRefresh:function(){return vt().memoizedState=rS.bind(null,he)},useEffectEvent:function(e){var a=vt(),s={impl:e};return a.memoizedState=s,function(){if((_e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},sc={readContext:ot,use:_l,useCallback:up,useContext:ot,useEffect:Zu,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:cp,useReducer:Sl,useRef:np,useState:function(){return Sl(Cn)},useDebugValue:ec,useDeferredValue:function(e,a){var s=Ye();return hp(s,Ae.memoizedState,e,a)},useTransition:function(){var e=Sl(Cn)[0],a=Ye().memoizedState;return[typeof e=="boolean"?e:Vs(e),a]},useSyncExternalStore:Pm,useId:pp,useHostTransitionStatus:ac,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,a){var s=Ye();return Im(s,Ae,e,a)},useMemoCache:Xu,useCacheRefresh:gp};sc.useEffectEvent=ip;var _p={readContext:ot,use:_l,useCallback:up,useContext:ot,useEffect:Zu,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:cp,useReducer:Ju,useRef:np,useState:function(){return Ju(Cn)},useDebugValue:ec,useDeferredValue:function(e,a){var s=Ye();return Ae===null?tc(s,e,a):hp(s,Ae.memoizedState,e,a)},useTransition:function(){var e=Ju(Cn)[0],a=Ye().memoizedState;return[typeof e=="boolean"?e:Vs(e),a]},useSyncExternalStore:Pm,useId:pp,useHostTransitionStatus:ac,useFormState:tp,useActionState:tp,useOptimistic:function(e,a){var s=Ye();return Ae!==null?Im(s,Ae,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:gp};_p.useEffectEvent=ip;function rc(e,a,s,l){a=e.memoizedState,s=s(l,a),s=s==null?a:v({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var lc={enqueueSetState:function(e,a,s){e=e._reactInternals;var l=Bt(),h=ea(l);h.payload=a,s!=null&&(h.callback=s),a=ta(e,h,l),a!==null&&(Rt(a,e,l),Us(a,e,l))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var l=Bt(),h=ea(l);h.tag=1,h.payload=a,s!=null&&(h.callback=s),a=ta(e,h,l),a!==null&&(Rt(a,e,l),Us(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Bt(),l=ea(s);l.tag=2,a!=null&&(l.callback=a),a=ta(e,l,s),a!==null&&(Rt(a,e,s),Us(a,e,s))}};function Sp(e,a,s,l,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):a.prototype&&a.prototype.isPureReactComponent?!Rs(s,l)||!Rs(h,d):!0}function Ep(e,a,s,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==e&&lc.enqueueReplaceState(a,a.state,null)}function Va(e,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(e=e.defaultProps){s===a&&(s=v({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Tp(e){al(e)}function xp(e){console.error(e)}function Ap(e){al(e)}function Al(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Rp(e,a,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function oc(e,a,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){Al(e,a)},s}function Cp(e){return e=ea(e),e.tag=3,e}function Op(e,a,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Rp(a,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Rp(a,s,l),typeof h!="function"&&(la===null?la=new Set([this]):la.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function oS(e,a,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&bi(a,s,h,!0),s=Mt.current,s!==null){switch(s.tag){case 31:case 13:return Qt===null?Bl():s.alternate===null&&Pe===0&&(Pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===dl?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),kc(e,l,h)),!1;case 22:return s.flags|=65536,l===dl?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),kc(e,l,h)),!1}throw Error(r(435,s.tag))}return kc(e,l,h),Bl(),!1}if(ve)return a=Mt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,l!==Ru&&(e=Error(r(422),{cause:l}),js(Yt(e,s)))):(l!==Ru&&(a=Error(r(423),{cause:l}),js(Yt(a,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Yt(l,s),h=oc(e.stateNode,l,h),Bu(e,h),Pe!==4&&(Pe=2)),!1;var d=Error(r(520),{cause:l});if(d=Yt(d,s),Fs===null?Fs=[d]:Fs.push(d),Pe!==4&&(Pe=2),a===null)return!0;l=Yt(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=oc(s.stateNode,l,e),Bu(s,e),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Op(h,e,s,l),Bu(s,h),!1}s=s.return}while(s!==null);return!1}var uc=Error(r(461)),Je=!1;function ut(e,a,s,l){a.child=e===null?km(a,null,s,l):za(a,e.child,s,l)}function jp(e,a,s,l,h){s=s.render;var d=a.ref;if("ref"in l){var y={};for(var w in l)w!=="ref"&&(y[w]=l[w])}else y=l;return ka(a),l=Gu(e,a,s,y,d,h),w=Ku(),e!==null&&!Je?(Iu(e,a,h),On(e,a,h)):(ve&&w&&xu(a),a.flags|=1,ut(e,a,l,h),a.child)}function Dp(e,a,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Su(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Np(e,a,d,l,h)):(e=ll(s.type,null,l,a,a.mode,h),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!yc(e,h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Rs,s(y,l)&&e.ref===a.ref)return On(e,a,h)}return a.flags|=1,e=En(d,l),e.ref=a.ref,e.return=a,a.child=e}function Np(e,a,s,l,h){if(e!==null){var d=e.memoizedProps;if(Rs(d,l)&&e.ref===a.ref)if(Je=!1,a.pendingProps=l=d,yc(e,h))(e.flags&131072)!==0&&(Je=!0);else return a.lanes=e.lanes,On(e,a,h)}return cc(e,a,s,l,h)}function kp(e,a,s,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=a.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,a.child=null;return Mp(e,a,d,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&hl(a,d!==null?d.cachePool:null),d!==null?Lm(a,d):Pu(),zm(a);else return l=a.lanes=536870912,Mp(e,a,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(hl(a,d.cachePool),Lm(a,d),aa(),a.memoizedState=null):(e!==null&&hl(a,null),Pu(),aa());return ut(e,a,h,s),a.child}function $s(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Mp(e,a,s,l,h){var d=Mu();return d=d===null?null:{parent:Xe._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},e!==null&&hl(a,null),Pu(),zm(a),e!==null&&bi(e,a,l,!0),a.childLanes=h,null}function Rl(e,a){return a=Ol({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Up(e,a,s){return za(a,e.child,null,s),e=Rl(a,a.pendingProps),e.flags|=2,Ut(a),a.memoizedState=null,e}function uS(e,a,s){var l=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(ve){if(l.mode==="hidden")return e=Rl(a,l),a.lanes=536870912,$s(null,e);if($u(a),(e=De)?(e=Yg(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},s=vm(e),s.return=a,a.child=s,lt=a,De=null)):e=null,e===null)throw Qn(a);return a.lanes=536870912,null}return Rl(a,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if($u(a),h)if(a.flags&256)a.flags&=-257,a=Up(e,a,s);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(r(558));else if(Je||bi(e,a,s,!1),h=(s&e.childLanes)!==0,Je||h){if(l=Oe,l!==null&&(y=xd(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Oa(e,y),Rt(l,e,y),uc;Bl(),a=Up(e,a,s)}else e=d.treeContext,De=Wt(y.nextSibling),lt=a,ve=!0,Jn=null,Jt=!1,e!==null&&_m(a,e),a=Rl(a,l),a.flags|=4096;return a}return e=En(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Cl(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function cc(e,a,s,l,h){return ka(a),s=Gu(e,a,s,l,void 0,h),l=Ku(),e!==null&&!Je?(Iu(e,a,h),On(e,a,h)):(ve&&l&&xu(a),a.flags|=1,ut(e,a,s,h),a.child)}function Lp(e,a,s,l,h,d){return ka(a),a.updateQueue=null,s=Vm(a,l,s,h),Bm(e),l=Ku(),e!==null&&!Je?(Iu(e,a,d),On(e,a,d)):(ve&&l&&xu(a),a.flags|=1,ut(e,a,s,d),a.child)}function zp(e,a,s,l,h){if(ka(a),a.stateNode===null){var d=pi,y=s.contextType;typeof y=="object"&&y!==null&&(d=ot(y)),d=new s(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lc,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},Lu(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?ot(y):pi,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(rc(a,s,y,l),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&lc.enqueueReplaceState(d,d.state,null),zs(a,l,d,h),Ls(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){d=a.stateNode;var w=a.memoizedProps,R=Va(s,w);d.props=R;var U=d.context,H=s.contextType;y=pi,typeof H=="object"&&H!==null&&(y=ot(H));var K=s.getDerivedStateFromProps;H=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||U!==y)&&Ep(a,d,l,y),Zn=!1;var L=a.memoizedState;d.state=L,zs(a,l,d,h),Ls(),U=a.memoizedState,w||L!==U||Zn?(typeof K=="function"&&(rc(a,s,K,l),U=a.memoizedState),(R=Zn||Sp(a,s,R,l,L,U,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=U),d.props=l,d.state=U,d.context=y,l=R):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,zu(e,a),y=a.memoizedProps,H=Va(s,y),d.props=H,K=a.pendingProps,L=d.context,U=s.contextType,R=pi,typeof U=="object"&&U!==null&&(R=ot(U)),w=s.getDerivedStateFromProps,(U=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==K||L!==R)&&Ep(a,d,l,R),Zn=!1,L=a.memoizedState,d.state=L,zs(a,l,d,h),Ls();var B=a.memoizedState;y!==K||L!==B||Zn||e!==null&&e.dependencies!==null&&ul(e.dependencies)?(typeof w=="function"&&(rc(a,s,w,l),B=a.memoizedState),(H=Zn||Sp(a,s,H,l,L,B,R)||e!==null&&e.dependencies!==null&&ul(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=B),d.props=l,d.state=B,d.context=R,l=H):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),l=!1)}return d=l,Cl(e,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&l?(a.child=za(a,e.child,null,h),a.child=za(a,null,s,h)):ut(e,a,s,h),a.memoizedState=d.state,e=a.child):e=On(e,a,h),e}function Bp(e,a,s,l){return Da(),a.flags|=256,ut(e,a,s,l),a.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(e){return{baseLanes:e,cachePool:Rm()}}function dc(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=zt),e}function Vp(e,a,s){var l=a.pendingProps,h=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),y&&(h=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,e===null){if(ve){if(h?na(a):aa(),(e=De)?(e=Yg(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},s=vm(e),s.return=a,a.child=s,lt=a,De=null)):e=null,e===null)throw Qn(a);return Fc(e)?a.lanes=32:a.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(aa(),h=a.mode,w=Ol({mode:"hidden",children:w},h),l=ja(l,h,s,null),w.return=a,l.return=a,w.sibling=l,a.child=w,l=a.child,l.memoizedState=fc(s),l.childLanes=dc(e,y,s),a.memoizedState=hc,$s(null,l)):(na(a),mc(a,w))}var R=e.memoizedState;if(R!==null&&(w=R.dehydrated,w!==null)){if(d)a.flags&256?(na(a),a.flags&=-257,a=pc(e,a,s)):a.memoizedState!==null?(aa(),a.child=e.child,a.flags|=128,a=null):(aa(),w=l.fallback,h=a.mode,l=Ol({mode:"visible",children:l.children},h),w=ja(w,h,s,null),w.flags|=2,l.return=a,w.return=a,l.sibling=w,a.child=l,za(a,e.child,null,s),l=a.child,l.memoizedState=fc(s),l.childLanes=dc(e,y,s),a.memoizedState=hc,a=$s(null,l));else if(na(a),Fc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var U=y.dgst;y=U,l=Error(r(419)),l.stack="",l.digest=y,js({value:l,source:null,stack:null}),a=pc(e,a,s)}else if(Je||bi(e,a,s,!1),y=(s&e.childLanes)!==0,Je||y){if(y=Oe,y!==null&&(l=xd(y,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Oa(e,l),Rt(y,e,l),uc;Xc(w)||Bl(),a=pc(e,a,s)}else Xc(w)?(a.flags|=192,a.child=e.child,a=null):(e=R.treeContext,De=Wt(w.nextSibling),lt=a,ve=!0,Jn=null,Jt=!1,e!==null&&_m(a,e),a=mc(a,l.children),a.flags|=4096);return a}return h?(aa(),w=l.fallback,h=a.mode,R=e.child,U=R.sibling,l=En(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?w=En(U,w):(w=ja(w,h,s,null),w.flags|=2),w.return=a,l.return=a,l.sibling=w,a.child=l,$s(null,l),l=a.child,w=e.child.memoizedState,w===null?w=fc(s):(h=w.cachePool,h!==null?(R=Xe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Rm(),w={baseLanes:w.baseLanes|s,cachePool:h}),l.memoizedState=w,l.childLanes=dc(e,y,s),a.memoizedState=hc,$s(e.child,l)):(na(a),s=e.child,e=s.sibling,s=En(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,e!==null&&(y=a.deletions,y===null?(a.deletions=[e],a.flags|=16):y.push(e)),a.child=s,a.memoizedState=null,s)}function mc(e,a){return a=Ol({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Ol(e,a){return e=kt(22,e,null,a),e.lanes=0,e}function pc(e,a,s){return za(a,e.child,null,s),e=mc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Pp(e,a,s){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),ju(e.return,a,s)}function gc(e,a,s,l,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=h,y.treeForkCount=d)}function Hp(e,a,s){var l=a.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=Ie.current,w=(y&2)!==0;if(w?(y=y&1|2,a.flags|=128):y&=1,J(Ie,y),ut(e,a,l,s),l=ve?Os:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pp(e,s,a);else if(e.tag===19)Pp(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=a.child,h=null;s!==null;)e=s.alternate,e!==null&&yl(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=a.child,a.child=null):(h=s.sibling,s.sibling=null),gc(a,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=a.child,a.child=null;h!==null;){if(e=h.alternate,e!==null&&yl(e)===null){a.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}gc(a,!0,s,null,d,l);break;case"together":gc(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function On(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ra|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(bi(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(r(153));if(a.child!==null){for(e=a.child,s=En(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=En(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function yc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&ul(e)))}function cS(e,a,s){switch(a.tag){case 3:yt(a,a.stateNode.containerInfo),Wn(a,Xe,e.memoizedState.cache),Da();break;case 27:case 5:ms(a);break;case 4:yt(a,a.stateNode.containerInfo);break;case 10:Wn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,$u(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(na(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Vp(e,a,s):(na(a),e=On(e,a,s),e!==null?e.sibling:null);na(a);break;case 19:var h=(e.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(bi(e,a,s,!1),l=(s&a.childLanes)!==0),h){if(l)return Hp(e,a,s);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ie,Ie.current),l)break;return null;case 22:return a.lanes=0,kp(e,a,s,a.pendingProps);case 24:Wn(a,Xe,e.memoizedState.cache)}return On(e,a,s)}function $p(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)Je=!0;else{if(!yc(e,s)&&(a.flags&128)===0)return Je=!1,cS(e,a,s);Je=(e.flags&131072)!==0}else Je=!1,ve&&(a.flags&1048576)!==0&&wm(a,Os,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=Ua(a.elementType),a.type=e,typeof e=="function")Su(e)?(l=Va(e,l),a.tag=1,a=zp(null,a,e,l,s)):(a.tag=0,a=cc(null,a,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===z){a.tag=11,a=jp(null,a,e,l,s);break e}else if(h===Y){a.tag=14,a=Dp(null,a,e,l,s);break e}}throw a=wt(e)||e,Error(r(306,a,""))}}return a;case 0:return cc(e,a,a.type,a.pendingProps,s);case 1:return l=a.type,h=Va(l,a.pendingProps),zp(e,a,l,h,s);case 3:e:{if(yt(a,a.stateNode.containerInfo),e===null)throw Error(r(387));l=a.pendingProps;var d=a.memoizedState;h=d.element,zu(e,a),zs(a,l,null,s);var y=a.memoizedState;if(l=y.cache,Wn(a,Xe,l),l!==d.cache&&Du(a,[Xe],s,!0),Ls(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Bp(e,a,l,s);break e}else if(l!==h){h=Yt(Error(r(424)),a),js(h),a=Bp(e,a,l,s);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,De=Wt(e.firstChild),lt=a,ve=!0,Jn=null,Jt=!0,s=km(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Da(),l===h){a=On(e,a,s);break e}ut(e,a,l,s)}a=a.child}return a;case 26:return Cl(e,a),e===null?(s=Zg(a.type,null,a.pendingProps,null))?a.memoizedState=s:ve||(s=a.type,e=a.pendingProps,l=Kl(de.current).createElement(s),l[rt]=a,l[_t]=e,ct(l,s,e),it(l),a.stateNode=l):a.memoizedState=Zg(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return ms(a),e===null&&ve&&(l=a.stateNode=Jg(a.type,a.pendingProps,de.current),lt=a,Jt=!0,h=De,ha(a.type)?(Jc=h,De=Wt(l.firstChild)):De=h),ut(e,a,a.pendingProps.children,s),Cl(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&ve&&((h=l=De)&&(l=PS(l,a.type,a.pendingProps,Jt),l!==null?(a.stateNode=l,lt=a,De=Wt(l.firstChild),Jt=!1,h=!0):h=!1),h||Qn(a)),ms(a),h=a.type,d=a.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Kc(h,d)?l=null:y!==null&&Kc(h,y)&&(a.flags|=32),a.memoizedState!==null&&(h=Gu(e,a,tS,null,null,s),ar._currentValue=h),Cl(e,a),ut(e,a,l,s),a.child;case 6:return e===null&&ve&&((e=s=De)&&(s=HS(s,a.pendingProps,Jt),s!==null?(a.stateNode=s,lt=a,De=null,e=!0):e=!1),e||Qn(a)),null;case 13:return Vp(e,a,s);case 4:return yt(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=za(a,null,l,s):ut(e,a,l,s),a.child;case 11:return jp(e,a,a.type,a.pendingProps,s);case 7:return ut(e,a,a.pendingProps,s),a.child;case 8:return ut(e,a,a.pendingProps.children,s),a.child;case 12:return ut(e,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Wn(a,a.type,l.value),ut(e,a,l.children,s),a.child;case 9:return h=a.type._context,l=a.pendingProps.children,ka(a),h=ot(h),l=l(h),a.flags|=1,ut(e,a,l,s),a.child;case 14:return Dp(e,a,a.type,a.pendingProps,s);case 15:return Np(e,a,a.type,a.pendingProps,s);case 19:return Hp(e,a,s);case 31:return uS(e,a,s);case 22:return kp(e,a,s,a.pendingProps);case 24:return ka(a),l=ot(Xe),e===null?(h=Mu(),h===null&&(h=Oe,d=Nu(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),a.memoizedState={parent:l,cache:h},Lu(a),Wn(a,Xe,h)):((e.lanes&s)!==0&&(zu(e,a),zs(a,null,null,s),Ls()),h=e.memoizedState,d=a.memoizedState,h.parent!==l?(h={parent:l,cache:l},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),Wn(a,Xe,l)):(l=d.cache,Wn(a,Xe,l),l!==h.cache&&Du(a,[Xe],s,!0))),ut(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function jn(e){e.flags|=4}function vc(e,a,s,l,h){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(pg())e.flags|=8192;else throw La=dl,Uu}else e.flags&=-16777217}function qp(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!iy(a))if(pg())e.flags|=8192;else throw La=dl,Uu}function jl(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Sd():536870912,e.lanes|=a,Di|=a)}function qs(e,a){if(!ve)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ne(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(a)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,a}function hS(e,a,s){var l=a.pendingProps;switch(Au(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(a),null;case 1:return Ne(a),null;case 3:return s=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),An(Xe),Ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(vi(a)?jn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cu())),Ne(a),null;case 26:var h=a.type,d=a.memoizedState;return e===null?(jn(a),d!==null?(Ne(a),qp(a,d)):(Ne(a),vc(a,h,null,l,s))):d?d!==e.memoizedState?(jn(a),Ne(a),qp(a,d)):(Ne(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&jn(a),Ne(a),vc(a,h,e,l,s)),null;case 27:if(Hr(a),s=de.current,h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&jn(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return Ne(a),null}e=W.current,vi(a)?Sm(a):(e=Jg(h,l,s),a.stateNode=e,jn(a))}return Ne(a),null;case 5:if(Hr(a),h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&jn(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return Ne(a),null}if(d=W.current,vi(a))Sm(a);else{var y=Kl(de.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[rt]=a,d[_t]=l;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=d;e:switch(ct(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jn(a)}}return Ne(a),vc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,s),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&jn(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(e=de.current,vi(a)){if(e=a.stateNode,s=a.memoizedProps,l=null,h=lt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[rt]=a,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Vg(e.nodeValue,s)),e||Qn(a,!0)}else e=Kl(e).createTextNode(l),e[rt]=a,a.stateNode=e}return Ne(a),null;case 31:if(s=a.memoizedState,e===null||e.memoizedState!==null){if(l=vi(a),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[rt]=a}else Da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ne(a),e=!1}else s=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return a.flags&256?(Ut(a),a):(Ut(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ne(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vi(a),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[rt]=a}else Da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ne(a),h=!1}else h=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ut(a),a):(Ut(a),null)}return Ut(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=a.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==e&&s&&(a.child.flags|=8192),jl(a,a.updateQueue),Ne(a),null);case 4:return Ke(),e===null&&Pc(a.stateNode.containerInfo),Ne(a),null;case 10:return An(a.type),Ne(a),null;case 19:if(q(Ie),l=a.memoizedState,l===null)return Ne(a),null;if(h=(a.flags&128)!==0,d=l.rendering,d===null)if(h)qs(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=yl(e),d!==null){for(a.flags|=128,qs(l,!1),e=d.updateQueue,a.updateQueue=e,jl(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)ym(s,e),s=s.sibling;return J(Ie,Ie.current&1|2),ve&&Tn(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&Ot()>Ul&&(a.flags|=128,h=!0,qs(l,!1),a.lanes=4194304)}else{if(!h)if(e=yl(d),e!==null){if(a.flags|=128,h=!0,e=e.updateQueue,a.updateQueue=e,jl(a,e),qs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ve)return Ne(a),null}else 2*Ot()-l.renderingStartTime>Ul&&s!==536870912&&(a.flags|=128,h=!0,qs(l,!1),a.lanes=4194304);l.isBackwards?(d.sibling=a.child,a.child=d):(e=l.last,e!==null?e.sibling=d:a.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ot(),e.sibling=null,s=Ie.current,J(Ie,h?s&1|2:s&1),ve&&Tn(a,l.treeForkCount),e):(Ne(a),null);case 22:case 23:return Ut(a),Hu(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(Ne(a),a.subtreeFlags&6&&(a.flags|=8192)):Ne(a),s=a.updateQueue,s!==null&&jl(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),e!==null&&q(Ma),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),An(Xe),Ne(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function fS(e,a){switch(Au(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return An(Xe),Ke(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Hr(a),null;case 31:if(a.memoizedState!==null){if(Ut(a),a.alternate===null)throw Error(r(340));Da()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Ut(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Da()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return q(Ie),null;case 4:return Ke(),null;case 10:return An(a.type),null;case 22:case 23:return Ut(a),Hu(),e!==null&&q(Ma),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return An(Xe),null;case 25:return null;default:return null}}function Gp(e,a){switch(Au(a),a.tag){case 3:An(Xe),Ke();break;case 26:case 27:case 5:Hr(a);break;case 4:Ke();break;case 31:a.memoizedState!==null&&Ut(a);break;case 13:Ut(a);break;case 19:q(Ie);break;case 10:An(a.type);break;case 22:case 23:Ut(a),Hu(),e!==null&&q(Ma);break;case 24:An(Xe)}}function Gs(e,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==h)}}catch(w){xe(a,a.return,w)}}function ia(e,a,s){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var y=l.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,h=a;var R=s,U=w;try{U()}catch(H){xe(h,R,H)}}}l=l.next}while(l!==d)}}catch(H){xe(a,a.return,H)}}function Kp(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Um(a,s)}catch(l){xe(e,e.return,l)}}}function Ip(e,a,s){s.props=Va(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){xe(e,a,l)}}function Ks(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){xe(e,a,h)}}function gn(e,a){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){xe(e,a,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){xe(e,a,h)}else s.current=null}function Yp(e){var a=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){xe(e,e.return,h)}}function bc(e,a,s){try{var l=e.stateNode;MS(l,e.type,s,a),l[_t]=a}catch(h){xe(e,e.return,h)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,a,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=_n));else if(l!==4&&(l===27&&ha(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(_c(e,a,s),e=e.sibling;e!==null;)_c(e,a,s),e=e.sibling}function Dl(e,a,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(l!==4&&(l===27&&ha(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Dl(e,a,s),e=e.sibling;e!==null;)Dl(e,a,s),e=e.sibling}function Fp(e){var a=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);ct(a,l,s),a[rt]=e,a[_t]=s}catch(d){xe(e,e.return,d)}}var Dn=!1,Qe=!1,Sc=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,st=null;function dS(e,a){if(e=e.containerInfo,qc=Wl,e=om(e),pu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,w=-1,R=-1,U=0,H=0,K=e,L=null;t:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(w=y+h),K!==d||l!==0&&K.nodeType!==3||(R=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)L=K,K=B;for(;;){if(K===e)break t;if(L===s&&++U===h&&(w=y),L===d&&++H===l&&(R=y),(B=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=B}s=w===-1||R===-1?null:{start:w,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gc={focusedElem:e,selectionRange:s},Wl=!1,st=a;st!==null;)if(a=st,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,st=e;else for(;st!==null;){switch(a=st,d=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=a,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Q=Va(s.type,h);e=l.getSnapshotBeforeUpdate(Q,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ne){xe(s,s.return,ne)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Yc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=a.sibling,e!==null){e.return=a.return,st=e;break}st=a.return}}function Qp(e,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:kn(e,s),l&4&&Gs(5,s);break;case 1:if(kn(e,s),l&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(y){xe(s,s.return,y)}else{var h=Va(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(h,a,e.__reactInternalSnapshotBeforeUpdate)}catch(y){xe(s,s.return,y)}}l&64&&Kp(s),l&512&&Ks(s,s.return);break;case 3:if(kn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Um(e,a)}catch(y){xe(s,s.return,y)}}break;case 27:a===null&&l&4&&Fp(s);case 26:case 5:kn(e,s),a===null&&l&4&&Yp(s),l&512&&Ks(s,s.return);break;case 12:kn(e,s);break;case 31:kn(e,s),l&4&&eg(e,s);break;case 13:kn(e,s),l&4&&tg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=SS.bind(null,s),$S(e,s))));break;case 22:if(l=s.memoizedState!==null||Dn,!l){a=a!==null&&a.memoizedState!==null||Qe,h=Dn;var d=Qe;Dn=l,(Qe=a)&&!d?Mn(e,s,(s.subtreeFlags&8772)!==0):kn(e,s),Dn=h,Qe=d}break;case 30:break;default:kn(e,s)}}function Wp(e){var a=e.alternate;a!==null&&(e.alternate=null,Wp(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Wo(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Et=!1;function Nn(e,a,s){for(s=s.child;s!==null;)Zp(e,a,s),s=s.sibling}function Zp(e,a,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ps,s)}catch{}switch(s.tag){case 26:Qe||gn(s,a),Nn(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Qe||gn(s,a);var l=ke,h=Et;ha(s.type)&&(ke=s.stateNode,Et=!1),Nn(e,a,s),er(s.stateNode),ke=l,Et=h;break;case 5:Qe||gn(s,a);case 6:if(l=ke,h=Et,ke=null,Nn(e,a,s),ke=l,Et=h,ke!==null)if(Et)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(s.stateNode)}catch(d){xe(s,a,d)}else try{ke.removeChild(s.stateNode)}catch(d){xe(s,a,d)}break;case 18:ke!==null&&(Et?(e=ke,Kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Vi(e)):Kg(ke,s.stateNode));break;case 4:l=ke,h=Et,ke=s.stateNode.containerInfo,Et=!0,Nn(e,a,s),ke=l,Et=h;break;case 0:case 11:case 14:case 15:ia(2,s,a),Qe||ia(4,s,a),Nn(e,a,s);break;case 1:Qe||(gn(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ip(s,a,l)),Nn(e,a,s);break;case 21:Nn(e,a,s);break;case 22:Qe=(l=Qe)||s.memoizedState!==null,Nn(e,a,s),Qe=l;break;default:Nn(e,a,s)}}function eg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vi(e)}catch(s){xe(a,a.return,s)}}}function tg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vi(e)}catch(s){xe(a,a.return,s)}}function mS(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Jp),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Jp),a;default:throw Error(r(435,e.tag))}}function Nl(e,a){var s=mS(e);a.forEach(function(l){if(!s.has(l)){s.add(l);var h=ES.bind(null,e,l);l.then(h,h)}})}function Tt(e,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,y=a,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(ha(w.type)){ke=w.stateNode,Et=!1;break e}break;case 5:ke=w.stateNode,Et=!1;break e;case 3:case 4:ke=w.stateNode.containerInfo,Et=!0;break e}w=w.return}if(ke===null)throw Error(r(160));Zp(d,y,h),ke=null,Et=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ng(a,e),a=a.sibling}var rn=null;function ng(e,a){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(a,e),xt(e),l&4&&(ia(3,e,e.return),Gs(3,e),ia(5,e,e.return));break;case 1:Tt(a,e),xt(e),l&512&&(Qe||s===null||gn(s,s.return)),l&64&&Dn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=rn;if(Tt(a,e),xt(e),l&512&&(Qe||s===null||gn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vs]||d[rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ct(d,l,s),d[rt]=e,it(d),l=d;break e;case"link":var y=ny("link","href",h).get(l+(s.href||""));if(y){for(var w=0;w<y.length;w++)if(d=y[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(w,1);break t}}d=h.createElement(l),ct(d,l,s),h.head.appendChild(d);break;case"meta":if(y=ny("meta","content",h).get(l+(s.content||""))){for(w=0;w<y.length;w++)if(d=y[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(w,1);break t}}d=h.createElement(l),ct(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[rt]=e,it(d),l=d}e.stateNode=l}else ay(h,e.type,e.stateNode);else e.stateNode=ty(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?ay(h,e.type,e.stateNode):ty(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&bc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Tt(a,e),xt(e),l&512&&(Qe||s===null||gn(s,s.return)),s!==null&&l&4&&bc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Tt(a,e),xt(e),l&512&&(Qe||s===null||gn(s,s.return)),e.flags&32){h=e.stateNode;try{oi(h,"")}catch(Q){xe(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,bc(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Sc=!0);break;case 6:if(Tt(a,e),xt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Q){xe(e,e.return,Q)}}break;case 3:if(Xl=null,h=rn,rn=Il(a.containerInfo),Tt(a,e),rn=h,xt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Vi(a.containerInfo)}catch(Q){xe(e,e.return,Q)}Sc&&(Sc=!1,ag(e));break;case 4:l=rn,rn=Il(e.stateNode.containerInfo),Tt(a,e),xt(e),rn=l;break;case 12:Tt(a,e),xt(e);break;case 31:Tt(a,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 13:Tt(a,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ml=Ot()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,U=Dn,H=Qe;if(Dn=U||h,Qe=H||R,Tt(a,e),Qe=H,Dn=U,xt(e),l&8192)e:for(a=e.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(s===null||R||Dn||Qe||Pa(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){R=s=a;try{if(d=R.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=R.stateNode;var K=R.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;w.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Q){xe(R,R.return,Q)}}}else if(a.tag===6){if(s===null){R=a;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(Q){xe(R,R.return,Q)}}}else if(a.tag===18){if(s===null){R=a;try{var B=R.stateNode;h?Ig(B,!0):Ig(R.stateNode,!1)}catch(Q){xe(R,R.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Nl(e,s))));break;case 19:Tt(a,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 30:break;case 21:break;default:Tt(a,e),xt(e)}}function xt(e){var a=e.flags;if(a&2){try{for(var s,l=e.return;l!==null;){if(Xp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=wc(e);Dl(e,d,h);break;case 5:var y=s.stateNode;s.flags&32&&(oi(y,""),s.flags&=-33);var w=wc(e);Dl(e,w,y);break;case 3:case 4:var R=s.stateNode.containerInfo,U=wc(e);_c(e,U,R);break;default:throw Error(r(161))}}catch(H){xe(e,e.return,H)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function ag(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;ag(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function kn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qp(e,a.alternate,a),a=a.sibling}function Pa(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ia(4,a,a.return),Pa(a);break;case 1:gn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Ip(a,a.return,s),Pa(a);break;case 27:er(a.stateNode);case 26:case 5:gn(a,a.return),Pa(a);break;case 22:a.memoizedState===null&&Pa(a);break;case 30:Pa(a);break;default:Pa(a)}e=e.sibling}}function Mn(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,h=e,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:Mn(h,d,s),Gs(4,d);break;case 1:if(Mn(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){xe(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Mm(R[h],w)}catch(U){xe(l,l.return,U)}}s&&y&64&&Kp(d),Ks(d,d.return);break;case 27:Fp(d);case 26:case 5:Mn(h,d,s),s&&l===null&&y&4&&Yp(d),Ks(d,d.return);break;case 12:Mn(h,d,s);break;case 31:Mn(h,d,s),s&&y&4&&eg(h,d);break;case 13:Mn(h,d,s),s&&y&4&&tg(h,d);break;case 22:d.memoizedState===null&&Mn(h,d,s),Ks(d,d.return);break;case 30:break;default:Mn(h,d,s)}a=a.sibling}}function Ec(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ds(s))}function Tc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ds(e))}function ln(e,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ig(e,a,s,l),a=a.sibling}function ig(e,a,s,l){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ln(e,a,s,l),h&2048&&Gs(9,a);break;case 1:ln(e,a,s,l);break;case 3:ln(e,a,s,l),h&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ds(e)));break;case 12:if(h&2048){ln(e,a,s,l),e=a.stateNode;try{var d=a.memoizedProps,y=d.id,w=d.onPostCommit;typeof w=="function"&&w(y,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){xe(a,a.return,R)}}else ln(e,a,s,l);break;case 31:ln(e,a,s,l);break;case 13:ln(e,a,s,l);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?ln(e,a,s,l):Is(e,a):d._visibility&2?ln(e,a,s,l):(d._visibility|=2,Ci(e,a,s,l,(a.subtreeFlags&10256)!==0||!1)),h&2048&&Ec(y,a);break;case 24:ln(e,a,s,l),h&2048&&Tc(a.alternate,a);break;default:ln(e,a,s,l)}}function Ci(e,a,s,l,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=e,y=a,w=s,R=l,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ci(d,y,w,R,h),Gs(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ci(d,y,w,R,h):Is(d,y):(H._visibility|=2,Ci(d,y,w,R,h)),h&&U&2048&&Ec(y.alternate,y);break;case 24:Ci(d,y,w,R,h),h&&U&2048&&Tc(y.alternate,y);break;default:Ci(d,y,w,R,h)}a=a.sibling}}function Is(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,l=a,h=l.flags;switch(l.tag){case 22:Is(s,l),h&2048&&Ec(l.alternate,l);break;case 24:Is(s,l),h&2048&&Tc(l.alternate,l);break;default:Is(s,l)}a=a.sibling}}var Ys=8192;function Oi(e,a,s){if(e.subtreeFlags&Ys)for(e=e.child;e!==null;)sg(e,a,s),e=e.sibling}function sg(e,a,s){switch(e.tag){case 26:Oi(e,a,s),e.flags&Ys&&e.memoizedState!==null&&eE(s,rn,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,a,s);break;case 3:case 4:var l=rn;rn=Il(e.stateNode.containerInfo),Oi(e,a,s),rn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ys,Ys=16777216,Oi(e,a,s),Ys=l):Oi(e,a,s));break;default:Oi(e,a,s)}}function rg(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Xs(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];st=l,og(l,e)}rg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lg(e),e=e.sibling}function lg(e){switch(e.tag){case 0:case 11:case 15:Xs(e),e.flags&2048&&ia(9,e,e.return);break;case 3:Xs(e);break;case 12:Xs(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,kl(e)):Xs(e);break;default:Xs(e)}}function kl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];st=l,og(l,e)}rg(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ia(8,a,a.return),kl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,kl(a));break;default:kl(a)}e=e.sibling}}function og(e,a){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:ia(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ds(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,st=l;else e:for(s=e;st!==null;){l=st;var h=l.sibling,d=l.return;if(Wp(l),l===s){st=null;break e}if(h!==null){h.return=d,st=h;break e}st=d}}}var pS={getCacheForType:function(e){var a=ot(Xe),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s},cacheSignal:function(){return ot(Xe).controller.signal}},gS=typeof WeakMap=="function"?WeakMap:Map,_e=0,Oe=null,me=null,ge=0,Te=0,Lt=null,sa=!1,ji=!1,xc=!1,Un=0,Pe=0,ra=0,Ha=0,Ac=0,zt=0,Di=0,Fs=null,At=null,Rc=!1,Ml=0,ug=0,Ul=1/0,Ll=null,la=null,et=0,oa=null,Ni=null,Ln=0,Cc=0,Oc=null,cg=null,Js=0,jc=null;function Bt(){return(_e&2)!==0&&ge!==0?ge&-ge:$.T!==null?Lc():Ad()}function hg(){if(zt===0)if((ge&536870912)===0||ve){var e=Gr;Gr<<=1,(Gr&3932160)===0&&(Gr=262144),zt=e}else zt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),zt}function Rt(e,a,s){(e===Oe&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(ki(e,0),ua(e,ge,zt,!1)),ys(e,s),((_e&2)===0||e!==Oe)&&(e===Oe&&((_e&2)===0&&(Ha|=s),Pe===4&&ua(e,ge,zt,!1)),yn(e))}function fg(e,a,s){if((_e&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&e.expiredLanes)===0||gs(e,a),h=l?bS(e,a):Nc(e,a,!0),d=l;do{if(h===0){ji&&!l&&ua(e,a,0,!1);break}else{if(s=e.current.alternate,d&&!yS(s)){h=Nc(e,a,!1),d=!1;continue}if(h===2){if(d=a,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var w=e;h=Fs;var R=w.current.memoizedState.isDehydrated;if(R&&(ki(w,y).flags|=256),y=Nc(w,y,!1),y!==2){if(xc&&!R){w.errorRecoveryDisabledLanes|=d,Ha|=d,h=4;break e}d=At,At=h,d!==null&&(At===null?At=d:At.push.apply(At,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){ki(e,0),ua(e,a,0,!0);break}e:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ua(l,a,zt,!sa);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=Ml+300-Ot(),10<h)){if(ua(l,a,zt,!sa),Ir(l,0,!0)!==0)break e;Ln=a,l.timeoutHandle=qg(dg.bind(null,l,s,At,Ll,Rc,a,zt,Ha,Di,sa,d,"Throttled",-0,0),h);break e}dg(l,s,At,Ll,Rc,a,zt,Ha,Di,sa,d,null,-0,0)}}break}while(!0);yn(e)}function dg(e,a,s,l,h,d,y,w,R,U,H,K,L,B){if(e.timeoutHandle=-1,K=a.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},sg(a,d,K);var Q=(d&62914560)===d?Ml-Ot():(d&4194048)===d?ug-Ot():0;if(Q=tE(K,Q),Q!==null){Ln=d,e.cancelPendingCommit=Q(_g.bind(null,e,a,d,s,l,h,y,w,R,H,K,null,L,B)),ua(e,d,y,!U);return}}_g(e,a,d,s,l,h,y,w,R)}function yS(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Nt(d(),h))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(e,a,s,l){a&=~Ac,a&=~Ha,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var h=a;0<h;){var d=31-Dt(h),y=1<<d;l[d]=-1,h&=~y}s!==0&&Ed(e,s,a)}function zl(){return(_e&6)===0?(Qs(0),!1):!0}function Dc(){if(me!==null){if(Te===0)var e=me.return;else e=me,xn=Na=null,Yu(e),Ei=null,ks=0,e=me;for(;e!==null;)Gp(e.alternate,e),e=e.return;me=null}}function ki(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ln=0,Dc(),Oe=e,me=s=En(e.current,null),ge=a,Te=0,Lt=null,sa=!1,ji=gs(e,a),xc=!1,Di=zt=Ac=Ha=ra=Pe=0,At=Fs=null,Rc=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var h=31-Dt(l),d=1<<h;a|=e[h],l&=~d}return Un=a,il(),s}function mg(e,a){he=null,$.H=Hs,a===Si||a===fl?(a=jm(),Te=3):a===Uu?(a=jm(),Te=4):Te=a===uc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Lt=a,me===null&&(Pe=1,Al(e,Yt(a,e.current)))}function pg(){var e=Mt.current;return e===null?!0:(ge&4194048)===ge?Qt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Qt:!1}function gg(){var e=$.H;return $.H=Hs,e===null?Hs:e}function yg(){var e=$.A;return $.A=pS,e}function Bl(){Pe=4,sa||(ge&4194048)!==ge&&Mt.current!==null||(ji=!0),(ra&134217727)===0&&(Ha&134217727)===0||Oe===null||ua(Oe,ge,zt,!1)}function Nc(e,a,s){var l=_e;_e|=2;var h=gg(),d=yg();(Oe!==e||ge!==a)&&(Ll=null,ki(e,a)),a=!1;var y=Pe;e:do try{if(Te!==0&&me!==null){var w=me,R=Lt;switch(Te){case 8:Dc(),y=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(a=!0);var U=Te;if(Te=0,Lt=null,Mi(e,w,R,U),s&&ji){y=0;break e}break;default:U=Te,Te=0,Lt=null,Mi(e,w,R,U)}}vS(),y=Pe;break}catch(H){mg(e,H)}while(!0);return a&&e.shellSuspendCounter++,xn=Na=null,_e=l,$.H=h,$.A=d,me===null&&(Oe=null,ge=0,il()),y}function vS(){for(;me!==null;)vg(me)}function bS(e,a){var s=_e;_e|=2;var l=gg(),h=yg();Oe!==e||ge!==a?(Ll=null,Ul=Ot()+500,ki(e,a)):ji=gs(e,a);e:do try{if(Te!==0&&me!==null){a=me;var d=Lt;t:switch(Te){case 1:Te=0,Lt=null,Mi(e,a,d,1);break;case 2:case 9:if(Cm(d)){Te=0,Lt=null,bg(a);break}a=function(){Te!==2&&Te!==9||Oe!==e||(Te=7),yn(e)},d.then(a,a);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Cm(d)?(Te=0,Lt=null,bg(a)):(Te=0,Lt=null,Mi(e,a,d,7));break;case 5:var y=null;switch(me.tag){case 26:y=me.memoizedState;case 5:case 27:var w=me;if(y?iy(y):w.stateNode.complete){Te=0,Lt=null;var R=w.sibling;if(R!==null)me=R;else{var U=w.return;U!==null?(me=U,Vl(U)):me=null}break t}}Te=0,Lt=null,Mi(e,a,d,5);break;case 6:Te=0,Lt=null,Mi(e,a,d,6);break;case 8:Dc(),Pe=6;break e;default:throw Error(r(462))}}wS();break}catch(H){mg(e,H)}while(!0);return xn=Na=null,$.H=l,$.A=h,_e=s,me!==null?0:(Oe=null,ge=0,il(),Pe)}function wS(){for(;me!==null&&!qw();)vg(me)}function vg(e){var a=$p(e.alternate,e,Un);e.memoizedProps=e.pendingProps,a===null?Vl(e):me=a}function bg(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Lp(s,a,a.pendingProps,a.type,void 0,ge);break;case 11:a=Lp(s,a,a.pendingProps,a.type.render,a.ref,ge);break;case 5:Yu(a);default:Gp(s,a),a=me=ym(a,Un),a=$p(s,a,Un)}e.memoizedProps=e.pendingProps,a===null?Vl(e):me=a}function Mi(e,a,s,l){xn=Na=null,Yu(a),Ei=null,ks=0;var h=a.return;try{if(oS(e,h,a,s,ge)){Pe=1,Al(e,Yt(s,e.current)),me=null;return}}catch(d){if(h!==null)throw me=h,d;Pe=1,Al(e,Yt(s,e.current)),me=null;return}a.flags&32768?(ve||l===1?e=!0:ji||(ge&536870912)!==0?e=!1:(sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mt.current,l!==null&&l.tag===13&&(l.flags|=16384))),wg(a,e)):Vl(a)}function Vl(e){var a=e;do{if((a.flags&32768)!==0){wg(a,sa);return}e=a.return;var s=hS(a.alternate,a,Un);if(s!==null){me=s;return}if(a=a.sibling,a!==null){me=a;return}me=a=e}while(a!==null);Pe===0&&(Pe=5)}function wg(e,a){do{var s=fS(e.alternate,e);if(s!==null){s.flags&=32767,me=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){me=e;return}me=e=s}while(e!==null);Pe=6,me=null}function _g(e,a,s,l,h,d,y,w,R){e.cancelPendingCommit=null;do Pl();while(et!==0);if((_e&6)!==0)throw Error(r(327));if(a!==null){if(a===e.current)throw Error(r(177));if(d=a.lanes|a.childLanes,d|=wu,Zw(e,s,d,y,w,R),e===Oe&&(me=Oe=null,ge=0),Ni=a,oa=e,Ln=s,Cc=d,Oc=h,cg=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TS($r,function(){return Ag(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=P.p,P.p=2,y=_e,_e|=4;try{dS(e,a,s)}finally{_e=y,P.p=h,$.T=l}}et=1,Sg(),Eg(),Tg()}}function Sg(){if(et===1){et=0;var e=oa,a=Ni,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=P.p;P.p=2;var h=_e;_e|=4;try{ng(a,e);var d=Gc,y=om(e.containerInfo),w=d.focusedElem,R=d.selectionRange;if(y!==w&&w&&w.ownerDocument&&lm(w.ownerDocument.documentElement,w)){if(R!==null&&pu(w)){var U=R.start,H=R.end;if(H===void 0&&(H=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min(H,w.value.length);else{var K=w.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var B=L.getSelection(),Q=w.textContent.length,ne=Math.min(R.start,Q),Ce=R.end===void 0?ne:Math.min(R.end,Q);!B.extend&&ne>Ce&&(y=Ce,Ce=ne,ne=y);var k=rm(w,ne),D=rm(w,Ce);if(k&&D&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var M=K.createRange();M.setStart(k.node,k.offset),B.removeAllRanges(),ne>Ce?(B.addRange(M),B.extend(D.node,D.offset)):(M.setEnd(D.node,D.offset),B.addRange(M))}}}}for(K=[],B=w;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<K.length;w++){var G=K[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Wl=!!qc,Gc=qc=null}finally{_e=h,P.p=l,$.T=s}}e.current=a,et=2}}function Eg(){if(et===2){et=0;var e=oa,a=Ni,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=P.p;P.p=2;var h=_e;_e|=4;try{Qp(e,a.alternate,a)}finally{_e=h,P.p=l,$.T=s}}et=3}}function Tg(){if(et===4||et===3){et=0,Gw();var e=oa,a=Ni,s=Ln,l=cg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?et=5:(et=0,Ni=oa=null,xg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(la=null),Jo(s),a=a.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ps,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=$.T,h=P.p,P.p=2,$.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var w=l[y];d(w.value,{componentStack:w.stack})}}finally{$.T=a,P.p=h}}(Ln&3)!==0&&Pl(),yn(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===jc?Js++:(Js=0,jc=e):Js=0,Qs(0)}}function xg(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Ds(a)))}function Pl(){return Sg(),Eg(),Tg(),Ag()}function Ag(){if(et!==5)return!1;var e=oa,a=Cc;Cc=0;var s=Jo(Ln),l=$.T,h=P.p;try{P.p=32>s?32:s,$.T=null,s=Oc,Oc=null;var d=oa,y=Ln;if(et=0,Ni=oa=null,Ln=0,(_e&6)!==0)throw Error(r(331));var w=_e;if(_e|=4,lg(d.current),ig(d,d.current,y,s),_e=w,Qs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ps,d)}catch{}return!0}finally{P.p=h,$.T=l,xg(e,a)}}function Rg(e,a,s){a=Yt(s,a),a=oc(e.stateNode,a,2),e=ta(e,a,2),e!==null&&(ys(e,2),yn(e))}function xe(e,a,s){if(e.tag===3)Rg(e,e,s);else for(;a!==null;){if(a.tag===3){Rg(a,e,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){e=Yt(s,e),s=Cp(2),l=ta(a,s,2),l!==null&&(Op(s,l,a,e),ys(l,2),yn(l));break}}a=a.return}}function kc(e,a,s){var l=e.pingCache;if(l===null){l=e.pingCache=new gS;var h=new Set;l.set(a,h)}else h=l.get(a),h===void 0&&(h=new Set,l.set(a,h));h.has(s)||(xc=!0,h.add(s),e=_S.bind(null,e,a,s),a.then(e,e))}function _S(e,a,s){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Oe===e&&(ge&s)===s&&(Pe===4||Pe===3&&(ge&62914560)===ge&&300>Ot()-Ml?(_e&2)===0&&ki(e,0):Ac|=s,Di===ge&&(Di=0)),yn(e)}function Cg(e,a){a===0&&(a=Sd()),e=Oa(e,a),e!==null&&(ys(e,a),yn(e))}function SS(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Cg(e,s)}function ES(e,a){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),Cg(e,s)}function TS(e,a){return Io(e,a)}var Hl=null,Ui=null,Mc=!1,$l=!1,Uc=!1,ca=0;function yn(e){e!==Ui&&e.next===null&&(Ui===null?Hl=Ui=e:Ui=Ui.next=e),$l=!0,Mc||(Mc=!0,AS())}function Qs(e,a){if(!Uc&&$l){Uc=!0;do for(var s=!1,l=Hl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Dt(42|e)+1)-1,d&=h&~(y&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ng(l,d))}else d=ge,d=Ir(l,l===Oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(s=!0,Ng(l,d));l=l.next}while(s);Uc=!1}}function xS(){Og()}function Og(){$l=Mc=!1;var e=0;ca!==0&&LS()&&(e=ca);for(var a=Ot(),s=null,l=Hl;l!==null;){var h=l.next,d=jg(l,a);d===0?(l.next=null,s===null?Hl=h:s.next=h,h===null&&(Ui=s)):(s=l,(e!==0||(d&3)!==0)&&($l=!0)),l=h}et!==0&&et!==5||Qs(e),ca!==0&&(ca=0)}function jg(e,a){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Dt(d),w=1<<y,R=h[y];R===-1?((w&s)===0||(w&l)!==0)&&(h[y]=Ww(w,a)):R<=a&&(e.expiredLanes|=w),d&=~w}if(a=Oe,s=ge,s=Ir(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===a&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yo(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||gs(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(l!==null&&Yo(l),Jo(s)){case 2:case 8:s=wd;break;case 32:s=$r;break;case 268435456:s=_d;break;default:s=$r}return l=Dg.bind(null,e),s=Io(s,l),e.callbackPriority=a,e.callbackNode=s,a}return l!==null&&l!==null&&Yo(l),e.callbackPriority=2,e.callbackNode=null,2}function Dg(e,a){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Pl()&&e.callbackNode!==s)return null;var l=ge;return l=Ir(e,e===Oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fg(e,l,a),jg(e,Ot()),e.callbackNode!=null&&e.callbackNode===s?Dg.bind(null,e):null)}function Ng(e,a){if(Pl())return null;fg(e,a,!0)}function AS(){BS(function(){(_e&6)!==0?Io(bd,xS):Og()})}function Lc(){if(ca===0){var e=wi;e===0&&(e=qr,qr<<=1,(qr&261888)===0&&(qr=256)),ca=e}return ca}function kg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function Mg(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function RS(e,a,s,l,h){if(a==="submit"&&s&&s.stateNode===h){var d=kg((h[_t]||null).action),y=l.submitter;y&&(a=(a=y[_t]||null)?kg(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var w=new el("action","action",null,l,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var R=y?Mg(h,y):new FormData(h);nc(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(w.preventDefault(),R=y?Mg(h,y):new FormData(h),nc(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var zc=0;zc<bu.length;zc++){var Bc=bu[zc],CS=Bc.toLowerCase(),OS=Bc[0].toUpperCase()+Bc.slice(1);sn(CS,"on"+OS)}sn(hm,"onAnimationEnd"),sn(fm,"onAnimationIteration"),sn(dm,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(K_,"onTransitionRun"),sn(I_,"onTransitionStart"),sn(Y_,"onTransitionCancel"),sn(mm,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function Ug(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var y=l.length-1;0<=y;y--){var w=l[y],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=U;try{d(h)}catch(H){al(H)}h.currentTarget=null,d=R}else for(y=0;y<l.length;y++){if(w=l[y],R=w.instance,U=w.currentTarget,w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=U;try{d(h)}catch(H){al(H)}h.currentTarget=null,d=R}}}}function pe(e,a){var s=a[Qo];s===void 0&&(s=a[Qo]=new Set);var l=e+"__bubble";s.has(l)||(Lg(a,e,2,!1),s.add(l))}function Vc(e,a,s){var l=0;a&&(l|=4),Lg(s,e,l,a)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Pc(e){if(!e[ql]){e[ql]=!0,Od.forEach(function(s){s!=="selectionchange"&&(jS.has(s)||Vc(s,!1,e),Vc(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[ql]||(a[ql]=!0,Vc("selectionchange",!1,a))}}function Lg(e,a,s,l){switch(hy(a)){case 2:var h=iE;break;case 8:h=sE;break;default:h=th}s=h.bind(null,a,s,e),h=void 0,!ru||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(a,s,{capture:!0,passive:h}):e.addEventListener(a,s,!0):h!==void 0?e.addEventListener(a,s,{passive:h}):e.addEventListener(a,s,!1)}function Hc(e,a,s,l,h){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var w=l.stateNode.containerInfo;if(w===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;w!==null;){if(y=ai(w),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=d=y;continue e}w=w.parentNode}}l=l.return}Hd(function(){var U=d,H=iu(s),K=[];e:{var L=pm.get(e);if(L!==void 0){var B=el,Q=e;switch(e){case"keypress":if(Wr(s)===0)break e;case"keydown":case"keyup":B=E_;break;case"focusin":Q="focus",B=cu;break;case"focusout":Q="blur",B=cu;break;case"beforeblur":case"afterblur":B=cu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=h_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=A_;break;case hm:case fm:case dm:B=m_;break;case mm:B=C_;break;case"scroll":case"scrollend":B=u_;break;case"wheel":B=j_;break;case"copy":case"cut":case"paste":B=g_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Id;break;case"toggle":case"beforetoggle":B=N_}var ne=(a&4)!==0,Ce=!ne&&(e==="scroll"||e==="scrollend"),k=ne?L!==null?L+"Capture":null:L;ne=[];for(var D=U,M;D!==null;){var G=D;if(M=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||M===null||k===null||(G=ws(D,k),G!=null&&ne.push(Zs(D,G,M))),Ce)break;D=D.return}0<ne.length&&(L=new B(L,Q,null,s,H),K.push({event:L,listeners:ne}))}}if((a&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&s!==au&&(Q=s.relatedTarget||s.fromElement)&&(ai(Q)||Q[ni]))break e;if((B||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,B?(Q=s.relatedTarget||s.toElement,B=U,Q=Q?ai(Q):null,Q!==null&&(Ce=u(Q),ne=Q.tag,Q!==Ce||ne!==5&&ne!==27&&ne!==6)&&(Q=null)):(B=null,Q=U),B!==Q)){if(ne=Gd,G="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Id,G="onPointerLeave",k="onPointerEnter",D="pointer"),Ce=B==null?L:bs(B),M=Q==null?L:bs(Q),L=new ne(G,D+"leave",B,s,H),L.target=Ce,L.relatedTarget=M,G=null,ai(H)===U&&(ne=new ne(k,D+"enter",Q,s,H),ne.target=M,ne.relatedTarget=Ce,G=ne),Ce=G,B&&Q)t:{for(ne=DS,k=B,D=Q,M=0,G=k;G;G=ne(G))M++;G=0;for(var te=D;te;te=ne(te))G++;for(;0<M-G;)k=ne(k),M--;for(;0<G-M;)D=ne(D),G--;for(;M--;){if(k===D||D!==null&&k===D.alternate){ne=k;break t}k=ne(k),D=ne(D)}ne=null}else ne=null;B!==null&&zg(K,L,B,ne,!1),Q!==null&&Ce!==null&&zg(K,Ce,Q,ne,!0)}}e:{if(L=U?bs(U):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var be=em;else if(Wd(L))if(tm)be=$_;else{be=P_;var Z=V_}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&nu(U.elementType)&&(be=em):be=H_;if(be&&(be=be(e,U))){Zd(K,be,s,H);break e}Z&&Z(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&tu(L,"number",L.value)}switch(Z=U?bs(U):window,e){case"focusin":(Wd(Z)||Z.contentEditable==="true")&&(fi=Z,gu=U,Cs=null);break;case"focusout":Cs=gu=fi=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,um(K,s,H);break;case"selectionchange":if(G_)break;case"keydown":case"keyup":um(K,s,H)}var fe;if(fu)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else hi?Jd(e,s)&&(ye="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(Yd&&s.locale!=="ko"&&(hi||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&hi&&(fe=$d()):(Xn=H,lu="value"in Xn?Xn.value:Xn.textContent,hi=!0)),Z=Gl(U,ye),0<Z.length&&(ye=new Kd(ye,e,null,s,H),K.push({event:ye,listeners:Z}),fe?ye.data=fe:(fe=Qd(s),fe!==null&&(ye.data=fe)))),(fe=M_?U_(e,s):L_(e,s))&&(ye=Gl(U,"onBeforeInput"),0<ye.length&&(Z=new Kd("onBeforeInput","beforeinput",null,s,H),K.push({event:Z,listeners:ye}),Z.data=fe)),RS(K,e,U,s,H)}Ug(K,a)})}function Zs(e,a,s){return{instance:e,listener:a,currentTarget:s}}function Gl(e,a){for(var s=a+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(e,s),h!=null&&l.unshift(Zs(e,h,d)),h=ws(e,a),h!=null&&l.push(Zs(e,h,d))),e.tag===3)return l;e=e.return}return[]}function DS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zg(e,a,s,l,h){for(var d=a._reactName,y=[];s!==null&&s!==l;){var w=s,R=w.alternate,U=w.stateNode;if(w=w.tag,R!==null&&R===l)break;w!==5&&w!==26&&w!==27||U===null||(R=U,h?(U=ws(s,d),U!=null&&y.unshift(Zs(s,U,R))):h||(U=ws(s,d),U!=null&&y.push(Zs(s,U,R)))),s=s.return}y.length!==0&&e.push({event:a,listeners:y})}var NS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Bg(e){return(typeof e=="string"?e:""+e).replace(NS,`
`).replace(kS,"")}function Vg(e,a){return a=Bg(a),Bg(e)===a}function Re(e,a,s,l,h,d){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||oi(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&oi(e,""+l);break;case"className":Xr(e,"class",l);break;case"tabIndex":Xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,s,l);break;case"style":Vd(e,l,d);break;case"data":if(a!=="object"){Xr(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&Re(e,a,"name",h.name,h,null),Re(e,a,"formEncType",h.formEncType,h,null),Re(e,a,"formMethod",h.formMethod,h,null),Re(e,a,"formTarget",h.formTarget,h,null)):(Re(e,a,"encType",h.encType,h,null),Re(e,a,"method",h.method,h,null),Re(e,a,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=_n);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Jr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Yr(e,"popover",l);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=l_.get(s)||s,Yr(e,s,l))}}function $c(e,a,s,l,h,d){switch(s){case"style":Vd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?oi(e,l):(typeof l=="number"||typeof l=="bigint")&&oi(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),a=s.slice(2,h?s.length-7:void 0),d=e[_t]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(a,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,l,h);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Yr(e,s,l)}}}function ct(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Re(e,a,d,y,s,null)}}h&&Re(e,a,"srcSet",s.srcSet,s,null),l&&Re(e,a,"src",s.src,s,null);return;case"input":pe("invalid",e);var w=d=y=h=null,R=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":h=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":U=H;break;case"value":d=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,a));break;default:Re(e,a,l,H,s,null)}}Ud(e,d,w,R,U,y,h,!1);return;case"select":pe("invalid",e),l=y=d=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":y=w;break;case"multiple":l=w;default:Re(e,a,h,w,s,null)}a=d,s=y,e.multiple=!!l,a!=null?li(e,!!l,a,!1):s!=null&&li(e,!!l,s,!0);return;case"textarea":pe("invalid",e),d=h=l=null;for(y in s)if(s.hasOwnProperty(y)&&(w=s[y],w!=null))switch(y){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Re(e,a,y,w,s,null)}zd(e,l,h,d);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Re(e,a,R,l,s,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<Ws.length;l++)pe(Ws[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Re(e,a,U,l,s,null)}return;default:if(nu(a)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&$c(e,a,H,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Re(e,a,w,l,s,null))}function MS(e,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,w=null,R=null,U=null,H=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(B)||Re(e,a,B,null,l,K)}}for(var L in l){var B=l[L];if(K=s[L],l.hasOwnProperty(L)&&(B!=null||K!=null))switch(L){case"type":d=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,a));break;default:B!==K&&Re(e,a,L,B,l,K)}}eu(e,y,w,R,U,H,d,h);return;case"select":B=y=w=L=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||Re(e,a,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":L=d;break;case"defaultValue":w=d;break;case"multiple":y=d;default:d!==R&&Re(e,a,h,d,l,R)}a=w,s=y,l=B,L!=null?li(e,!!s,L,!1):!!l!=!!s&&(a!=null?li(e,!!s,a,!0):li(e,!!s,s?[]:"",!1));return;case"textarea":B=L=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Re(e,a,w,null,l,h)}for(y in l)if(h=l[y],d=s[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":L=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Re(e,a,y,h,l,d)}Ld(e,L,B);return;case"option":for(var Q in s)L=s[Q],s.hasOwnProperty(Q)&&L!=null&&!l.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Re(e,a,Q,null,l,L));for(R in l)L=l[R],B=s[R],l.hasOwnProperty(R)&&L!==B&&(L!=null||B!=null)&&(R==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":Re(e,a,R,L,l,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in s)L=s[ne],s.hasOwnProperty(ne)&&L!=null&&!l.hasOwnProperty(ne)&&Re(e,a,ne,null,l,L);for(U in l)if(L=l[U],B=s[U],l.hasOwnProperty(U)&&L!==B&&(L!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,a));break;default:Re(e,a,U,L,l,B)}return;default:if(nu(a)){for(var Ce in s)L=s[Ce],s.hasOwnProperty(Ce)&&L!==void 0&&!l.hasOwnProperty(Ce)&&$c(e,a,Ce,void 0,l,L);for(H in l)L=l[H],B=s[H],!l.hasOwnProperty(H)||L===B||L===void 0&&B===void 0||$c(e,a,H,L,l,B);return}}for(var k in s)L=s[k],s.hasOwnProperty(k)&&L!=null&&!l.hasOwnProperty(k)&&Re(e,a,k,null,l,L);for(K in l)L=l[K],B=s[K],!l.hasOwnProperty(K)||L===B||L==null&&B==null||Re(e,a,K,L,l,B)}function Pg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function US(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,y=h.initiatorType,w=h.duration;if(d&&w&&Pg(y)){for(y=0,w=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],U=R.startTime;if(U>w)break;var H=R.transferSize,K=R.initiatorType;H&&Pg(K)&&(R=R.responseEnd,y+=H*(R<w?1:(w-U)/(R-U)))}if(--l,a+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qc=null,Gc=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function Hg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $g(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Kc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ic=null;function LS(){var e=window.event;return e&&e.type==="popstate"?e===Ic?!1:(Ic=e,!0):(Ic=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(e){return Gg.resolve(null).then(e).catch(VS)}:qg;function VS(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function Kg(e,a){var s=a,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Vi(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")er(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,er(s);for(var d=s.firstChild;d;){var y=d.nextSibling,w=d.nodeName;d[vs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&er(e.ownerDocument.body);s=h}while(s);Vi(a)}function Ig(e,a){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Yc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yc(s),Wo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function PS(e,a,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vs])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function HS(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Wt(e.nextSibling),e===null))return null;return e}function Yg(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wt(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$?"||e.data==="$~"}function Fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $S(e,a){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wt(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Jc=null;function Xg(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(a===0)return Wt(e.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}e=e.nextSibling}return null}function Fg(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return e;a--}else s!=="/$"&&s!=="/&"||a++}e=e.previousSibling}return null}function Jg(e,a,s){switch(a=Kl(s),e){case"html":if(e=a.documentElement,!e)throw Error(r(452));return e;case"head":if(e=a.head,!e)throw Error(r(453));return e;case"body":if(e=a.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function er(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Wo(e)}var Zt=new Map,Qg=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=P.d;P.d={f:qS,r:GS,D:KS,C:IS,L:YS,m:XS,X:JS,S:FS,M:QS};function qS(){var e=zn.f(),a=zl();return e||a}function GS(e){var a=ii(e);a!==null&&a.tag===5&&a.type==="form"?mp(a):zn.r(e)}var Li=typeof document>"u"?null:document;function Wg(e,a,s){var l=Li;if(l&&typeof a=="string"&&a){var h=Kt(a);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Qg.has(h)||(Qg.add(h),e={rel:e,crossOrigin:s,href:a},l.querySelector(h)===null&&(a=l.createElement("link"),ct(a,"link",e),it(a),l.head.appendChild(a)))}}function KS(e){zn.D(e),Wg("dns-prefetch",e,null)}function IS(e,a){zn.C(e,a),Wg("preconnect",e,a)}function YS(e,a,s){zn.L(e,a,s);var l=Li;if(l&&e&&a){var h='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Kt(s.imageSizes)+'"]')):h+='[href="'+Kt(e)+'"]';var d=h;switch(a){case"style":d=zi(e);break;case"script":d=Bi(e)}Zt.has(d)||(e=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Zt.set(d,e),l.querySelector(h)!==null||a==="style"&&l.querySelector(tr(d))||a==="script"&&l.querySelector(nr(d))||(a=l.createElement("link"),ct(a,"link",e),it(a),l.head.appendChild(a)))}}function XS(e,a){zn.m(e,a);var s=Li;if(s&&e){var l=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Bi(e)}if(!Zt.has(d)&&(e=v({rel:"modulepreload",href:e},a),Zt.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nr(d)))return}l=s.createElement("link"),ct(l,"link",e),it(l),s.head.appendChild(l)}}}function FS(e,a,s){zn.S(e,a,s);var l=Li;if(l&&e){var h=si(l).hoistableStyles,d=zi(e);a=a||"default";var y=h.get(d);if(!y){var w={loading:0,preload:null};if(y=l.querySelector(tr(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Zt.get(d))&&Qc(e,s);var R=y=l.createElement("link");it(R),ct(R,"link",e),R._p=new Promise(function(U,H){R.onload=U,R.onerror=H}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yl(y,a,l)}y={type:"stylesheet",instance:y,count:1,state:w},h.set(d,y)}}}function JS(e,a){zn.X(e,a);var s=Li;if(s&&e){var l=si(s).hoistableScripts,h=Bi(e),d=l.get(h);d||(d=s.querySelector(nr(h)),d||(e=v({src:e,async:!0},a),(a=Zt.get(h))&&Wc(e,a),d=s.createElement("script"),it(d),ct(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function QS(e,a){zn.M(e,a);var s=Li;if(s&&e){var l=si(s).hoistableScripts,h=Bi(e),d=l.get(h);d||(d=s.querySelector(nr(h)),d||(e=v({src:e,async:!0,type:"module"},a),(a=Zt.get(h))&&Wc(e,a),d=s.createElement("script"),it(d),ct(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zg(e,a,s,l){var h=(h=de.current)?Il(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=zi(s.href),s=si(h).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=zi(s.href);var d=si(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(tr(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Zt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Zt.set(e,s),d||WS(h,e,s,y.state))),a&&l===null)throw Error(r(528,""));return y}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bi(s),s=si(h).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function zi(e){return'href="'+Kt(e)+'"'}function tr(e){return'link[rel="stylesheet"]['+e+"]"}function ey(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function WS(e,a,s,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ct(a,"link",s),it(a),e.head.appendChild(a))}function Bi(e){return'[src="'+Kt(e)+'"]'}function nr(e){return"script[async]"+e}function ty(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(s.href)+'"]');if(l)return a.instance=l,it(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ct(l,"style",h),Yl(l,s.precedence,e),a.instance=l;case"stylesheet":h=zi(s.href);var d=e.querySelector(tr(h));if(d)return a.state.loading|=4,a.instance=d,it(d),d;l=ey(s),(h=Zt.get(h))&&Qc(l,h),d=(e.ownerDocument||e).createElement("link"),it(d);var y=d;return y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),ct(d,"link",l),a.state.loading|=4,Yl(d,s.precedence,e),a.instance=d;case"script":return d=Bi(s.src),(h=e.querySelector(nr(d)))?(a.instance=h,it(h),h):(l=s,(h=Zt.get(d))&&(l=v({},s),Wc(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),it(h),ct(h,"link",l),e.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Yl(l,s.precedence,e));return a.instance}function Yl(e,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var w=l[y];if(w.dataset.precedence===a)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Qc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Wc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Xl=null;function ny(e,a,s){if(Xl===null){var l=new Map,h=Xl=new Map;h.set(s,l)}else h=Xl,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[vs]||d[rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=e+y;var w=l.get(y);w?w.push(d):l.set(y,[d])}}return l}function ay(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function ZS(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function iy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eE(e,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=zi(l.href),d=a.querySelector(tr(h));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Fl.bind(e),a.then(e,e)),s.state.loading|=4,s.instance=d,it(d);return}d=a.ownerDocument||a,l=ey(l),(h=Zt.get(h))&&Qc(l,h),d=d.createElement("link"),it(d);var y=d;y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),ct(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Fl.bind(e),a.addEventListener("load",s),a.addEventListener("error",s))}}var Zc=0;function tE(e,a){return e.stylesheets&&e.count===0&&Ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+a);0<e.imgBytes&&Zc===0&&(Zc=62500*US());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zc?50:800)+a);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jl=null;function Ql(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jl=new Map,a.forEach(nE,e),Jl=null,Fl.call(e))}function nE(e,a){if(!(a.state.loading&4)){var s=Jl.get(e);if(s)var l=s.get(null);else{s=new Map,Jl.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}h=a.instance,y=h.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,h),s.set(y,h),this.count++,l=Fl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),a.state.loading|=4}}var ar={$$typeof:x,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function aE(e,a,s,l,h,d,y,w,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.hiddenUpdates=Xo(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function sy(e,a,s,l,h,d,y,w,R,U,H,K){return e=new aE(e,a,s,y,R,U,H,K,w),a=1,d===!0&&(a|=24),d=kt(3,null,null,a),e.current=d,d.stateNode=e,a=Nu(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:a},Lu(d),e}function ry(e){return e?(e=pi,e):pi}function ly(e,a,s,l,h,d){h=ry(h),l.context===null?l.context=h:l.pendingContext=h,l=ea(a),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ta(e,l,a),s!==null&&(Rt(s,e,a),Us(s,e,a))}function oy(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function eh(e,a){oy(e,a),(e=e.alternate)&&oy(e,a)}function uy(e){if(e.tag===13||e.tag===31){var a=Oa(e,67108864);a!==null&&Rt(a,e,67108864),eh(e,67108864)}}function cy(e){if(e.tag===13||e.tag===31){var a=Bt();a=Fo(a);var s=Oa(e,a);s!==null&&Rt(s,e,a),eh(e,a)}}var Wl=!0;function iE(e,a,s,l){var h=$.T;$.T=null;var d=P.p;try{P.p=2,th(e,a,s,l)}finally{P.p=d,$.T=h}}function sE(e,a,s,l){var h=$.T;$.T=null;var d=P.p;try{P.p=8,th(e,a,s,l)}finally{P.p=d,$.T=h}}function th(e,a,s,l){if(Wl){var h=nh(l);if(h===null)Hc(e,a,l,Zl,s),fy(e,l);else if(lE(h,e,a,s,l))l.stopPropagation();else if(fy(e,l),a&4&&-1<rE.indexOf(e)){for(;h!==null;){var d=ii(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Ta(d.pendingLanes);if(y!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var R=1<<31-Dt(y);w.entanglements[1]|=R,y&=~R}yn(d),(_e&6)===0&&(Ul=Ot()+500,Qs(0))}}break;case 31:case 13:w=Oa(d,2),w!==null&&Rt(w,d,2),zl(),eh(d,2)}if(d=nh(l),d===null&&Hc(e,a,l,Zl,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hc(e,a,l,null,s)}}function nh(e){return e=iu(e),ah(e)}var Zl=null;function ah(e){if(Zl=null,e=ai(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=c(a),e!==null)return e;e=null}else if(s===31){if(e=f(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Zl=e,null}function hy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kw()){case bd:return 2;case wd:return 8;case $r:case Iw:return 32;case _d:return 268435456;default:return 32}default:return 32}}var ih=!1,fa=null,da=null,ma=null,ir=new Map,sr=new Map,pa=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(e,a){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":ir.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(a.pointerId)}}function rr(e,a,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},a!==null&&(a=ii(a),a!==null&&uy(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),e)}function lE(e,a,s,l,h){switch(a){case"focusin":return fa=rr(fa,e,a,s,l,h),!0;case"dragenter":return da=rr(da,e,a,s,l,h),!0;case"mouseover":return ma=rr(ma,e,a,s,l,h),!0;case"pointerover":var d=h.pointerId;return ir.set(d,rr(ir.get(d)||null,e,a,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,sr.set(d,rr(sr.get(d)||null,e,a,s,l,h)),!0}return!1}function dy(e){var a=ai(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){e.blockedOn=a,Rd(e.priority,function(){cy(s)});return}}else if(a===31){if(a=f(s),a!==null){e.blockedOn=a,Rd(e.priority,function(){cy(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=nh(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);au=l,s.target.dispatchEvent(l),au=null}else return a=ii(s),a!==null&&uy(a),e.blockedOn=s,!1;a.shift()}return!0}function my(e,a,s){eo(e)&&s.delete(a)}function oE(){ih=!1,fa!==null&&eo(fa)&&(fa=null),da!==null&&eo(da)&&(da=null),ma!==null&&eo(ma)&&(ma=null),ir.forEach(my),sr.forEach(my)}function to(e,a){e.blockedOn===a&&(e.blockedOn=null,ih||(ih=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oE)))}var no=null;function py(e){no!==e&&(no=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){no===e&&(no=null);for(var a=0;a<e.length;a+=3){var s=e[a],l=e[a+1],h=e[a+2];if(typeof l!="function"){if(ah(l||s)===null)continue;break}var d=ii(s);d!==null&&(e.splice(a,3),a-=3,nc(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Vi(e){function a(R){return to(R,e)}fa!==null&&to(fa,e),da!==null&&to(da,e),ma!==null&&to(ma,e),ir.forEach(a),sr.forEach(a);for(var s=0;s<pa.length;s++){var l=pa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<pa.length&&(s=pa[0],s.blockedOn===null);)dy(s),s.blockedOn===null&&pa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],y=h[_t]||null;if(typeof d=="function")y||py(s);else if(y){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[_t]||null)w=y.formAction;else if(ah(h)!==null)continue}else w=y.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),py(s)}}}function gy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function sh(e){this._internalRoot=e}ao.prototype.render=sh.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Bt();ly(s,l,e,a,null,null)},ao.prototype.unmount=sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;ly(e.current,2,null,e,null,null),zl(),a[ni]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ad();e={blockedOn:null,target:e,priority:a};for(var s=0;s<pa.length&&a!==0&&a<pa[s].priority;s++);pa.splice(s,0,e),s===0&&dy(e)}};var yy=t.version;if(yy!=="19.2.3")throw Error(r(527,yy,"19.2.3"));P.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var uE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{ps=io.inject(uE),jt=io}catch{}}return or.createRoot=function(e,a){if(!o(e))throw Error(r(299));var s=!1,l="",h=Tp,d=xp,y=Ap;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=sy(e,1,!1,null,null,s,l,null,h,d,y,gy),e[ni]=a.current,Pc(e),new sh(a)},or.hydrateRoot=function(e,a,s){if(!o(e))throw Error(r(299));var l=!1,h="",d=Tp,y=xp,w=Ap,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),a=sy(e,1,!0,a,s??null,l,h,R,d,y,w,gy),a.context=ry(null),s=a.current,l=Bt(),l=Fo(l),h=ea(l),h.callback=null,ta(s,h,l),s=l,a.current.lanes=s,ys(a,s),yn(a),e[ni]=a.current,Pc(e),new ao(a)},or.version="19.2.3",or}var Ry;function wE(){if(Ry)return oh.exports;Ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),oh.exports=bE(),oh.exports}var _E=wE();var Cy="popstate";function SE(n={}){function t(o,u){let{pathname:c="/",search:f="",hash:m=""}=ti(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ph("",{pathname:c,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof u=="string"?u:wr(u))}function r(o,u){$t(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return TE(t,i,r,n)}function Le(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function $t(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EE(){return Math.random().toString(36).substring(2,10)}function Oy(n,t){return{usr:n.state,key:n.key,idx:t}}function Ph(n,t,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ti(t):t,state:i,key:t&&t.key||r||EE()}}function wr({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ti(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function TE(n,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,f="POP",m=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let C=g(),O=C==null?null:C-p;p=C,m&&m({action:f,location:A.location,delta:O})}function b(C,O){f="PUSH";let j=Ph(A.location,C,O);i&&i(j,C),p=g()+1;let x=Oy(j,p),z=A.createHref(j);try{c.pushState(x,"",z)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(z)}u&&m&&m({action:f,location:A.location,delta:1})}function S(C,O){f="REPLACE";let j=Ph(A.location,C,O);i&&i(j,C),p=g();let x=Oy(j,p),z=A.createHref(j);c.replaceState(x,"",z),u&&m&&m({action:f,location:A.location,delta:0})}function E(C){return xE(C)}let A={get action(){return f},get location(){return n(o,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Cy,v),m=C,()=>{o.removeEventListener(Cy,v),m=null}},createHref(C){return t(o,C)},createURL:E,encodeLocation(C){let O=E(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:S,go(C){return c.go(C)}};return A}function xE(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Le(i,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:wr(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function w0(n,t,i="/"){return AE(n,t,i,!1)}function AE(n,t,i,r){let o=typeof t=="string"?ti(t):t,u=Hn(o.pathname||"/",i);if(u==null)return null;let c=_0(n);RE(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=BE(u);f=LE(c[m],p,r)}return f}function _0(n,t=[],i=[],r="",o=!1){let u=(c,f,m=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;Le(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Pn([r,g.relativePath]),b=i.concat(g);c.children&&c.children.length>0&&(Le(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_0(c.children,t,b,v,m)),!(c.path==null&&!c.index)&&t.push({path:v,score:ME(v,c.index),routesMeta:b})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let m of S0(c.path))u(c,f,!0,m)}),t}function S0(n){let t=n.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=S0(r.join("/")),f=[];return f.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function RE(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:UE(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var CE=/^:[\w-]+$/,OE=3,jE=2,DE=1,NE=10,kE=-2,jy=n=>n==="*";function ME(n,t){let i=n.split("/"),r=i.length;return i.some(jy)&&(r+=kE),t&&(r+=jE),i.filter(o=>!jy(o)).reduce((o,u)=>o+(CE.test(u)?OE:u===""?DE:NE),r)}function UE(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function LE(n,t,i=!1){let{routesMeta:r}=n,o={},u="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=So({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),b=m.route;if(!v&&p&&i&&!r[r.length-1].route.index&&(v=So({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Pn([u,v.pathname]),pathnameBase:$E(Pn([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=Pn([u,v.pathnameBase]))}return c}function So(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=zE(n.path,n.caseSensitive,n.end),o=t.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let E=f[b]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=f[b];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function zE(n,t=!1,i=!0){$t(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function BE(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $t(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Hn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VE=n=>E0.test(n);function PE(n,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?ti(n):n,u;if(i)if(VE(i))u=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),$t(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?u=Dy(i.substring(1),"/"):u=Dy(i,t)}else u=t;return{pathname:u,search:qE(r),hash:GE(o)}}function Dy(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function fh(n,t,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HE(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Af(n){let t=HE(n);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Rf(n,t,i,r=!1){let o;typeof n=="string"?o=ti(n):(o={...n},Le(!o.pathname||!o.pathname.includes("?"),fh("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),fh("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),fh("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=i;else{let v=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}f=v>=0?t[v]:"/"}let m=PE(o,f),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var Pn=n=>n.join("/").replace(/\/\/+/g,"/"),$E=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,KE=class{constructor(n,t,i,r=!1){this.status=n,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function IE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function YE(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function x0(n,t){let i=n;if(typeof i!="string"||!E0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(T0)try{let u=new URL(window.location.href),c=i.startsWith("//")?new URL(u.protocol+i):new URL(i),f=Hn(c.pathname,t);c.origin===u.origin&&f!=null?i=f+c.search+c.hash:o=!0}catch{$t(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var XE=["GET",...A0];new Set(XE);var rs=T.createContext(null);rs.displayName="DataRouter";var No=T.createContext(null);No.displayName="DataRouterState";var FE=T.createContext(!1),R0=T.createContext({isTransitioning:!1});R0.displayName="ViewTransition";var JE=T.createContext(new Map);JE.displayName="Fetchers";var QE=T.createContext(null);QE.displayName="Await";var qt=T.createContext(null);qt.displayName="Navigation";var kr=T.createContext(null);kr.displayName="Location";var dn=T.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var Cf=T.createContext(null);Cf.displayName="RouteError";var C0="REACT_ROUTER_ERROR",WE="REDIRECT",ZE="ROUTE_ERROR_RESPONSE";function eT(n){if(n.startsWith(`${C0}:${WE}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function tT(n){if(n.startsWith(`${C0}:${ZE}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new KE(t.status,t.statusText,t.data)}catch{}}function nT(n,{relative:t}={}){Le(ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=T.useContext(qt),{hash:o,pathname:u,search:c}=Mr(n,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Pn([i,u])),r.createHref({pathname:f,search:c,hash:o})}function ls(){return T.useContext(kr)!=null}function Gn(){return Le(ls(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(kr).location}var O0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j0(n){T.useContext(qt).static||T.useLayoutEffect(n)}function os(){let{isDataRoute:n}=T.useContext(dn);return n?gT():aT()}function aT(){Le(ls(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(rs),{basename:t,navigator:i}=T.useContext(qt),{matches:r}=T.useContext(dn),{pathname:o}=Gn(),u=JSON.stringify(Af(r)),c=T.useRef(!1);return j0(()=>{c.current=!0}),T.useCallback((m,p={})=>{if($t(c.current,O0),!c.current)return;if(typeof m=="number"){i.go(m);return}let g=Rf(m,JSON.parse(u),o,p.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Pn([t,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[t,i,u,o,n])}T.createContext(null);function iT(){let{matches:n}=T.useContext(dn),t=n[n.length-1];return t?t.params:{}}function Mr(n,{relative:t}={}){let{matches:i}=T.useContext(dn),{pathname:r}=Gn(),o=JSON.stringify(Af(i));return T.useMemo(()=>Rf(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function sT(n,t){return D0(n,t)}function D0(n,t,i,r,o){Le(ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(qt),{matches:c}=T.useContext(dn),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let j=v&&v.path||"";k0(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Gn(),S;if(t){let j=typeof t=="string"?ti(t):t;Le(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=b;let E=S.pathname||"/",A=E;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=w0(n,{pathname:A});$t(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$t(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=cT(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:Pn([g,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Pn([g,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,i,r,o);return t&&O?T.createElement(kr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function rT(){let n=pT(),t=IE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),i?T.createElement("pre",{style:o},i):null,c)}var lT=T.createElement(rT,null),N0=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=tT(n.digest);i&&(n=i)}let t=n!==void 0?T.createElement(dn.Provider,{value:this.props.routeContext},T.createElement(Cf.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?T.createElement(oT,{error:n},t):t}};N0.contextType=FE;var dh=new WeakMap;function oT({children:n,error:t}){let{basename:i}=T.useContext(qt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=eT(t.digest);if(r){let o=dh.get(t);if(o)throw o;let u=x0(r.location,i);if(T0&&!dh.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw dh.set(t,c),c}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function uT({routeContext:n,match:t,children:i}){let r=T.useContext(rs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(dn.Provider,{value:n},i)}function cT(n,t=[],i=null,r=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,c=i?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Le(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,m=-1;if(i)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:b,errors:S}=i,E=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=i&&r?(g,v)=>{r(g,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:YE(i.matches),errorInfo:v})}:void 0;return u.reduceRight((g,v,b)=>{let S,E=!1,A=null,C=null;i&&(S=c&&v.route.id?c[v.route.id]:void 0,A=v.route.errorElement||lT,f&&(m<0&&b===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):m===b&&(E=!0,C=v.route.hydrateFallbackElement||null)));let O=t.concat(u.slice(0,b+1)),j=()=>{let x;return S?x=A:E?x=C:v.route.Component?x=T.createElement(v.route.Component,null):v.route.element?x=v.route.element:x=g,T.createElement(uT,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:i!=null},children:x})};return i&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?T.createElement(N0,{location:i.location,revalidation:i.revalidation,component:A,error:S,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):j()},null)}function Of(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(n){let t=T.useContext(rs);return Le(t,Of(n)),t}function fT(n){let t=T.useContext(No);return Le(t,Of(n)),t}function dT(n){let t=T.useContext(dn);return Le(t,Of(n)),t}function jf(n){let t=dT(n),i=t.matches[t.matches.length-1];return Le(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function mT(){return jf("useRouteId")}function pT(){let n=T.useContext(Cf),t=fT("useRouteError"),i=jf("useRouteError");return n!==void 0?n:t.errors?.[i]}function gT(){let{router:n}=hT("useNavigate"),t=jf("useNavigate"),i=T.useRef(!1);return j0(()=>{i.current=!0}),T.useCallback(async(o,u={})=>{$t(i.current,O0),i.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var Ny={};function k0(n,t,i){!t&&!Ny[n]&&(Ny[n]=!0,$t(!1,i))}T.memo(yT);function yT({routes:n,future:t,state:i,onError:r}){return D0(n,void 0,i,r,t)}function vT({to:n,replace:t,state:i,relative:r}){Le(ls(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(qt);$t(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=T.useContext(dn),{pathname:c}=Gn(),f=os(),m=Rf(n,Af(u),c,r==="path"),p=JSON.stringify(m);return T.useEffect(()=>{f(JSON.parse(p),{replace:t,state:i,relative:r})},[f,p,r,t,i]),null}function Ii(n){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:n="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Le(!ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof i=="string"&&(i=ti(i));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:S="default"}=i,E=T.useMemo(()=>{let A=Hn(p,f);return A==null?null:{location:{pathname:A,search:g,hash:v,state:b,key:S},navigationType:r}},[f,p,g,v,b,S,r]);return $t(E!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(qt.Provider,{value:m},T.createElement(kr.Provider,{children:t,value:E}))}function wT({children:n,location:t}){return sT(Hh(n),t)}function Hh(n,t=[]){let i=[];return T.Children.forEach(n,(r,o)=>{if(!T.isValidElement(r))return;let u=[...t,o];if(r.type===T.Fragment){i.push.apply(i,Hh(r.props.children,u));return}Le(r.type===Ii,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hh(r.props.children,u)),i.push(c)}),i}var go="get",yo="application/x-www-form-urlencoded";function ko(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _T(n){return ko(n)&&n.tagName.toLowerCase()==="button"}function ST(n){return ko(n)&&n.tagName.toLowerCase()==="form"}function ET(n){return ko(n)&&n.tagName.toLowerCase()==="input"}function TT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xT(n,t){return n.button===0&&(!t||t==="_self")&&!TT(n)}var so=null;function AT(){if(so===null)try{new FormData(document.createElement("form"),0),so=!1}catch{so=!0}return so}var RT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(n){return n!=null&&!RT.has(n)?($t(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yo}"`),null):n}function CT(n,t){let i,r,o,u,c;if(ST(n)){let f=n.getAttribute("action");r=f?Hn(f,t):null,i=n.getAttribute("method")||go,o=mh(n.getAttribute("enctype"))||yo,u=new FormData(n)}else if(_T(n)||ET(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?Hn(m,t):null,i=n.getAttribute("formmethod")||f.getAttribute("method")||go,o=mh(n.getAttribute("formenctype"))||mh(f.getAttribute("enctype"))||yo,u=new FormData(f,n),!AT()){let{name:p,type:g,value:v}=n;if(g==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,v)}}else{if(ko(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=go,r=null,o=yo,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Df(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function OT(n,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&Hn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function jT(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NT(n,t,i){let r=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await jT(u,i);return c.links?c.links():[]}return[]}));return LT(r.flat(1).filter(DT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ky(n,t,i,r,o,u){let c=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,f=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):u==="data"?t.filter((m,p)=>{let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kT(n,t,{includeHydrateFallback:i}={}){return MT(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MT(n){return[...new Set(n)]}function UT(n){let t={},i=Object.keys(n).sort();for(let r of i)t[r]=n[r];return t}function LT(n,t){let i=new Set;return new Set(t),n.reduce((r,o)=>{let u=JSON.stringify(UT(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function M0(){let n=T.useContext(rs);return Df(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zT(){let n=T.useContext(No);return Df(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Nf=T.createContext(void 0);Nf.displayName="FrameworkContext";function U0(){let n=T.useContext(Nf);return Df(n,"You must render this element inside a <HydratedRouter> element"),n}function BT(n,t){let i=T.useContext(Nf),[r,o]=T.useState(!1),[u,c]=T.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,b=T.useRef(null);T.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=O=>{O.forEach(j=>{c(j.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),T.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{o(!0)},E=()=>{o(!1),c(!1)};return i?n!=="intent"?[u,b,{}]:[u,b,{onFocus:ur(f,S),onBlur:ur(m,E),onMouseEnter:ur(p,S),onMouseLeave:ur(g,E),onTouchStart:ur(v,S)}]:[!1,b,{}]}function ur(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function VT({page:n,...t}){let{router:i}=M0(),r=T.useMemo(()=>w0(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?T.createElement(HT,{page:n,matches:r,...t}):null}function PT(n){let{manifest:t,routeModules:i}=U0(),[r,o]=T.useState([]);return T.useEffect(()=>{let u=!1;return NT(n,t,i).then(c=>{u||o(c)}),()=>{u=!0}},[n,t,i]),r}function HT({page:n,matches:t,...i}){let r=Gn(),{manifest:o,routeModules:u}=U0(),{basename:c}=M0(),{loaderData:f,matches:m}=zT(),p=T.useMemo(()=>ky(n,t,m,o,r,"data"),[n,t,m,o,r]),g=T.useMemo(()=>ky(n,t,m,o,r,"assets"),[n,t,m,o,r]),v=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(t.forEach(O=>{let j=o.routes[O.route.id];!j||!j.hasLoader||(!p.some(x=>x.route.id===O.route.id)&&O.route.id in f&&u[O.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:E.add(O.route.id))}),E.size===0)return[];let C=OT(n,c,"data");return A&&E.size>0&&C.searchParams.set("_routes",t.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[c,f,r,o,p,t,n,u]),b=T.useMemo(()=>kT(g,o),[g,o]),S=PT(g);return T.createElement(T.Fragment,null,v.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),b.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),S.map(({key:E,link:A})=>T.createElement("link",{key:E,nonce:i.nonce,...A})))}function $T(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.11.0")}catch{}function GT({basename:n,children:t,unstable_useTransitions:i,window:r}){let o=T.useRef();o.current==null&&(o.current=SE({window:r,v5Compat:!0}));let u=o.current,[c,f]=T.useState({action:u.action,location:u.location}),m=T.useCallback(p=>{i===!1?f(p):T.startTransition(()=>f(p))},[i]);return T.useLayoutEffect(()=>u.listen(m),[u,m]),T.createElement(bT,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=T.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:f,target:m,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},E){let{basename:A,unstable_useTransitions:C}=T.useContext(qt),O=typeof p=="string"&&L0.test(p),j=x0(p,A);p=j.to;let x=nT(p,{relative:o}),[z,V,I]=BT(r,S),Y=XT(p,{replace:c,state:f,target:m,preventScrollReset:g,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:C});function F(Se){t&&t(Se),Se.defaultPrevented||Y(Se)}let re=T.createElement("a",{...S,...I,href:j.absoluteURL||x,onClick:j.isExternal||u?t:F,ref:$T(E,V),target:m,"data-discover":!O&&i==="render"?"true":void 0});return z&&!O?T.createElement(T.Fragment,null,re,T.createElement(VT,{page:x})):re});Vn.displayName="Link";var KT=T.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:f,children:m,...p},g){let v=Mr(c,{relative:p.relative}),b=Gn(),S=T.useContext(No),{navigator:E,basename:A}=T.useContext(qt),C=S!=null&&ZT(v)&&f===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,j=b.pathname,x=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(j=j.toLowerCase(),x=x?x.toLowerCase():null,O=O.toLowerCase()),x&&A&&(x=Hn(x,A)||x);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let V=j===O||!o&&j.startsWith(O)&&j.charAt(z)==="/",I=x!=null&&(x===O||!o&&x.startsWith(O)&&x.charAt(O.length)==="/"),Y={isActive:V,isPending:I,isTransitioning:C},F=V?t:void 0,re;typeof r=="function"?re=r(Y):re=[r,V?"active":null,I?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Se=typeof u=="function"?u(Y):u;return T.createElement(Vn,{...p,"aria-current":F,className:re,ref:g,style:Se,to:c,viewTransition:f},typeof m=="function"?m(Y):m)});KT.displayName="NavLink";var IT=T.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:c=go,action:f,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},E)=>{let{unstable_useTransitions:A}=T.useContext(qt),C=QT(),O=WT(f,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&L0.test(f),z=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let I=V.nativeEvent.submitter,Y=I?.getAttribute("formmethod")||c,F=()=>C(I||V.currentTarget,{fetcherKey:t,method:Y,navigate:i,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b});A&&i!==!1?T.startTransition(()=>F()):F()};return T.createElement("form",{ref:E,method:j,action:O,onSubmit:r?m:z,...S,"data-discover":!x&&n==="render"?"true":void 0})});IT.displayName="Form";function YT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(n){let t=T.useContext(rs);return Le(t,YT(n)),t}function XT(n,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=os(),g=Gn(),v=Mr(n,{relative:u});return T.useCallback(b=>{if(xT(b,t)){b.preventDefault();let S=i!==void 0?i:wr(g)===wr(v),E=()=>p(n,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});m?T.startTransition(()=>E()):E()}},[g,p,v,i,r,t,n,o,u,c,f,m])}var FT=0,JT=()=>`__${String(++FT)}__`;function QT(){let{router:n}=z0("useSubmit"),{basename:t}=T.useContext(qt),i=mT(),r=n.fetch,o=n.navigate;return T.useCallback(async(u,c={})=>{let{action:f,method:m,encType:p,formData:g,body:v}=CT(u,t);if(c.navigate===!1){let b=c.fetcherKey||JT();await r(b,i,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,t,i])}function WT(n,{relative:t}={}){let{basename:i}=T.useContext(qt),r=T.useContext(dn);Le(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Mr(n||".",{relative:t})},c=Gn();if(n==null){u.search=c.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Pn([i,u.pathname])),wr(u)}function ZT(n,{relative:t}={}){let i=T.useContext(R0);Le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z0("useViewTransitionState"),o=Mr(n,{relative:t});if(!i.isTransitioning)return!1;let u=Hn(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Hn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return So(o.pathname,c)!=null||So(o.pathname,u)!=null}const B0=T.createContext({title:"QuartettNation",setTitle:()=>{},backTo:null,setBackTo:()=>{},customContent:null,setCustomContent:()=>{}}),ex=({children:n})=>{const[t,i]=T.useState("QuartettNation"),[r,o]=T.useState(null),[u,c]=T.useState(null);return _.jsx(B0.Provider,{value:{title:t,setTitle:i,backTo:r,setBackTo:o,customContent:u,setCustomContent:c},children:n})},us=()=>T.useContext(B0),Me=({children:n,variant:t="primary",size:i="md",loading:r=!1,disabled:o=!1,fullWidth:u=!1,onClick:c,type:f="button",className:m="",...p})=>{const g=["btn",`btn-${t}`,`btn-${i}`,u&&"btn-full",r&&"btn-loading",m].filter(Boolean).join(" ");return _.jsxs("button",{type:f,className:g,disabled:o||r,onClick:c,...p,children:[r&&_.jsx("span",{className:"btn-spinner"}),_.jsx("span",{className:r?"btn-text-hidden":"",children:n})]})},Wa=({label:n,error:t,disabled:i=!1,fullWidth:r=!0,className:o="",...u})=>_.jsxs("div",{className:`input-wrapper ${r?"input-full":""} ${o}`,children:[n&&_.jsx("label",{className:"input-label",children:n}),_.jsx("input",{className:`input-field ${t?"input-error":""}`,disabled:i,...u}),t&&_.jsx("span",{className:"input-error-text",children:t})]}),tx=({open:n,onClose:t,title:i,children:r})=>(T.useEffect(()=>{const o=u=>{u.key==="Escape"&&t?.()};return n&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[n,t]),n?_.jsx("div",{className:"modal-overlay",onClick:t,children:_.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[i&&_.jsx("h3",{className:"modal-title",children:i}),_.jsx("button",{className:"modal-close",onClick:t,children:""})]}),_.jsx("div",{className:"modal-body",children:r})]})}):null),nx=({size:n="md",className:t=""})=>_.jsx("div",{className:`spinner spinner-${n} ${t}`}),V0=({icon:n="",message:t="Nothing here yet",children:i})=>_.jsxs("div",{className:"empty-state",children:[_.jsx("span",{className:"empty-icon",children:n}),_.jsx("p",{className:"empty-message",children:t}),i]});const ax=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ix=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),My=n=>{const t=ix(n);return t.charAt(0).toUpperCase()+t.slice(1)},P0=(...n)=>n.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),sx=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lx=T.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...f},m)=>T.createElement("svg",{ref:m,...rx,width:t,height:t,stroke:n,strokeWidth:r?Number(i)*24/Number(t):i,className:P0("lucide",o),...!u&&!sx(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,g])=>T.createElement(p,g)),...Array.isArray(u)?u:[u]]));const Ur=(n,t)=>{const i=T.forwardRef(({className:r,...o},u)=>T.createElement(lx,{ref:u,iconNode:t,className:P0(`lucide-${ax(My(n))}`,`lucide-${n}`,r),...o}));return i.displayName=My(n),i};const ox=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],H0=Ur("arrow-left",ox);const ux=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cx=Ur("grid-3x3",ux);const hx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],fx=Ur("list",hx);const dx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mx=Ur("pencil",dx);const px=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gx=Ur("trash-2",px),yx=({children:n})=>{const t=Gn(),i=os(),{title:r,Jl:o,backTo:u,customContent:c}=us(),f=t.pathname==="/"&&!u,m=()=>{typeof u=="function"?u():i(typeof u=="string"?u:-1)};return _.jsxs("div",{className:"app-container",children:[_.jsxs("header",{className:"app-header",children:[f?_.jsxs(Vn,{to:"/",className:"logo",children:["Quartett",_.jsx("span",{children:"Nation"})]}):_.jsxs("div",{className:"header-dynamic",style:{display:"flex",alignItems:"center",width:"100%",padding:"0 var(--spacing-md)"},children:[u&&_.jsxs(Me,{variant:"ghost",size:"sm",onClick:m,style:{paddingLeft:0,marginRight:"var(--spacing-md)"},children:[_.jsx(H0,{size:20,style:{marginRight:"4px"}}),"Back"]}),_.jsx("h2",{className:"header-title gradient-text",style:{fontSize:"1.2rem",margin:0,flex:1,textAlign:"center",paddingRight:u?"60px":"0"},children:r})]}),c]}),_.jsx("main",{className:"app-main",children:n}),_.jsx("footer",{className:"app-footer",children:_.jsxs("nav",{className:"bottom-nav",children:[_.jsx(Vn,{to:"/",className:t.pathname==="/"?"active":"",children:"Home"}),_.jsx(Vn,{to:"/create",className:t.pathname==="/create"?"active":"",children:"Create"}),_.jsx(Vn,{to:"/collection",className:t.pathname==="/collection"?"active":"",children:"Decks"})]})})]})};function Mo(n,t){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i}function vx(n,t,i,r){function o(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function f(g){try{p(r.next(g))}catch(v){c(v)}}function m(g){try{p(r.throw(g))}catch(v){c(v)}}function p(g){g.done?u(g.value):o(g.value).then(f,m)}p((r=r.apply(n,t||[])).next())})}const bx=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class kf extends Error{constructor(t,i="FunctionsError",r){super(t),this.name=i,this.context=r}}class wx extends kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uy extends kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ly extends kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $h;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})($h||($h={}));class _x{constructor(t,{headers:i={},customFetch:r,region:o=$h.Any}={}){this.url=t,this.headers=i,this.region=o,this.fetch=bx(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vx(this,arguments,void 0,function*(i,r={}){var o;let u,c;try{const{headers:f,method:m,body:p,signal:g,timeout:v}=r;let b={},{region:S}=r;S||(S=this.region);const E=new URL(`${this.url}/${i}`);S&&S!=="any"&&(b["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let A;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(b["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(b["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let C=g;v&&(c=new AbortController,u=setTimeout(()=>c.abort(),v),g?(C=c.signal,g.addEventListener("abort",()=>c.abort())):C=c.signal);const O=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:A,signal:C}).catch(V=>{throw new wx(V)}),j=O.headers.get("x-relay-error");if(j&&j==="true")throw new Uy(O);if(!O.ok)throw new Ly(O);let x=((o=O.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),z;return x==="application/json"?z=yield O.json():x==="application/octet-stream"||x==="application/pdf"?z=yield O.blob():x==="text/event-stream"?z=O:x==="multipart/form-data"?z=yield O.formData():z=yield O.text(),{data:z,error:null,response:O}}catch(f){return{data:null,error:f,response:f instanceof Ly||f instanceof Uy?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Sx=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Ex=class{constructor(n){var t,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,m=null,p=u.status,g=u.statusText;if(u.ok){var v,b;if(i.method!=="HEAD"){var S;const O=await u.text();O===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=O:f=JSON.parse(O))}const A=(v=i.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&C&&C.length>1&&(m=parseInt(C[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const A=await u.text();try{c=JSON.parse(A),Array.isArray(c)&&u.status===404&&(f=[],c=null,p=200,g="OK")}catch{u.status===404&&A===""?(p=204,g="No Content"):c={message:A}}if(c&&i.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&i.shouldThrowOnError)throw new Sx(c)}return{error:c,data:f,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let f="";const m=u?.cause;if(m){var p,g,v,b;const E=(p=m?.message)!==null&&p!==void 0?p:"",A=(g=m?.code)!==null&&g!==void 0?g:"";f=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(b=m?.name)!==null&&b!==void 0?b:"Error"}: ${E}`,A&&(f+=` (${A})`),m?.stack&&(f+=`
${m.stack}`)}else{var S;f=(S=u?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}},Tx=class extends Ex{select(n){let t=!1;const i=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:i=t}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"offset":`${r}.offset`,u=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:u="text"}={}){var c;const f=[n?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const zy=new RegExp("[,()]");var Yi=class extends Tx{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const i=Array.from(new Set(t)).map(r=>typeof r=="string"&&zy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}notIn(n,t){const i=Array.from(new Set(t)).map(r=>typeof r=="string"&&zy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${i})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${o}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(n,t,i){return this.url.searchParams.append(n,`not.${t}.${i}`),this}or(n,{foreignTable:t,referencedTable:i=t}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,i){return this.url.searchParams.append(n,`${t}.${i}`),this}},xx=class{constructor(n,{headers:t={},schema:i,fetch:r}){this.url=n,this.headers=new Headers(t),this.schema=i,this.fetch=r}select(n,t){const{head:i=!1,count:r}=t??{},o=i?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),r&&this.headers.append("Prefer",`count=${r}`),new Yi({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:i=!0}={}){var r;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new Yi({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var i;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Yi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var t;const i="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Yi({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Ax=class $0{constructor(t,{headers:i={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(i),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:r=!1,get:o=!1,count:u}={}){var c;let f;const m=new URL(`${this.url}/rpc/${t}`);let p;r||o?(f=r?"HEAD":"GET",Object.entries(i).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{m.searchParams.append(v,b)})):(f="POST",p=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new Yi({method:f,url:m,headers:g,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class Rx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const r=this.getWebSocketConstructor();return new r(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Cx="2.89.0",Ox=`realtime-js/${Cx}`,q0="1.0.0",jx="2.0.0",By=q0,qh=1e4,Dx=1e3,Nx=100;var va;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(va||(va={}));var tt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(tt||(tt={}));var fn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(fn||(fn={}));var Gh;(function(n){n.websocket="websocket"})(Gh||(Gh={}));var Ya;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ya||(Ya={}));class kx{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,i){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,r;const o=(r=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var i,r;const o=(r=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,i,r){var o,u;const c=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+c.length+p.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(S),A=0;E.setUint8(A++,this.KINDS.userBroadcastPush),E.setUint8(A++,m.length),E.setUint8(A++,f.length),E.setUint8(A++,c.length),E.setUint8(A++,p.length),E.setUint8(A++,v.length),E.setUint8(A++,i),Array.from(m,O=>E.setUint8(A++,O.charCodeAt(0))),Array.from(f,O=>E.setUint8(A++,O.charCodeAt(0))),Array.from(c,O=>E.setUint8(A++,O.charCodeAt(0))),Array.from(p,O=>E.setUint8(A++,O.charCodeAt(0))),Array.from(v,O=>E.setUint8(A++,O.charCodeAt(0)));var C=new Uint8Array(S.byteLength+r.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(r),S.byteLength),C.buffer}decode(t,i){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return i(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,u,c,f,m]=r;return i({join_ref:o,ref:u,topic:c,event:f,payload:m})}return i({})}_binaryDecode(t){const i=new DataView(t),r=i.getUint8(0),o=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,i,o)}_decodeUserBroadcast(t,i,r){const o=i.getUint8(1),u=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(t.slice(m,m+o));m=m+o;const g=r.decode(t.slice(m,m+u));m=m+u;const v=r.decode(t.slice(m,m+c));m=m+c;const b=t.slice(m,t.byteLength),S=f===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,E={type:this.BROADCAST_EVENT,event:g,payload:S};return c>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(t,i){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>i.includes(r)))}}class G0{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(je||(je={}));const Vy=(n,t,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=Mx(c,n,t,o),u),{}):{}},Mx=(n,t,i,r)=>{const o=t.find(f=>f.name===n),u=o?.type,c=i[n];return u&&!r.includes(u)?K0(u,c):Kh(c)},K0=(n,t)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return Bx(t,i)}switch(n){case je.bool:return Ux(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return Lx(t);case je.json:case je.jsonb:return zx(t);case je.timestamp:return Vx(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Kh(t);default:return Kh(t)}},Kh=n=>n,Ux=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Lx=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},zx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Bx=(n,t)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let u;const c=n.slice(1,i);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>K0(t,f))}return n},Vx=n=>typeof n=="string"?n.replace(" ","T"):n,I0=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ph{constructor(t,i,r={},o=qh){this.channel=t,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var r;return this._hasReceived(t)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Py;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Py||(Py={}));class mr{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mr.syncState(this.state,o,u,c),this.pendingDiffs.forEach(m=>{this.state=mr.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=mr.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,r,o){const u=this.cloneDeep(t),c=this.transformState(i),f={},m={};return this.map(u,(p,g)=>{c[p]||(m[p]=g)}),this.map(c,(p,g)=>{const v=u[p];if(v){const b=g.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),E=g.filter(C=>S.indexOf(C.presence_ref)<0),A=v.filter(C=>b.indexOf(C.presence_ref)<0);E.length>0&&(f[p]=E),A.length>0&&(m[p]=A)}else f[p]=g}),this.syncDiff(u,{joins:f,leaves:m},r,o)}static syncDiff(t,i,r,o){const{joins:u,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(u,(f,m)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),g.length>0){const v=t[f].map(S=>S.presence_ref),b=g.filter(S=>v.indexOf(S.presence_ref)<0);t[f].unshift(...b)}r(f,g,m)}),this.map(c,(f,m)=>{let p=t[f];if(!p)return;const g=m.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=p,o(f,p,m),p.length===0&&delete t[f]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(r=>i(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,r)=>{const o=t[r];return"metas"in o?i[r]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[r]=o,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hy;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Hy||(Hy={}));var pr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(pr||(pr={}));var Bn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Bn||(Bn={}));class Ji{constructor(t,i={config:{}},r){var o,u;if(this.topic=t,this.params=i,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ph(this,fn.join,this.params,this.timeout),this.rejoinTimer=new G0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new mr(this),this.broadcastEndpointURL=I0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var r,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:c,presence:f,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[pr.PRESENCE]&&this.bindings[pr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Bn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Bn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(Bn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,C=(E=A?.length)!==null&&E!==void 0?E:0,O=[];for(let j=0;j<C;j++){const x=A[j],{filter:{event:z,schema:V,table:I,filter:Y}}=x,F=S&&S[j];if(F&&F.event===z&&Ji.isFilterValueEqual(F.schema,V)&&Ji.isFilterValueEqual(F.table,I)&&Ji.isFilterValueEqual(F.filter,Y))O.push(Object.assign(Object.assign({},x),{id:F.id}));else{this.unsubscribe(),this.state=tt.errored,t?.(Bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Bn.SUBSCRIBED);return}}).receive("error",S=>{this.state=tt.errored,t?.(Bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,r){return this.state===tt.joined&&t===pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,i,r)}async httpSend(t,i,r={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,i={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,m;const p=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ph(this,fn.leave,{},t),r.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(t,i,r){const o=new AbortController,u=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),c}_push(t,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ph(this,t,i,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Nx){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,r){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,r){var o,u;const c=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:g}=fn;if(r&&[f,m,p,g].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,i,r);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var E,A,C;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(A=S.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(b,r)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var E,A,C,O,j,x;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const z=S.id,V=(E=S.filter)===null||E===void 0?void 0:E.event;return z&&((A=i.ids)===null||A===void 0?void 0:A.includes(z))&&(V==="*"||V?.toLocaleLowerCase()===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const z=(j=(O=S?.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return z==="*"||z===((x=i?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:A,table:C,commit_timestamp:O,type:j,errors:x}=E;b=Object.assign(Object.assign({},{schema:A,table:C,commit_timestamp:O,eventType:j,new:{},old:{},errors:x}),this._getPayloadRecords(E))}S.callback(b,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,r){const o=t.toLocaleLowerCase(),u={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,i){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&Ji.isEqual(o.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const r in t)if(t[r]!==i[r])return!1;return!0}static isFilterValueEqual(t,i){return(t??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fn.close,{},t)}_onError(t){this._on(fn.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=Vy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=Vy(t.columns,t.old_record)),i}}const gh=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Px=[1e3,2e3,5e3,1e4],Hx=1e4,$x=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qx{constructor(t,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qh,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gh,this.ref=0,this.reconnectTimer=null,this.vsn=By,this.logger=gh,this.conn=null,this.sendBuffer=[],this.serializer=new kx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((r=i?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${Gh.websocket}`,this.httpEndpoint=I0(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,r){this.logger(t,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case va.connecting:return Ya.Connecting;case va.open:return Ya.Open;case va.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===r);if(o)return o;{const u=new Ji(`realtime:${t}`,i,this);return this.channels.push(u),u}}push(t){const{topic:i,event:r,payload:o,ref:u}=t,c=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${i} ${r} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dx,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:u,ref:c}=i,f=c?`(${c})`:"",m=u.status||"";this.log("receive",`${m} ${r} ${o} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===va.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===va.open||this.conn.readyState===va.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fn.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${t}${r}${o}`}_workerObjectUrl(t){let i;if(t)i=t;else{const r=new Blob([$x],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i,r=!1;if(t)i=t,r=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:Ox};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(fn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(i)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new G0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,r,o,u,c,f,m,p,g,v,b,S;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:qh,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:ro.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:gh,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:By,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>Px[E-1]||Hx),this.vsn){case q0:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((E,A)=>A(JSON.stringify(E))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((E,A)=>A(JSON.parse(E)));break;case jx:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var _r=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gx(n,t,i){const r=new URL(t,n);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&r.searchParams.set(o,u);return r.toString()}async function Kx(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Ix(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:o,body:u,headers:c}){const f=Gx(n.baseUrl,r,o),m=await Kx(n.auth),p=await t(f,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!p.ok){const S=v?b:void 0,E=S?.error;throw new _r(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:S})}return{status:p.status,headers:p.headers,data:b}}}}function lo(n){return n.join("")}var Yx=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:lo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const i={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lo(n.namespace)}`}),!0}catch(t){if(t instanceof _r&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(i){if(i instanceof _r&&i.status===409)return;throw i}}};function Pi(n){return n.join("")}var Xx=class{constructor(n,t="",i){this.client=n,this.prefix=t,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables`,body:t,headers:i})).data.metadata}async updateTable(n,t){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pi(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(i){if(i instanceof _r&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(i){if(i instanceof _r&&i.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw i}}},Fx=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Ix({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new Yx(this.client,t),this.tableOps=new Xx(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Uo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Jx=class extends Uo{constructor(n,t,i){super(n),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ih=class extends Uo{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const Mf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Qx=()=>Response,Yh=n=>{if(Array.isArray(n))return n.map(i=>Yh(i));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Yh(r)}),t},Wx=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Zx=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Sr(n){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(n)}function e1(n,t){if(Sr(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(Sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function t1(n){var t=e1(n,"string");return Sr(t)=="symbol"?t:t+""}function n1(n,t,i){return(t=t1(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function $y(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function ie(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(i),!0).forEach(function(r){n1(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):$y(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}const yh=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},a1=async(n,t,i)=>{n instanceof await Qx()&&!i?.noResolveJson?n.json().then(r=>{const o=n.status||500,u=r?.statusCode||o+"";t(new Jx(yh(r),o,u))}).catch(r=>{t(new Ih(yh(r),r))}):t(new Ih(yh(n),n))},i1=(n,t,i,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(Wx(r)?(o.headers=ie({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),ie(ie({},o),i))};async function Lr(n,t,i,r,o,u){return new Promise((c,f)=>{n(i,i1(t,r,o,u)).then(m=>{if(!m.ok)throw m;return r?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>a1(m,f,r))})}async function Er(n,t,i,r){return Lr(n,"GET",t,i,r)}async function hn(n,t,i,r,o){return Lr(n,"POST",t,r,o,i)}async function Xh(n,t,i,r,o){return Lr(n,"PUT",t,r,o,i)}async function s1(n,t,i,r){return Lr(n,"HEAD",t,ie(ie({},i),{},{noResolveJson:!0}),r)}async function Uf(n,t,i,r,o){return Lr(n,"DELETE",t,r,o,i)}var r1=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};let Y0;Y0=Symbol.toStringTag;var l1=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Y0]="BlobDownloadBuilder",this.promise=null}asStream(){return new r1(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};const o1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var u1=class{constructor(n,t={},i,r){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=i,this.fetch=Mf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,i,r){var o=this;try{let u;const c=ie(ie({},qy),r);let f=ie(ie({},o.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,m&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(f=ie(ie({},f),r.headers));const p=o._removeEmptyFolders(t),g=o._getFinalPath(p),v=await(n=="PUT"?Xh:hn)(o.fetch,`${o.url}/object/${g}`,u,ie({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ze(u))return{data:null,error:u};throw u}}async upload(n,t,i){return this.uploadOrUpdate("POST",n,t,i)}async uploadToSignedUrl(n,t,i,r){var o=this;const u=o._removeEmptyFolders(n),c=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let m;const p=ie({upsert:qy.upsert},r),g=ie(ie({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:u,fullPath:(await Xh(o.fetch,f.toString(),m,{headers:g})).Key},error:null}}catch(m){if(o.shouldThrowOnError)throw m;if(ze(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,t){var i=this;try{let r=i._getFinalPath(n);const o=ie({},i.headers);t?.upsert&&(o["x-upsert"]="true");const u=await hn(i.fetch,`${i.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(i.url+u.url),f=c.searchParams.get("token");if(!f)throw new Uo("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async update(n,t,i){return this.uploadOrUpdate("PUT",n,t,i)}async move(n,t,i){var r=this;try{return{data:await hn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async copy(n,t,i){var r=this;try{return{data:{path:(await hn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async createSignedUrl(n,t,i){var r=this;try{let o=r._getFinalPath(n),u=await hn(r.fetch,`${r.url}/object/sign/${o}`,ie({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:r.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${r.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async createSignedUrls(n,t,i){var r=this;try{const o=await hn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>ie(ie({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}download(n,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",u=this._getFinalPath(n),c=()=>Er(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new l1(c,this.shouldThrowOnError)}async info(n){var t=this;const i=t._getFinalPath(n);try{return{data:Yh(await Er(t.fetch,`${t.url}/object/info/${i}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async exists(n){var t=this;const i=t._getFinalPath(n);try{return await s1(t.fetch,`${t.url}/object/${i}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ze(r)&&r instanceof Ih){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const i=this._getFinalPath(n),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&r.push(c);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}async remove(n){var t=this;try{return{data:await Uf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async list(n,t,i){var r=this;try{const o=ie(ie(ie({},o1),t),{},{prefix:n||""});return{data:await hn(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},i),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async listV2(n,t){var i=this;try{const r=ie({},n);return{data:await hn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,r,{headers:i.headers},t),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const X0="2.89.0",F0={"X-Client-Info":`storage-js/${X0}`};var c1=class{constructor(n,t={},i,r){this.shouldThrowOnError=!1;const o=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ie(ie({},F0),t),this.fetch=Mf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const i=t.listBucketOptionsToQueryString(n);return{data:await Er(t.fetch,`${t.url}/bucket${i}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async getBucket(n){var t=this;try{return{data:await Er(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async createBucket(n,t={public:!1}){var i=this;try{return{data:await hn(i.fetch,`${i.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async updateBucket(n,t){var i=this;try{return{data:await Xh(i.fetch,`${i.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async emptyBucket(n){var t=this;try{return{data:await hn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async deleteBucket(n){var t=this;try{return{data:await Uf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},h1=class{constructor(n,t={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ie(ie({},F0),t),this.fetch=Mf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await hn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async listBuckets(n){var t=this;try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const r=i.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Er(t.fetch,o,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async deleteBucket(n){var t=this;try{return{data:await Uf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}from(n){var t=this;if(!Zx(n))throw new Uo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Fx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(i,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}};const Lf={"X-Client-Info":`storage-js/${X0}`,"Content-Type":"application/json"};var J0=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var vh=class extends J0{constructor(n,t,i){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},f1=class extends J0{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const zf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),d1=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Gy=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),m1=async(n,t,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const r=n.status||500,o=n;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||r+"";t(new vh(Gy(u),r,c))}).catch(()=>{const u=r+"";t(new vh(o.statusText||`HTTP ${r} error`,r,u))});else{const u=r+"";t(new vh(o.statusText||`HTTP ${r} error`,r,u))}}else t(new f1(Gy(n),n))},p1=(n,t,i,r)=>{const o={method:n,headers:t?.headers||{}};return r?(d1(r)?(o.headers=ie({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,ie(ie({},o),i)):o};async function g1(n,t,i,r,o,u){return new Promise((c,f)=>{n(i,p1(t,r,o,u)).then(m=>{if(!m.ok)throw m;if(r?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>m1(m,f,r))})}async function Ht(n,t,i,r,o){return g1(n,"POST",t,r,o,i)}var y1=class{constructor(n,t={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ie(ie({},Lf),t),this.fetch=zf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async getIndex(n,t){var i=this;try{return{data:await Ht(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async listIndexes(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async deleteIndex(n,t){var i=this;try{return{data:await Ht(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:i.headers})||{},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}},v1=class{constructor(n,t={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ie(ie({},Lf),t),this.fetch=zf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async getVectors(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ht(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async queryVectors(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}},b1=class{constructor(n,t={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ie(ie({},Lf),t),this.fetch=zf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async getBucket(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async listBuckets(n={}){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async deleteBucket(n){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}},w1=class extends b1{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new _1(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,i=this;return t().call(i,n)}async getBucket(n){var t=()=>super.getBucket,i=this;return t().call(i,n)}async listBuckets(n={}){var t=()=>super.listBuckets,i=this;return t().call(i,n)}async deleteBucket(n){var t=()=>super.deleteBucket,i=this;return t().call(i,n)}},_1=class extends y1{constructor(n,t,i,r){super(n,t,r),this.vectorBucketName=i}async createIndex(n){var t=()=>super.createIndex,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,i=this;return t().call(i,i.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,i=this;return t().call(i,i.vectorBucketName,n)}index(n){return new S1(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},S1=class extends v1{constructor(n,t,i,r,o){super(n,t,o),this.vectorBucketName=i,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(n){var t=()=>super.getVectors,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,i=this;return t().call(i,ie(ie({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},E1=class extends c1{constructor(n,t={},i,r){super(n,t,i,r)}from(n){return new u1(this.url,this.headers,n,this.fetch)}get vectors(){return new w1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new h1(this.url+"/iceberg",this.headers,this.fetch)}};const Q0="2.89.0",Xi=30*1e3,Fh=3,bh=Fh*Xi,T1="http://localhost:9999",x1="supabase.auth.token",A1={"X-Client-Info":`gotrue-js/${Q0}`},Jh="X-Supabase-Api-Version",W0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C1=600*1e3;class Tr extends Error{constructor(t,i,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class O1 extends Tr{constructor(t,i,r){super(t,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function j1(n){return ee(n)&&n.name==="AuthApiError"}class Xa extends Tr{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class Kn extends Tr{constructor(t,i,r,o){super(t,r,o),this.name=i,this.status=r}}class Vt extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D1(n){return ee(n)&&n.name==="AuthSessionMissingError"}class Hi extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends Kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uo extends Kn{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N1(n){return ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ky extends Kn{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class k1 extends Kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qh extends Kn{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function wh(n){return ee(n)&&n.name==="AuthRetryableFetchError"}class Iy extends Kn{constructor(t,i,r){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Wh extends Kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yy=` 	
\r=`.split(""),M1=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Yy.length;t+=1)n[Yy[t].charCodeAt(0)]=-2;for(let t=0;t<Eo.length;t+=1)n[Eo[t].charCodeAt(0)]=t;return n})();function Xy(n,t,i){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;i(Eo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;i(Eo[r]),t.queuedBits-=6}}function Z0(n,t,i){const r=M1[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Fy(n){const t=[],i=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{z1(c,r,i)};for(let c=0;c<n.length;c+=1)Z0(n.charCodeAt(c),o,u);return t.join("")}function U1(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function L1(n,t){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}U1(r,t)}}function z1(n,t,i){if(t.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function ns(n){const t=[],i={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)Z0(n.charCodeAt(o),i,r);return new Uint8Array(t)}function B1(n){const t=[];return L1(n,i=>t.push(i)),new Uint8Array(t)}function Fa(n){const t=[],i={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>Xy(o,i,r)),Xy(null,i,r),t.join("")}function V1(n){return Math.round(Date.now()/1e3)+n}function P1(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},eb=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function H1(n){const t={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return i.searchParams.forEach((r,o)=>{t[o]=r}),t}const tb=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),$1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Fi=async(n,t,i)=>{await n.setItem(t,JSON.stringify(i))},qa=async(n,t)=>{const i=await n.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ht=async(n,t)=>{await n.removeItem(t)};class Lo{constructor(){this.promise=new Lo.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Lo.promiseConstructor=Promise;function _h(n){const t=n.split(".");if(t.length!==3)throw new Wh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!R1.test(t[r]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(Fy(t[0])),payload:JSON.parse(Fy(t[1])),signature:ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function q1(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function G1(n,t){return new Promise((r,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!t(u,null,c)){r(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function K1(n){return("0"+n.toString(16)).substr(-2)}function I1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,K1).join("")}async function Y1(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function X1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await Y1(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(n,t,i=!1){const r=I1();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await Fi(n,`${t}-code-verifier`,o);const u=await X1(r);return[u,r===u?"plain":"s256"]}const F1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J1(n){const t=n.headers.get(Jh);if(!t||!t.match(F1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q1(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function W1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(n){if(!Z1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sh(){const n={};return new Proxy(n,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eA(n,t){return new Proxy(n,{get:(i,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,r,o)}})}function Jy(n){return JSON.parse(JSON.stringify(n))}const Ka=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),tA=[502,503,504];async function Qy(n){var t;if(!$1(n))throw new Qh(Ka(n),0);if(tA.includes(n.status))throw new Qh(Ka(n),n.status);let i;try{i=await n.json()}catch(u){throw new Xa(Ka(u),u)}let r;const o=J1(n);if(o&&o.getTime()>=W0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Iy(Ka(i),n.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Iy(Ka(i),n.status,i.weak_password.reasons);throw new O1(Ka(i),n.status||500,r)}const nA=(n,t,i,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function ae(n,t,i,r){var o;const u=Object.assign({},r?.headers);u[Jh]||(u[Jh]=W0["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const c=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await aA(n,t,i+f,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function aA(n,t,i,r,o,u){const c=nA(t,r,o,u);let f;try{f=await n(i,Object.assign({},c))}catch(m){throw console.error(m),new Qh(Ka(m),0)}if(f.ok||await Qy(f),r?.noResolveJson)return f;try{return await f.json()}catch(m){await Qy(m)}}function un(n){var t;let i=null;rA(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=V1(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:i,user:r},error:null}}function Wy(n){const t=un(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function ba(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function iA(n){return{data:n,error:null}}function sA(n){const{action_link:t,email_otp:i,hashed_token:r,redirect_to:o,verification_type:u}=n,c=Mo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:i,hashed_token:r,redirect_to:o,verification_type:u},m=Object.assign({},c);return{data:{properties:f,user:m},error:null}}function Zy(n){return n}function rA(n){return n.access_token&&n.refresh_token&&n.expires_in}const Eh=["global","local","others"];class lA{constructor({url:t="",headers:i={},fetch:r}){this.url=t,this.headers=i,this.fetch=tb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=Eh[0]){if(Eh.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eh.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,i={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ba})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:i}=t,r=Mo(t,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:sA,redirectTo:i?.redirectTo})}catch(i){if(ee(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ba})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,r,o,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Zy});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){qi(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ba})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){qi(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:ba})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,i=!1){qi(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:ba})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qi(t.userId);try{const{data:i,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _deleteFactor(t){qi(t.userId),qi(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,r,o,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Zy});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}}}function ev(n={}){return{getItem:t=>n[t]||null,setItem:(t,i)=>{n[t]=i},removeItem:t=>{delete n[t]}}}const Gi={debug:!!(globalThis&&eb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oA extends nb{}async function uA(n,t,i){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await i()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new oA(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Gi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function cA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ab(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function hA(n){return parseInt(n,16)}function fA(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function dA(n){var t;const{chainId:i,domain:r,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:m,resources:p,scheme:g,uri:v,version:b}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=ab(n.address),E=g?`${g}://${r}`:r,A=n.statement?`${n.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${S}

${A}`;let O=`URI: ${v}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),f&&(O+=`
Not Before: ${f.toISOString()}`),m&&(O+=`
Request ID: ${m}`),p){let j=`
Resources:`;for(const x of p){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);j+=`
- ${x}`}O+=j}return`${C}
${O}`}class We extends Error{constructor({message:t,code:i,cause:r,name:o}){var u;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=o??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class To extends We{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function mA({error:n,options:t}){var i,r,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(ib(c)){if(u.rp.id!==c)return new We({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function pA({error:n,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(ib(r)){if(i.rpId!==r)return new We({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class gA{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yA=new gA;function vA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:i,excludeCredentials:r}=n,o=Mo(n,["challenge","user","excludeCredentials"]),u=ns(t).buffer,c=Object.assign(Object.assign({},i),{id:ns(i.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:ns(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function bA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:i}=n,r=Mo(n,["challenge","allowCredentials"]),o=ns(t).buffer,u=Object.assign(Object.assign({},r),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function wA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:Fa(new Uint8Array(n.response.attestationObject)),clientDataJSON:Fa(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _A(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Fa(new Uint8Array(o.authenticatorData)),clientDataJSON:Fa(new Uint8Array(o.clientDataJSON)),signature:Fa(new Uint8Array(o.signature)),userHandle:o.userHandle?Fa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ib(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function tv(){var n,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SA(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new To("Browser returned unexpected credential type",t)}:{data:null,error:new To("Empty credential response",t)}}catch(t){return{data:null,error:mA({error:t,options:n})}}}async function EA(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new To("Browser returned unexpected credential type",t)}:{data:null,error:new To("Empty credential response",t)}}catch(t){return{data:null,error:pA({error:t,options:n})}}}const TA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xo(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))r[u]=c;else if(i(c))r[u]=c;else if(t(c)){const f=r[u];t(f)?r[u]=xo(f,c):r[u]=xo(c)}else r[u]=c}return r}function AA(n,t){return xo(TA,n,t||{})}function RA(n,t){return xo(xA,n,t||{})}class CA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:r,signal:o},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!c)return{data:null,error:f};const m=o??yA.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=AA(c.webauthn.credential_options.publicKey,u?.create),{data:g,error:v}=await SA({publicKey:p,signal:m});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=RA(c.webauthn.credential_options.publicKey,u?.request),{data:g,error:v}=await EA(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Xa("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn authentication")};try{if(!tv())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:r},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:m}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:r,credential_response:m.credential_response}})}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Xa("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn registration")};try{if(!tv())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:o},{create:u});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Xa("Unexpected error in register",c)}}}}cA();const OA={url:T1,storageKey:x1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nv(n,t,i){return await i()}const Ki={};class xr{get jwks(){var t,i;return(i=(t=Ki[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=Ki[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{cachedAt:t})}constructor(t){var i,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},OA),t);if(this.storageKey=u.storageKey,this.instanceID=(i=xr.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,xr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ft()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new lA({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=tb(u.fetch),this.lock=u.lock||nv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ft()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=uA:this.lock=nv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:eb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ev(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ev(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},r="none";if(ft()&&(i=H1(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),N1(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ee(i)?this._returnResult({error:i}):this._returnResult({error:new Xa("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,r,o;try{const u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:un}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var i,r,o;try{let u;if("email"in t){const{email:g,password:v,options:b}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await $i(this.storage,this.storageKey)),u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:E},xform:un})}else if("phone"in t){const{phone:g,password:v,options:b}=t;u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:un})}else throw new oo("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let i;if("email"in t){const{email:u,password:c,options:f}=t;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wy})}else if("phone"in t){const{phone:u,password:c,options:f}=t;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wy})}else throw new oo("You must provide either an email or phone number and a password");const{data:r,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const u=new Hi;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,r,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,r,o,u,c,f,m,p,g,v,b;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:A,wallet:C,statement:O,options:j}=t;let x;if(ft())if(typeof C=="object")x=C;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")x=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=C}const z=new URL((i=j?.url)!==null&&i!==void 0?i:window.location.href),V=await x.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=ab(V[0]);let Y=(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Y){const re=await x.request({method:"eth_chainId"});Y=hA(re)}const F={domain:z.host,address:I,statement:O,uri:z.href,version:"1",chainId:Y,nonce:(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=j?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=dA(F),E=await x.request({method:"personal_sign",params:[fA(S),I]})}try{const{data:A,error:C}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:un});if(C)throw C;if(!A||!A.session||!A.user){const O=new Hi;return this._returnResult({data:{user:null,session:null},error:O})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(ee(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var i,r,o,u,c,f,m,p,g,v,b,S;let E,A;if("message"in t)E=t.message,A=t.signature;else{const{chain:C,wallet:O,statement:j,options:x}=t;let z;if(ft())if(typeof O=="object")z=O;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))z=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const V=new URL((i=x?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in z&&z.signIn){const I=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),j?{statement:j}:null));let Y;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")Y=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)Y=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)E=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),A=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${V.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(o=(r=x?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=x?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((f=x?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((m=x?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((p=x?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((v=(g=x?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...x.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const I=await z.signMessage(new TextEncoder().encode(E),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:C,error:O}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Fa(A)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:un});if(O)throw O;if(!C||!C.session||!C.user){const j=new Hi;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:O})}catch(C){if(ee(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const i=await qa(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{if(!r&&this.flowType==="pkce")throw new k1;const{data:u,error:c}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:un});if(await ht(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new Hi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:i,provider:r,token:o,access_token:u,nonce:c}=t,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:un}),{data:m,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new Hi;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,r,o,u,c;try{if("email"in t){const{email:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await $i(this.storage,this.storageKey));const{error:v}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:g}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new oo("You must provide either an email or phone number.")}catch(f){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var i,r;try{let o,u;"options"in t&&(o=(i=t.options)===null||i===void 0?void 0:i.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:un});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var i,r,o,u,c;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await $i(this.storage,this.storageKey));const p=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:iA});return!((u=p.data)===null||u===void 0)&&u.url&&ft()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;if(r)throw r;if(!i)throw new Vt;const{error:o}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:u}=t,{error:c}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:o,options:u}=t,{data:c,error:f}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new oo("You must provide either an email or phone number and a type")}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await qa(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Sh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=eA(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ba}):await this._useSession(async i=>{var r,o,u;const{data:c,error:f}=i;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ba})})}catch(i){if(ee(i))return D1(i)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async r=>{const{data:o,error:u}=r;if(u)throw u;if(!o.session)throw new Vt;const c=o.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await $i(this.storage,this.storageKey));const{data:p,error:g}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:c.access_token,xform:ba});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const i=Date.now()/1e3;let r=i,o=!0,u=null;const{payload:c}=_h(t.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(ee(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var r;if(!t){const{data:c,error:f}=i;if(f)throw f;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Vt;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!ft())throw new uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ky("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ky("No code detected.");const{data:j,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:m,token_type:p}=t;if(!u||!f||!c||!p)throw new uo("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let b=g+v;m&&(b=parseInt(m));const S=b-g;S*1e3<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const E=b-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,g);const{data:A,error:C}=await this._getUser(u);if(C)throw C;const O={provider_token:r,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:b,refresh_token:c,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:t.type},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:u}=i;if(u)return this._returnResult({error:u});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(j1(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=P1(),r={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async i=>{var r,o;try{const{data:{session:u},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await $i(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:r,error:o}=await this._useSession(async u=>{var c,f,m,p,g;const{data:v,error:b}=u;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return ft()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ee(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var r;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:c,provider:f,token:m,access_token:p,nonce:g}=t,v=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:un}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Hi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(o){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var r,o;const{data:u,error:c}=i;if(c)throw c;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await G1(async o=>(o>0&&await q1(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:un})),(o,u)=>{const c=200*Math.pow(2,o);return u&&wh(u)&&Date.now()+c-r<Xi})}catch(r){if(this._debug(i,"error",r),ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",r),ft()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await qa(this.storage,this.storageKey);if(o&&this.userStorage){let c=await qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Fi(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Sh()}else if(o&&!o.user&&!o.user){const c=await qa(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await ht(this.storage,this.storageKey+"-user"),await Fi(this.storage,this.storageKey,o)):o.user=Sh()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<bh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${bh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),wh(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var i,r;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Lo;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Vt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),ee(u)){const c={data:null,error:u};return wh(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,i,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:i});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,i)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},t),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await Fi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=Jy(o);await Fi(this.storage,this.storageKey,u)}else{const o=Jy(i);await Fi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xi}ms, refresh threshold is ${Fh} ticks`),o<=Fh&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,c]=await $i(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);o.push(u.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var r;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var r,o;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wA(t.webauthn.credential_response):_A(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vA(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:bA(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=i?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,i;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=_h(r.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((i=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Vt});const c=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,i){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Vt});const c=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(t){if(ee(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let r=i.keys.find(f=>f.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+C1>o)return r;const{data:u,error:c}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,r=u.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,i={}){try{let r=t;if(!r){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});r=S.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:m}}=_h(r);i?.allowExpired||Q1(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:u,header:o,signature:c},error:null}}const g=W1(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,B1(`${f}.${m}`)))throw new Wh("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}}xr.nextInstanceID={};const jA=xr,DA="2.89.0";let fr="";typeof Deno<"u"?fr="deno":typeof document<"u"?fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fr="react-native":fr="node";const NA={"X-Client-Info":`supabase-js-${fr}/${DA}`},kA={headers:NA},MA={schema:"public"},UA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LA={};function Ar(n){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(n)}function zA(n,t){if(Ar(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(Ar(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function BA(n){var t=zA(n,"string");return Ar(t)=="symbol"?t:t+""}function VA(n,t,i){return(t=BA(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function av(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function He(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?av(Object(i),!0).forEach(function(r){VA(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):av(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}const PA=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),HA=()=>Headers,$A=(n,t,i)=>{const r=PA(i),o=HA();return async(u,c)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:n;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(u,He(He({},c),{},{headers:p}))}};function qA(n){return n.endsWith("/")?n:n+"/"}function GA(n,t){var i,r;const{db:o,auth:u,realtime:c,global:f}=n,{db:m,auth:p,realtime:g,global:v}=t,b={db:He(He({},m),o),auth:He(He({},p),u),realtime:He(He({},g),c),storage:{},global:He(He(He({},v),f),{},{headers:He(He({},(i=v?.headers)!==null&&i!==void 0?i:{}),(r=f?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function KA(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IA=class extends jA{constructor(n){super(n)}},YA=class{constructor(n,t,i){var r,o;this.supabaseUrl=n,this.supabaseKey=t;const u=KA(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:MA,realtime:LA,auth:He(He({},UA),{},{storageKey:c}),global:kA},m=GA(i??{},f);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=$A(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Ax(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new E1(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new _x(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,i)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,i;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:o,storageKey:u,flowType:c,lock:f,debug:m,throwOnError:p},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IA({url:this.authUrl.href,headers:He(He({},b),g),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:o,flowType:c,lock:f,debug:m,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new qx(this.realtimeUrl.href,He(He({},n),{},{params:He(He({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const XA=(n,t,i)=>new YA(n,t,i);function FA(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}FA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JA="https://mntjgtdsmjnbbkzcuaar.supabase.co",QA="sb_publishable_arCiyuW374x8Of3W6QSawg__qniYqNj",at=XA(JA,QA),sb=T.createContext({}),cs=()=>T.useContext(sb),WA=({children:n})=>{const[t,i]=T.useState(null),[r,o]=T.useState(!0);T.useEffect(()=>{at.auth.getSession().then(({data:{session:m}})=>{i(m?.user??null),o(!1)});const{data:{subscription:f}}=at.auth.onAuthStateChange((m,p)=>{i(p?.user??null),o(!1)});return()=>f.unsubscribe()},[]);const c={user:t,loading:r,signOut:async()=>{await at.auth.signOut()}};return _.jsx(sb.Provider,{value:c,children:!r&&n})},ZA=()=>{const{setTitle:n,setBackTo:t}=us(),{user:i,signOut:r}=cs();T.useEffect(()=>{n("QuartettNation"),t(null)},[]);const o=async()=>{try{await r()}catch(c){console.error("Error signing out:",c)}},u=i?i.user_metadata?.full_name||i.email?.split("@")[0]||"User":"Guest";return _.jsxs("div",{className:"page-view app-card centered",style:{gap:"2rem"},children:[_.jsxs("div",{style:{textAlign:"center"},children:[_.jsx("h1",{className:"hero-title gradient-text",children:"Challenge your friends"}),_.jsx("p",{className:"hero-subtitle",children:"Generate unique Top Trump decks using AI."})]}),_.jsxs("div",{className:"auth-status-card",style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"var(--radius-lg)",border:"1px solid var(--border)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[_.jsxs("div",{style:{marginBottom:"1rem"},children:[_.jsx("span",{style:{color:"var(--text-dim)",fontSize:"0.9rem"},children:"Currently playing as:"}),_.jsx("h3",{style:{margin:"4px 0",color:i?"var(--primary)":"var(--text-main)"},children:u}),i&&_.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-dim)"},children:i.email})]}),i?_.jsx(Me,{variant:"secondary",onClick:o,size:"sm",children:"Log Out"}):_.jsx(Vn,{to:"/auth",children:_.jsx(Me,{variant:"secondary",size:"sm",children:"Log In / Sign Up"})})]}),_.jsxs("div",{className:"action-buttons",children:[_.jsx(Vn,{to:"/create",className:"btn btn-primary",style:{minWidth:"160px",textAlign:"center"},children:"Create New Deck"}),_.jsx(Vn,{to:"/collection",className:"btn btn-secondary",style:{minWidth:"160px",textAlign:"center"},children:"My Collection"})]}),_.jsx("div",{className:"recent-games",style:{width:"100%",maxWidth:"400px"},children:_.jsx(V0,{message:"No active games."})})]})},eR="modulepreload",tR=function(n){return"/QuartettNation/"+n},iv={},Zh=function(t,i,r){let o=Promise.resolve();if(i&&i.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");o=m(i.map(p=>{if(p=tR(p),p in iv)return;iv[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":eR,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((S,E)=>{b.addEventListener("load",S),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},nR=({deck:n,updateDeck:t,onNext:i})=>{const r=n.categories||[],o=(c,f,m)=>{const p=[...r];p[c]={...p[c],[f]:m},t({categories:p})},u=c=>{const f=[...r];f[c]={...f[c],higherWins:!f[c].higherWins},t({categories:f})};return _.jsxs("div",{className:"category-review",children:[_.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"1rem",fontSize:"0.9rem"},children:'Verify the categories. Click "High" to toggle if a higher value wins.'}),_.jsx("div",{className:"modern-list",children:r.map((c,f)=>_.jsxs("div",{className:"modern-list-item",children:[_.jsx("div",{className:"category-inputs",children:_.jsx(Wa,{value:c.name,onChange:m=>o(f,"name",m.target.value),placeholder:"Name",fullWidth:!0,className:"category-input-override"})}),_.jsx(Me,{variant:c.higherWins?"primary":"secondary",size:"sm",onClick:()=>u(f),className:"toggle-btn-override",children:c.higherWins?"High Wins":"Low Wins"})]},f))}),_.jsx("div",{className:"review-actions",children:_.jsx(Me,{variant:"primary",onClick:i,children:"Next: Card Names"})})]})},aR=({deck:n,updateDeck:t,onNext:i})=>{const r=n.cards||[],o=(u,c)=>{const f=[...r];f[u]={...f[u],name:c},t({cards:f})};return _.jsxs("div",{className:"card-name-review",children:[_.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"1rem",fontSize:"0.9rem"},children:"Review all 32 card names. Click on any name to edit it."}),_.jsx("div",{className:"modern-list",children:r.map((u,c)=>_.jsxs("div",{className:"modern-list-item",children:[_.jsxs("span",{className:"index",style:{minWidth:"30px",color:"var(--text-dim)",fontSize:"0.8rem"},children:["#",c+1]}),_.jsx(Wa,{value:u.name,onChange:f=>o(c,f.target.value),fullWidth:!0,className:"card-name-input-override"})]},c))}),_.jsx("div",{className:"review-actions",children:_.jsx(Me,{variant:"primary",onClick:i,children:"Next: Images"})})]})},iR="https://commons.wikimedia.org/w/api.php",sR=3;let Th=0;const ef=[],rb=()=>{if(Th>=sR||ef.length===0)return;const{task:n,resolve:t,reject:i}=ef.shift();Th++,n().then(t).catch(i).finally(()=>{Th--,rb()})},rR=n=>(...t)=>new Promise((i,r)=>{ef.push({task:()=>n(...t),resolve:i,reject:r}),rb()}),lR=n=>{if(!n)return"";const t=["1:1","aspect ratio","studio lighting","view","profile","front","side","detailed","4k","hd","close-up"];let i=n.toLowerCase();return t.forEach(r=>{i=i.replace(r,"")}),i.replace(/\s+/g," ").trim()},oR=async(n,t)=>{const i=async o=>{const c=new URLSearchParams({action:"query",format:"json",generator:"search",gsrsearch:o,gsrnamespace:"6",gsrlimit:50,prop:"imageinfo",iiprop:"url|extmetadata|dimensions|thumburl",iiurlwidth:640,origin:"*"});console.log(`Searching Wikimedia for: "${o}"`);try{const f=await fetch(`${iR}?${c.toString()}`);if(f.status===429)return await new Promise(p=>setTimeout(p,2e3)),i(o);const m=await f.json();return!m.query||!m.query.pages?[]:Object.values(m.query.pages).map(p=>{const g=p.imageinfo?p.imageinfo[0]:null;if(!g)return null;const v=g.thumburl||g.url;let b="Unknown",S="CC BY-SA";return g.extmetadata&&(g.extmetadata.Artist&&(b=g.extmetadata.Artist.value.replace(/<[^>]*>?/gm,"")),g.extmetadata.LicenseShortName&&(S=g.extmetadata.LicenseShortName.value)),{id:p.pageid,title:p.title.replace("File:",""),url:v,original_url:g.url,attribution:`${S} / ${b}`}}).filter(p=>{if(!p)return!1;const g=p.original_url.toLowerCase();return[".jpg",".jpeg",".png",".webp"].some(b=>g.endsWith(b))})}catch(f){return console.error("Wikimedia Search Error:",f),[]}};return(await i(n)).slice(0,t)},lb=(n,t=5)=>{const i=lR(n);return i?rR(oR)(i,t):Promise.resolve([])},uR=({deck:n,updateDeck:t,onSave:i,currentIndex:r=0,onNavigate:o,isModal:u=!1})=>{const[c,f]=T.useState({x:0,y:0,scale:1}),[m,p]=T.useState(!1),[g,v]=T.useState({x:0,y:0}),[b,S]=T.useState([]),[E,A]=T.useState(!1),[C,O]=T.useState(""),[j,x]=T.useState({...n.cards[r]}),[z,V]=T.useState(!1),I=T.useRef(null),Y=T.useRef(r);T.useEffect(()=>{Y.current!==r?(x({...n.cards[r]}),V(!1),n.cards[r].image_settings?f(n.cards[r].image_settings):f({x:0,y:0,scale:1}),Y.current=r):z||x(X=>({...n.cards[r]}))},[r,n.cards,z]),T.useEffect(()=>{(async()=>{const X=n.cards[r];if(X.available_images&&X.available_images.length>1)S(X.available_images);else{A(!0);try{const se=await lb(X.name,20);S(se);const oe=[...n.cards];oe[r].available_images=se,t({cards:oe})}catch(se){console.error("Failed to load alts",se)}finally{A(!1)}}})()},[r,n.cards,t]);const F=P=>{p(!0),v({x:P.clientX-c.x,y:P.clientY-c.y}),P.target.setPointerCapture(P.pointerId)},re=P=>{if(m){const X={...c,x:P.clientX-g.x,y:P.clientY-g.y};f(X),V(!0)}},Se=P=>{p(!1),P.target.releasePointerCapture(P.pointerId)},qe=P=>{const X=P.deltaY*-.001,se=Math.min(Math.max(.5,c.scale+X),3);f(oe=>({...oe,scale:se})),V(!0)},Ge=P=>{x(X=>({...X,image_url:P.url,attribution_text:P.attribution})),f({x:0,y:0,scale:1}),V(!0)},an=(P,X)=>{x(se=>{const oe={...se.values,[P]:X};return{...se,values:oe}}),V(!0)},wt=()=>{const P=[...n.cards];P[r]={...j,image_settings:{...c}},t({cards:P}),V(!1)},mt=()=>{r<n.cards.length-1?o(r+1):i()},$=()=>{r>0&&o(r-1)};return _.jsxs("div",{className:"card-studio",children:[_.jsx("div",{className:"studio-header",children:_.jsx("p",{className:"studio-hint",children:"Drag image to position. Click values to edit."})}),_.jsx("div",{className:"studio-stage",children:_.jsx("div",{className:"studio-card-frame card-scene",children:_.jsx("div",{className:"card-inner",children:_.jsxs("div",{className:"card-face card-front",style:{position:"relative"},children:[_.jsxs("div",{className:"card-top-section",children:[n.theme&&_.jsx("div",{className:"deck-name",children:n.theme}),_.jsx("h3",{className:"card-name",children:j.name})]}),_.jsxs("div",{className:"card-image-wrapper studio-interactive-image",onPointerDown:F,onPointerMove:re,onPointerUp:Se,onWheel:qe,style:{cursor:m?"grabbing":"grab"},children:[_.jsx("img",{ref:I,src:j.image_url,alt:"Card Subject",className:"card-image",style:{transform:`translate(${c.x}px, ${c.y}px) scale(${c.scale})`,transformOrigin:"center",pointerEvents:"none"},draggable:!1}),_.jsx("div",{className:"card-attribution",children:j.attribution_text||"Public Domain"})]}),_.jsx("div",{className:"card-content",children:_.jsx("div",{className:"card-stats",children:n.categories.map((P,X)=>{let se=P.name,oe=P.unit;if(!oe){const q=P.name.match(/^(.+?)\s*\[(.*?)\]$/);q&&(se=q[1].trim(),oe=q[2].trim())}const N=j.values?j.values[P.name]:"";return _.jsxs("div",{className:"stat-row",children:[_.jsx("span",{className:"stat-label",children:se}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx("input",{className:"studio-stat-input",value:N,onChange:q=>an(P.name,q.target.value),onKeyDown:q=>q.stopPropagation()}),oe&&_.jsx("span",{className:"stat-unit",children:oe})]})]},X)})})})]})})})}),_.jsxs("div",{className:"studio-controls",children:[_.jsxs("div",{className:"alternatives-strip",children:[_.jsx("h4",{children:"Alternatives"}),_.jsx("div",{className:"thumbnails",children:E?_.jsx(nx,{size:"sm"}):b.map((P,X)=>_.jsx("img",{src:P.url,className:j.image_url===P.url?"active":"",onClick:()=>Ge(P),alt:"alt"},X))})]}),_.jsx("div",{className:"custom-url-section",style:{marginTop:"8px"},children:_.jsx(Wa,{placeholder:"Custom Image URL... (Enter to apply)",value:C,onChange:P=>O(P.target.value),onBlur:()=>{C&&(Ge({url:C,attribution:"Custom URL"}),O(""))},onKeyDown:P=>{P.key==="Enter"&&C&&(Ge({url:C,attribution:"Custom URL"}),O(""))},fullWidth:!0})})]}),_.jsxs("div",{className:"studio-nav",children:[_.jsx(Me,{onClick:$,disabled:r===0||z,variant:"secondary",children:" Previous"}),_.jsx(Me,{onClick:wt,variant:"primary",disabled:!z,children:"Save Changes"}),_.jsx(Me,{onClick:mt,disabled:r===n.cards.length-1&&!u||z,variant:"secondary",children:u&&r===n.cards.length-1?"Done":r===n.cards.length-1?"Finish":"Next "})]})]})},sv=()=>{const n=Array.from({length:24}),t=Array.from({length:8});return _.jsxs("div",{className:"card-back-content",children:[_.jsx("div",{className:"card-back-pattern",children:n.map((i,r)=>_.jsx("div",{className:"pattern-row",children:t.map((o,u)=>_.jsx("span",{className:"pattern-text-item",children:"QuartettNation"},u))},r))}),_.jsx("div",{className:"card-back-logo",children:"QN"})]})},zo=({card:n,categories:t,compact:i=!1,onCategorySelect:r,isSelectable:o=!1,deckName:u,faceDown:c=!1,enableFlip:f=!1,flipped:m=null})=>{const[p,g]=Nr.useState(!1),v=m!==null?m:p;if(c&&!f&&m===null)return _.jsx("div",{className:`card-scene ${i?"compact":""}`,children:_.jsx("div",{className:"card-face card-back",style:{position:"relative",transform:"none"},children:_.jsx(sv,{})})});if(!n)return null;const b=()=>{f&&m===null&&g(!p)},S=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"card-top-section",children:[u&&_.jsx("div",{className:"deck-name",children:u}),_.jsx("h3",{className:"card-name",children:n.name})]}),_.jsxs("div",{className:"card-image-wrapper",children:[_.jsx("img",{src:n.image_url||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' fill='%231f2937'/%3E%3Ctext x='50%25' y='50%25' font-family='sans-serif' font-size='48' fill='%236b7280' text-anchor='middle' dy='.3em'%3ENo Image%3C/text%3E%3C/svg%3E",alt:n.name,className:"card-image",style:n.image_settings?{transform:`translate(${n.image_settings.x}px, ${n.image_settings.y}px) scale(${n.image_settings.scale})`,transformOrigin:"center"}:{}}),_.jsx("div",{className:"card-attribution",children:n.attribution_text||"Public Domain"})]}),_.jsx("div",{className:"card-content",children:_.jsx("div",{className:"card-stats",children:t.map((E,A)=>{let C=E.name,O=E.unit;if(!O){const x=E.name.match(/^(.+?)\s*\[(.*?)\]$/);x&&(C=x[1].trim(),O=x[2].trim())}const j=n.values?n.values[E.name]:n.attributes?n.attributes[E.name]:"-";return _.jsxs("div",{className:`stat-row ${o?"selectable":""}`,onClick:x=>{v||o&&r&&(x.stopPropagation(),r(E.name))},children:[_.jsx("span",{className:"stat-label",children:C}),_.jsxs("span",{className:"stat-value",children:[j,O&&_.jsxs("span",{className:"stat-unit",children:[" ",O]})]})]},A)})})})]});return _.jsx("div",{className:`card-scene ${i?"compact":""} ${f?"clickable":""}`,onClick:f?b:void 0,children:_.jsxs("div",{className:`card-inner ${v?"is-flipped":""}`,children:[_.jsx("div",{className:"card-face card-front",children:S}),_.jsx("div",{className:"card-face card-back",children:_.jsx(sv,{})})]})})},cR=({card:n,index:t,onEdit:i,onImageLoaded:r,categories:o,deckName:u})=>{const c=Nr.useRef(!1);return T.useEffect(()=>{n.image_url||c.current||n.name&&(c.current=!0,lb(n.name,1).then(f=>{f.length>0&&r(t,{image_url:f[0].url,attribution_text:f[0].attribution})}).catch(console.error).finally(()=>c.current=!1))},[n.image_url,n.name]),_.jsxs("div",{className:"grid-card-wrapper",onClick:()=>i(t),children:[_.jsx(zo,{card:n,categories:o,deckName:u,compact:!1}),_.jsx("div",{className:"card-edit-btn","aria-label":"Edit Card",children:_.jsx(mx,{size:16})})]})},hR=({deck:n,updateDeck:t,updateCard:i,onSave:r})=>{const[o,u]=T.useState(null),c=p=>{u(p)},f=(p,g)=>{i(p,g)},m=()=>{u(null)};return _.jsxs(_.Fragment,{children:[_.jsx(tx,{open:o!==null,onClose:()=>u(null),title:o!==null?`Edit Card (${o+1}/${n.cards.length})`:"Edit Card",children:o!==null&&_.jsx(uR,{deck:n,currentIndex:o,onNavigate:u,updateDeck:t,onSave:m,isModal:!0})}),_.jsxs("div",{className:"image-grid-review",children:[_.jsx("p",{className:"hint-text",children:"Review your cards. Click the pen icon to edit images or stats."}),_.jsx("div",{className:"modern-grid dense",children:n.cards.map((p,g)=>_.jsx(cR,{card:p,index:g,onEdit:c,onImageLoaded:f,categories:n.categories,deckName:n.theme},g))}),_.jsx("div",{className:"review-actions",children:_.jsx(Me,{variant:"primary",onClick:r,fullWidth:!0,children:"Finish Deck"})})]})]})},fR=({initialPartialDeck:n,onSave:t,onCancel:i,theme:r,targetCount:o=32})=>{const[u,c]=T.useState(1),[f,m]=T.useState(n),[p,g]=T.useState(!1),[v,b]=T.useState(""),{setTitle:S,setBackTo:E}=us();Nr.useEffect(()=>{S({1:"Review Categories",2:"Review Card Names",3:"Edit Images"}[u]),E(u===1?()=>i:()=>()=>c(u-1))},[u,S,E,i]);const A=x=>{m(z=>({...z,...x}))},C=(x,z)=>{m(V=>{const I=[...V.cards];return I[x]={...I[x],...z},{...V,cards:I}})},O=async()=>{g(!0),b("Generating Card Names...");try{const{generateCardNames:x}=await Zh(async()=>{const{generateCardNames:I}=await import("./gemini-BucrHTK-.js");return{generateCardNames:I}},[]),V=(await x(r,f.categories,o)).cardNames.map((I,Y)=>({index:Y+1,name:I,values:{}}));A({cards:V}),c(2)}catch(x){alert("Error generating names: "+x.message)}finally{g(!1)}},j=async()=>{g(!0),b("Generating Stats...");try{const{generateCardDetails:x}=await Zh(async()=>{const{generateCardDetails:V}=await import("./gemini-BucrHTK-.js");return{generateCardDetails:V}},[]),z=await x(r,f.categories,f.cards.map(V=>V.name));A({cards:z.cards}),c(3)}catch(x){alert("Error generating details: "+x.message)}finally{g(!1)}};return p?_.jsxs("div",{className:"deck-review-loading",children:[_.jsx("div",{className:"spinner"}),_.jsx("h3",{children:v})]}):_.jsx("div",{className:"deck-review-container",children:_.jsxs("div",{className:"review-content",children:[_.jsxs("div",{className:"step-indicator",style:{textAlign:"center",marginBottom:"var(--spacing-md)",color:"var(--text-dim)",fontSize:"0.9rem"},children:["Step ",u,"/3"]}),u===1&&_.jsx(nR,{deck:f,updateDeck:A,onNext:O}),u===2&&_.jsx(aR,{deck:f,updateDeck:A,onNext:j}),u===3&&_.jsx(hR,{deck:f,updateDeck:A,updateCard:C,onSave:()=>t(f)})]})})};async function dR(n){if(!n)return[];const{data:t,error:i}=await at.from("decks").select("*, cards(count)").eq("created_by",n).order("created_at",{ascending:!1});if(i)throw i;const{data:r,error:o}=await at.from("deck_access").select("deck:decks(*, cards(count))").eq("user_id",n);if(o)throw o;const u=r.map(f=>({...f.deck,isShared:!0}));return[...t||[],...u].sort((f,m)=>new Date(m.created_at)-new Date(f.created_at))}async function mR(n,t){const{data:i}=await at.from("decks").select("created_by").eq("id",n).single();if(i&&i.created_by===t)return;const{error:r}=await at.from("deck_access").upsert({deck_id:n,user_id:t,access_level:"read",last_accessed_at:new Date},{onConflict:"user_id, deck_id"});r&&console.error("Error granting deck access:",r)}async function ob(n){const{data:t,error:i}=await at.from("decks").select("*, cards(*)").eq("id",n).single();if(i)throw i;return t.cards&&t.cards.sort((r,o)=>r.name.localeCompare(o.name)),t}async function pR(n,t,i){const{data:r,error:o}=await at.from("decks").insert({name:n.name,theme:n.theme,categories:n.categories,created_by:i}).select().single();if(o)throw o;const u=t.map(f=>({deck_id:r.id,name:f.name,image_url:f.image_url,attribution_text:f.attribution_text,attributes:f.values||f.attributes})),{error:c}=await at.from("cards").insert(u);if(c)throw c;return r}async function gR(n,t){const{data:i}=await at.from("decks").select("created_by").eq("id",n).single();if(i&&i.created_by&&i.created_by!==t)throw new Error("Unauthorized: You do not own this deck.");const{error:r}=await at.from("decks").delete().eq("id",n);if(r)throw r}const yR=()=>{const[n,t]=T.useState(""),[i,r]=T.useState(32),[o,u]=T.useState(!1),[c,f]=T.useState(null),[m,p]=T.useState(null),[g,v]=T.useState(!1),b=os(),{user:S}=cs(),{setTitle:E,setBackTo:A}=us();T.useEffect(()=>{g||(E("Create Deck"),A("/"))},[g]);const C=T.useCallback(async x=>{try{if(!S)throw new Error("You must be logged in to save a deck.");await pR({name:x.deckName,theme:x.theme,categories:x.categories},x.cards,S.id),alert("Deck saved successfully!"),v(!1),p(null),b("/collection")}catch(z){console.error("Error saving deck:",z),alert("Failed to save deck: "+z.message)}},[S,b]),O=async()=>{if(n.trim()){u(!0),f(null);try{console.log("Starting progressive generation...");const{generateCategories:x}=await Zh(async()=>{const{generateCategories:V}=await import("./gemini-BucrHTK-.js");return{generateCategories:V}},[]),z=await x(n);console.log("Categories generated:",z),p({deckName:n,theme:n,categories:z,cards:[]}),v(!0)}catch(x){console.error("Deck Generation Failed:",x),f(x.message||"Failed to generate deck")}finally{u(!1)}}},j=T.useCallback(()=>{v(!1),p(null)},[]);return _.jsxs("div",{className:"page-view app-card",children:[!g&&_.jsx("div",{style:{height:"var(--spacing-md)"}})," ",m?g?_.jsx(fR,{initialPartialDeck:m,theme:n,targetCount:i,onSave:C,onCancel:j}):null:_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"input-group",children:_.jsx(Wa,{label:"Deck Theme",placeholder:"e.g. Vintage Supercars, Marvel Heroes...",value:n,onChange:x=>t(x.target.value),disabled:o})}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Number of Cards"}),_.jsx("div",{className:"size-selector",style:{display:"flex",gap:"10px"},children:[12,16,24,32].map(x=>_.jsx(Me,{variant:i===x?"primary":"secondary",onClick:()=>r(x),style:{flex:1},disabled:o,size:"sm",children:x},x))})]}),c&&_.jsx("div",{className:"error-message",style:{color:"var(--danger)",fontSize:"0.9rem"},children:c}),_.jsx(Me,{variant:"primary",onClick:O,disabled:o||!n.trim(),loading:o,fullWidth:!0,children:o?"Generating...":"Generate with AI"})]})]})};async function vR(n,t,i){const{data:r,error:o}=await at.from("games").insert({host_deck_id:n,status:"lobby",game_state:{players:[{id:t,name:i,isHost:!0,hand:[],cardsWon:[]}],pot:[],chat:[]}}).select().single();if(o)throw o;return r}function bR(n,t){const i=at.channel(`game:${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${n}`},r=>{t(r)}).subscribe(r=>{console.log(`[GameService] Subscription status for ${n}:`,r)});return()=>{at.removeChannel(i)}}async function co(n,t,i=null){const r={game_state:t};i&&(r.status=i);const{error:o}=await at.from("games").update(r).eq("id",n);o&&console.error("Sync Error:",o)}const wR=({deckId:n,onBack:t})=>{const[i,r]=T.useState(null),[o,u]=T.useState(!0),[c,f]=T.useState("grid");return T.useEffect(()=>{(async()=>{try{const p=await ob(n);r(p)}catch(p){console.error(p)}finally{u(!1)}})()},[n]),o?_.jsx("div",{className:"p-4 text-center",children:"Loading deck details..."}):i?_.jsxs("div",{className:"page-view app-card",children:[_.jsxs("div",{className:"detail-header",children:[_.jsxs(Me,{variant:"ghost",size:"sm",onClick:t,className:"back-btn",children:[_.jsx(H0,{size:16})," Back"]}),_.jsxs("div",{className:"view-toggles",children:[_.jsx("button",{className:`toggle-btn ${c==="grid"?"active":""}`,onClick:()=>f("grid"),title:"Card View",children:_.jsx(cx,{size:20})}),_.jsx("button",{className:`toggle-btn ${c==="table"?"active":""}`,onClick:()=>f("table"),title:"Table View",children:_.jsx(fx,{size:20})})]})]}),_.jsxs("h2",{className:"deck-title gradient-text",children:[i.name," ",_.jsxs("span",{className:"deck-theme",children:["(",i.theme,")"]})]}),c==="grid"?_.jsx("div",{className:"modern-grid",children:i.cards.map(m=>_.jsx(zo,{card:m,categories:i.categories,deckName:i.name,enableFlip:!0},m.id))}):_.jsx("div",{className:"table-container",children:_.jsxs("table",{className:"stats-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Name"}),i.categories.map((m,p)=>{const g=m.name.match(/^(.+?)\s*\[(.*?)\]$/),v=g?g[1].trim():m.name,b=g?g[2].trim():m.unit;return _.jsxs("th",{children:[v," ",_.jsx("span",{className:"th-unit",children:b})]},p)})]})}),_.jsx("tbody",{children:i.cards.map(m=>_.jsxs("tr",{children:[_.jsx("td",{className:"card-name-cell",children:m.name}),i.categories.map((p,g)=>_.jsx("td",{children:(m.values&&m.values[p.name])??(m.attributes&&m.attributes[p.name])??"-"},g))]},m.id))})]})})]}):_.jsx("div",{className:"p-4 text-center",children:"Deck not found"})},_R=()=>{const[n,t]=T.useState([]),[i,r]=T.useState(!0),[o,u]=T.useState(null),c=os(),{setTitle:f,setBackTo:m}=us(),{user:p}=cs();T.useEffect(()=>{p&&g()},[p]),T.useEffect(()=>{o||(f("My Collection"),m("/"))},[o]);const g=async()=>{try{const A=await dR(p.id);t(A)}catch(A){console.error("Error fetching decks:",A)}finally{r(!1)}},v=async(A,C)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this deck? This action cannot be undone."))try{await gR(C,p.id),t(O=>O.filter(j=>j.id!==C))}catch(O){console.error("Error deleting deck:",O),alert("Failed to delete deck: "+O.message)}};if(o)return _.jsx(wR,{deckId:o,onBack:()=>u(null)});const b=n.filter(A=>!A.isShared),S=n.filter(A=>A.isShared),E=({items:A,title:C})=>_.jsxs("div",{style:{marginBottom:"2rem"},children:[_.jsx("h3",{style:{marginBottom:"1rem",color:"var(--text-dim)",textTransform:"uppercase",fontSize:"0.9rem",letterSpacing:"0.05em"},children:C}),_.jsx("div",{className:"modern-list",children:A.map(O=>{const j=!O.isShared;return _.jsxs("div",{className:"modern-list-item",children:[_.jsxs("div",{className:"deck-info",onClick:()=>u(O.id),style:{cursor:"pointer",flex:1},children:[_.jsx("h3",{children:O.name}),_.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.85rem",margin:"4px 0"},children:O.categories?.map(x=>x.name).join("  ")}),_.jsxs("div",{className:"deck-meta",style:{display:"flex",gap:"12px",fontSize:"0.8rem",color:"var(--text-dim)"},children:[_.jsxs("span",{children:[O.cards?.[0]?.count||0," Cards"]}),_.jsx("span",{children:new Date(O.created_at).toLocaleDateString()}),O.isShared&&_.jsx("span",{style:{color:"var(--accent)",fontWeight:"bold"},children:"Shared"})]})]}),_.jsxs("div",{className:"deck-actions",children:[j&&_.jsx(Me,{variant:"ghost",size:"sm",onClick:x=>v(x,O.id),title:"Delete Deck",style:{color:"var(--danger)"},children:_.jsx(gx,{size:16})}),_.jsx(Me,{variant:"secondary",size:"sm",onClick:x=>{x.stopPropagation(),u(O.id)},children:"View"}),_.jsx(Me,{variant:"primary",size:"sm",onClick:async x=>{x.stopPropagation();try{const z=p.user_metadata?.full_name||p.email?.split("@")[0]||"Player",V=await vR(O.id,p.id,`${z} (Host)`);c(`/game/${V.id}`)}catch(z){console.error(z),alert("Failed to create game")}},children:"Play"})]})]},O.id)})})]});return _.jsx("div",{className:"page-view app-card",children:i?_.jsx("div",{className:"loading",children:"Loading decks..."}):n.length===0?_.jsx(V0,{message:"You haven't created any decks yet.",children:_.jsx(Me,{variant:"primary",onClick:()=>c("/create"),style:{marginTop:"16px"},children:"Create Deck"})}):_.jsxs(_.Fragment,{children:[b.length>0&&_.jsx(E,{items:b,title:"My Decks"}),S.length>0&&_.jsx(E,{items:S,title:"Shared with Me"})]})})};function SR(n,t,i){let r={...n};const o=r.players.map(S=>({...S,hand:[...S.hand]}));let u=[...r.pot];r.pot=[];const c=t.categories.find(S=>S.name===i),f=c?c.higherWins:!0;let m=o.filter(S=>!S.eliminated);m.length<2&&r.winner;let p=null,g=[],v=[];for(;!p;){const S=m.filter(x=>x.hand.length>0);if(S.length===0)break;if(S.length===1){p=S[0];break}m=S;const E=m.map(x=>{const z=x.hand[0],V=z.attributes?z.attributes[i]:z.values?z.values[i]:0,I=parseFloat(V)||0;return{playerId:x.id,playerName:x.name,card:z,value:I,playerRef:x}}),A=E.map(x=>x.card);u.push(...A),E.forEach(x=>{x.playerRef.hand.shift()});const C=f?1:-1;E.sort((x,z)=>(z.value-x.value)*C);const O=E[0].value,j=E.filter(x=>x.value===O);g=E,v.push({winner:j.length===1?j[0].playerId:null,cardsPlayed:E.map(x=>({playerId:x.playerId,playerName:x.playerName,card:x.card,value:x.value}))}),j.length===1?p=j[0].playerRef:m=j.map(x=>x.playerRef)}p?(p.hand.push(...u),r.warMode=!1,r.warParticipants=null,r.turnPlayerId=p.id,r.lastRound={category:i,winner:p.id,winnerName:p.name,warHistory:v,cardsPlayed:g.map(S=>({playerId:S.playerId,playerName:S.playerName,card:S.card}))}):(r.warMode=!1,r.turnPlayerId=null,r.lastRound={category:i,winner:null,winnerName:null,warHistory:v,cardsPlayed:g.map(S=>({playerId:S.playerId,playerName:S.playerName,card:S.card}))}),r.players=o,r.pot=[],r.players.forEach(S=>{S.hand.length===0&&(S.eliminated=!0)});const b=r.players.filter(S=>!S.eliminated);return b.length===1?(r.winner=b[0],r.status="completed"):b.length===0&&(r.status="completed",r.winner={name:"No One (Draw)"}),r.status!=="completed"&&(!r.turnPlayerId||r.players.find(S=>S.id===r.turnPlayerId)?.eliminated)&&(r.turnPlayerId=b[0]?.id),r}function ER(n,t){const i=[...t];for(let c=i.length-1;c>0;c--){const f=Math.floor(Math.random()*(c+1));[i[c],i[f]]=[i[f],i[c]]}const r=n.map(c=>({...c,hand:[],cardsWon:[],eliminated:!1})),o=Math.floor(i.length/r.length);r.forEach((c,f)=>{const m=f*o,p=m+o;c.hand=i.slice(m,p)});const u=i.slice(r.length*o);return{players:r,pot:u,turnPlayerId:r[0].id,warMode:!1,lastRound:null,winner:null,status:"active"}}function TR(n,t){let i={...n};const r=i.players.findIndex(c=>c.id===t);if(r===-1)return i;const o={...i.players[r]};i.pot=[...i.pot,...o.hand],o.hand=[],o.eliminated=!0,i.players=[...i.players],i.players[r]=o;const u=i.players.filter(c=>!c.eliminated);return u.length===1&&(i.winner=u[0],i.status="completed"),i.turnPlayerId===t&&i.status!=="completed"&&(i.turnPlayerId=u[0]?.id),i}function xR(n){const{user:t}=cs(),[i,r]=T.useState(sessionStorage.getItem("qn_player_id")),o=t?t.id:i,[u,c]=T.useState(null),[f,m]=T.useState("loading"),[p,g]=T.useState(null),[v,b]=T.useState(null),S=u?.players?.[0]?.id===o,E=u?.players?.find(z=>z.id===o),A=u?.turnPlayerId===o;u?.warMode,T.useEffect(()=>{if(!t&&!i){const z=crypto.randomUUID();console.log(`[useGame] Generated new Guest ID: ${z}`),sessionStorage.setItem("qn_player_id",z),r(z)}},[t,i]),T.useEffect(()=>{if(!n)return;(async()=>{const{data:I,error:Y}=await at.from("games").select("*").eq("id",n).single();if(Y){g(Y.message);return}if(c(I.game_state),m(I.status),I.host_deck_id){const F=await ob(I.host_deck_id);b(F)}})();const V=bR(n,I=>{console.log("[useGame] Received Update:",I),I.new&&(c(I.new.game_state),m(I.new.status))});return()=>V()},[n]);const C=async z=>{if(!n||!o){console.error("[useGame] Join aborted: Missing gameId or playerId",{gameId:n,playerId:o});return}if(console.log(`[useGame] Joining game ${n} with name ${z}`),u?.players?.find(V=>V.id===o)){console.warn(`[useGame] Player ${o} already in game`);return}try{const V=u?.players||[];if(console.log("[useGame] Current players:",V),V.length>=4)throw new Error("Lobby Full");const I={id:o,name:z,isHost:!1,hand:[],cardsWon:[]},Y={...u,players:[...V,I]};await co(n,Y),console.log("[useGame] Join successful")}catch(V){console.error("[useGame] Join Failed:",V),g(V.message)}},O=async()=>{if(!S||!v)return;const z=ER(u.players,v.cards),V={...u,...z};await co(n,V,"active")},j=async z=>{if(A)try{const V=SR(u,v,z),I=V.winner?"completed":"active";await co(n,V,I)}catch(V){console.error("Game Logic Error:",V)}},x=async()=>{if(!(!u||!E)&&window.confirm("Are you sure you want to surrender? You will be eliminated from the game."))try{const z=TR(u,E.id),V=z.winner?"completed":"active";await co(n,z,V)}catch(z){console.error("Concede Error:",z)}};return{gameState:u,status:f,myPlayer:E,isHost:S,isMyTurn:A,players:u?.players||[],deck:v,actions:{join:C,start:O,playTurn:j,concede:x},error:p}}const AR=({matchId:n,players:t,isHost:i,onStart:r})=>{const o=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return _.jsxs("div",{className:"page-view app-card",children:[_.jsxs("div",{className:"lobby-header",style:{paddingTop:0},children:[_.jsx("p",{className:"lobby-subtitle",style:{marginTop:0},children:"Waiting for players to join..."}),_.jsxs("div",{className:"match-id-container",children:[_.jsx("code",{className:"match-code",children:n}),_.jsx(Me,{variant:"secondary",size:"sm",onClick:o,children:"Copy Link"})]})]}),_.jsx("div",{className:"modern-grid",children:[0,1,2,3].map(u=>{const c=t[u];return _.jsx("div",{className:`player-slot ${c?"occupied":"empty"}`,children:c?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"player-avatar",children:""}),_.jsx("div",{className:"player-name",children:c.name}),_.jsxs("div",{className:"player-label",children:["Player ",u+1]})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"player-avatar",style:{opacity:.3},children:"?"}),_.jsx("div",{className:"open-slot-text",children:"Slot Open"}),_.jsxs("div",{className:"player-label",children:["Player ",u+1]})]})},u)})}),_.jsx("div",{className:"lobby-footer",children:i?_.jsx(Me,{variant:"primary",size:"lg",className:"btn-glow",disabled:t.length<2,onClick:r,children:t.length<2?"Waiting for players...":"Start Game"}):_.jsx("div",{className:"waiting-pulse",children:"Waiting for host to start the game..."})})]})},Bf=T.createContext({});function Vf(n){const t=T.useRef(null);return t.current===null&&(t.current=n()),t.current}const Pf=typeof window<"u",ub=Pf?T.useLayoutEffect:T.useEffect,Bo=T.createContext(null);function Hf(n,t){n.indexOf(t)===-1&&n.push(t)}function $f(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const $n=(n,t,i)=>i>t?t:i<n?n:i;let qf=()=>{};const qn={},cb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function hb(n){return typeof n=="object"&&n!==null}const fb=n=>/^0[^.\s]+$/u.test(n);function Gf(n){let t;return()=>(t===void 0&&(t=n()),t)}const nn=n=>n,RR=(n,t)=>i=>t(n(i)),zr=(...n)=>n.reduce(RR),Rr=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Kf{constructor(){this.subscriptions=[]}add(t){return Hf(this.subscriptions,t),()=>$f(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vn=n=>n*1e3,tn=n=>n/1e3;function db(n,t){return t?n*(1e3/t):0}const mb=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,CR=1e-7,OR=12;function jR(n,t,i,r,o){let u,c,f=0;do c=t+(i-t)/2,u=mb(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>CR&&++f<OR);return c}function Br(n,t,i,r){if(n===t&&i===r)return nn;const o=u=>jR(u,0,1,n,i);return u=>u===0||u===1?u:mb(o(u),t,r)}const pb=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,gb=n=>t=>1-n(1-t),yb=Br(.33,1.53,.69,.99),If=gb(yb),vb=pb(If),bb=n=>(n*=2)<1?.5*If(n):.5*(2-Math.pow(2,-10*(n-1))),Yf=n=>1-Math.sin(Math.acos(n)),wb=gb(Yf),_b=pb(Yf),DR=Br(.42,0,1,1),NR=Br(0,0,.58,1),Sb=Br(.42,0,.58,1),kR=n=>Array.isArray(n)&&typeof n[0]!="number",Eb=n=>Array.isArray(n)&&typeof n[0]=="number",MR={linear:nn,easeIn:DR,easeInOut:Sb,easeOut:NR,circIn:Yf,circInOut:_b,circOut:wb,backIn:If,backInOut:vb,backOut:yb,anticipate:bb},UR=n=>typeof n=="string",rv=n=>{if(Eb(n)){qf(n.length===4);const[t,i,r,o]=n;return Br(t,i,r,o)}else if(UR(n))return MR[n];return n},ho=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LR(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(g){c.has(g)&&(p.schedule(g),n()),g(f)}const p={schedule:(g,v=!1,b=!1)=>{const E=b&&o?i:r;return v&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(f=g,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,p.process(g))}};return p}const zR=40;function Tb(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=ho.reduce((x,z)=>(x[z]=LR(u),x),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:b,render:S,postRender:E}=c,A=()=>{const x=qn.useManualTiming?o.timestamp:performance.now();i=!1,qn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(x-o.timestamp,zR),1)),o.timestamp=x,o.isProcessing=!0,f.process(o),m.process(o),p.process(o),g.process(o),v.process(o),b.process(o),S.process(o),E.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(A))},C=()=>{i=!0,r=!0,o.isProcessing||n(A)};return{schedule:ho.reduce((x,z)=>{const V=c[z];return x[z]=(I,Y=!1,F=!1)=>(i||C(),V.schedule(I,Y,F)),x},{}),cancel:x=>{for(let z=0;z<ho.length;z++)c[ho[z]].cancel(x)},state:o,steps:c}}const{schedule:Ue,cancel:wa,state:dt,steps:xh}=Tb(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let vo;function BR(){vo=void 0}const Ct={now:()=>(vo===void 0&&Ct.set(dt.isProcessing||qn.useManualTiming?dt.timestamp:performance.now()),vo),set:n=>{vo=n,queueMicrotask(BR)}},xb=n=>t=>typeof t=="string"&&t.startsWith(n),Ab=xb("--"),VR=xb("var(--"),Xf=n=>VR(n)?PR.test(n.split("/*")[0].trim()):!1,PR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Cr={...hs,transform:n=>$n(0,1,n)},fo={...hs,default:1},gr=n=>Math.round(n*1e5)/1e5,Ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HR(n){return n==null}const $R=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jf=(n,t)=>i=>!!(typeof i=="string"&&$R.test(i)&&i.startsWith(n)||t&&!HR(i)&&Object.prototype.hasOwnProperty.call(i,t)),Rb=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,f]=r.match(Ff);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},qR=n=>$n(0,255,n),Ah={...hs,transform:n=>Math.round(qR(n))},Ja={test:Jf("rgb","red"),parse:Rb("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Ah.transform(n)+", "+Ah.transform(t)+", "+Ah.transform(i)+", "+gr(Cr.transform(r))+")"};function GR(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const tf={test:Jf("#"),parse:GR,transform:Ja.transform},Vr=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ya=Vr("deg"),bn=Vr("%"),le=Vr("px"),KR=Vr("vh"),IR=Vr("vw"),lv={...bn,parse:n=>bn.parse(n)/100,transform:n=>bn.transform(n*100)},Qi={test:Jf("hsl","hue"),parse:Rb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+bn.transform(gr(t))+", "+bn.transform(gr(i))+", "+gr(Cr.transform(r))+")"},Ze={test:n=>Ja.test(n)||tf.test(n)||Qi.test(n),parse:n=>Ja.test(n)?Ja.parse(n):Qi.test(n)?Qi.parse(n):tf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ja.transform(n):Qi.transform(n),getAnimatableNone:n=>{const t=Ze.parse(n);return t.alpha=0,Ze.transform(t)}},YR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XR(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ff)?.length||0)+(n.match(YR)?.length||0)>0}const Cb="number",Ob="color",FR="var",JR="var(",ov="${}",QR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Or(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=t.replace(QR,m=>(Ze.test(m)?(r.color.push(u),o.push(Ob),i.push(Ze.parse(m))):m.startsWith(JR)?(r.var.push(u),o.push(FR),i.push(m)):(r.number.push(u),o.push(Cb),i.push(parseFloat(m))),++u,ov)).split(ov);return{values:i,split:f,indexes:r,types:o}}function jb(n){return Or(n).values}function Db(n){const{split:t,types:i}=Or(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const f=i[c];f===Cb?u+=gr(o[c]):f===Ob?u+=Ze.transform(o[c]):u+=o[c]}return u}}const WR=n=>typeof n=="number"?0:Ze.test(n)?Ze.getAnimatableNone(n):n;function ZR(n){const t=jb(n);return Db(n)(t.map(WR))}const _a={test:XR,parse:jb,createTransformer:Db,getAnimatableNone:ZR};function Rh(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function eC({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const f=i<.5?i*(1+t):i+t-i*t,m=2*i-f;o=Rh(m,f,n+1/3),u=Rh(m,f,n),c=Rh(m,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Ao(n,t){return i=>i>0?t:n}const Be=(n,t,i)=>n+(t-n)*i,Ch=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},tC=[tf,Ja,Qi],nC=n=>tC.find(t=>t.test(n));function uv(n){const t=nC(n);if(!t)return!1;let i=t.parse(n);return t===Qi&&(i=eC(i)),i}const cv=(n,t)=>{const i=uv(n),r=uv(t);if(!i||!r)return Ao(n,t);const o={...i};return u=>(o.red=Ch(i.red,r.red,u),o.green=Ch(i.green,r.green,u),o.blue=Ch(i.blue,r.blue,u),o.alpha=Be(i.alpha,r.alpha,u),Ja.transform(o))},nf=new Set(["none","hidden"]);function aC(n,t){return nf.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function iC(n,t){return i=>Be(n,t,i)}function Qf(n){return typeof n=="number"?iC:typeof n=="string"?Xf(n)?Ao:Ze.test(n)?cv:lC:Array.isArray(n)?Nb:typeof n=="object"?Ze.test(n)?cv:sC:Ao}function Nb(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>Qf(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function sC(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Qf(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function rC(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],f=n.values[c]??0;i[o]=f,r[u]++}return i}const lC=(n,t)=>{const i=_a.createTransformer(t),r=Or(n),o=Or(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?nf.has(n)&&!o.values.length||nf.has(t)&&!r.values.length?aC(n,t):zr(Nb(rC(r,o),o.values),i):Ao(n,t)};function kb(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Be(n,t,i):Qf(n)(n,t)}const oC=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>Ue.update(t,i),stop:()=>wa(t),now:()=>dt.isProcessing?dt.timestamp:Ct.now()}},Mb=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ro=2e4;function Wf(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Ro;)t+=i,r=n.next(t);return t>=Ro?1/0:t}function uC(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Wf(r),Ro);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:tn(o)}}const cC=5;function Ub(n,t,i){const r=Math.max(t-cC,0);return db(i-n(r),t-r)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oh=.001;function hC({duration:n=$e.duration,bounce:t=$e.bounce,velocity:i=$e.velocity,mass:r=$e.mass}){let o,u,c=1-t;c=$n($e.minDamping,$e.maxDamping,c),n=$n($e.minDuration,$e.maxDuration,tn(n)),c<1?(o=p=>{const g=p*c,v=g*n,b=g-i,S=af(p,c),E=Math.exp(-v);return Oh-b/S*E},u=p=>{const v=p*c*n,b=v*i+i,S=Math.pow(c,2)*Math.pow(p,2)*n,E=Math.exp(-v),A=af(Math.pow(p,2),c);return(-o(p)+Oh>0?-1:1)*((b-S)*E)/A}):(o=p=>{const g=Math.exp(-p*n),v=(p-i)*n+1;return-Oh+g*v},u=p=>{const g=Math.exp(-p*n),v=(i-p)*(n*n);return g*v});const f=5/n,m=dC(o,u,f);if(n=vn(n),isNaN(m))return{stiffness:$e.stiffness,damping:$e.damping,duration:n};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const fC=12;function dC(n,t,i){let r=i;for(let o=1;o<fC;o++)r=r-n(r)/t(r);return r}function af(n,t){return n*Math.sqrt(1-t*t)}const mC=["duration","bounce"],pC=["stiffness","damping","mass"];function hv(n,t){return t.some(i=>n[i]!==void 0)}function gC(n){let t={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...n};if(!hv(n,pC)&&hv(n,mC))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*$n(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:$e.mass,stiffness:o,damping:u}}else{const i=hC(n);t={...t,...i,mass:$e.mass},t.isResolvedFromDuration=!0}return t}function Co(n=$e.visualDuration,t=$e.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=gC({...i,velocity:-tn(i.velocity||0)}),E=b||0,A=p/(2*Math.sqrt(m*g)),C=c-u,O=tn(Math.sqrt(m/g)),j=Math.abs(C)<5;r||(r=j?$e.restSpeed.granular:$e.restSpeed.default),o||(o=j?$e.restDelta.granular:$e.restDelta.default);let x;if(A<1){const V=af(O,A);x=I=>{const Y=Math.exp(-A*O*I);return c-Y*((E+A*O*C)/V*Math.sin(V*I)+C*Math.cos(V*I))}}else if(A===1)x=V=>c-Math.exp(-O*V)*(C+(E+O*C)*V);else{const V=O*Math.sqrt(A*A-1);x=I=>{const Y=Math.exp(-A*O*I),F=Math.min(V*I,300);return c-Y*((E+A*O*C)*Math.sinh(F)+V*C*Math.cosh(F))/V}}const z={calculatedDuration:S&&v||null,next:V=>{const I=x(V);if(S)f.done=V>=v;else{let Y=V===0?E:0;A<1&&(Y=V===0?vn(E):Ub(x,V,I));const F=Math.abs(Y)<=r,re=Math.abs(c-I)<=o;f.done=F&&re}return f.value=f.done?c:I,f},toString:()=>{const V=Math.min(Wf(z),Ro),I=Mb(Y=>z.next(V*Y).value,V,30);return V+"ms "+I},toTransition:()=>{}};return z}Co.applyToOptions=n=>{const t=uC(n,100,Co);return n.ease=t.ease,n.duration=vn(t.duration),n.type="keyframes",n};function sf({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},S=F=>f!==void 0&&F<f||m!==void 0&&F>m,E=F=>f===void 0?m:m===void 0||Math.abs(f-F)<Math.abs(m-F)?f:m;let A=i*t;const C=v+A,O=c===void 0?C:c(C);O!==C&&(A=O-v);const j=F=>-A*Math.exp(-F/r),x=F=>O+j(F),z=F=>{const re=j(F),Se=x(F);b.done=Math.abs(re)<=p,b.value=b.done?O:Se};let V,I;const Y=F=>{S(b.value)&&(V=F,I=Co({keyframes:[b.value,E(b.value)],velocity:Ub(x,F,b.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return Y(0),{calculatedDuration:null,next:F=>{let re=!1;return!I&&V===void 0&&(re=!0,z(F),Y(F)),V!==void 0&&F>=V?I.next(F-V):(!re&&z(F),b)}}}function yC(n,t,i){const r=[],o=i||qn.mix||kb,u=n.length-1;for(let c=0;c<u;c++){let f=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||nn:t;f=zr(m,f)}r.push(f)}return r}function vC(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(qf(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=yC(t,r,o),m=f.length,p=g=>{if(c&&g<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Rr(n[v],n[v+1],g);return f[v](b)};return i?g=>p($n(n[0],n[u-1],g)):p}function bC(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Rr(0,t,r);n.push(Be(i,1,o))}}function wC(n){const t=[0];return bC(t,n.length-1),t}function _C(n,t){return n.map(i=>i*t)}function SC(n,t){return n.map(()=>t||Sb).splice(0,n.length-1)}function yr({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=kR(r)?r.map(rv):rv(r),u={done:!1,value:t[0]},c=_C(i&&i.length===t.length?i:wC(t),n),f=vC(c,t,{ease:Array.isArray(o)?o:SC(t,o)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const EC=n=>n!==null;function Zf(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(EC),f=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const TC={decay:sf,inertia:sf,tween:yr,keyframes:yr,spring:Co};function Lb(n){typeof n.type=="string"&&(n.type=TC[n.type])}class ed{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const xC=n=>n/100;class td extends ed{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Ct.now()&&this.tick(Ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lb(t);const{type:i=yr,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:f}=t;const m=i||yr;m!==yr&&typeof f[0]!="number"&&(this.mixKeyframes=zr(xC,kb(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Wf(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:E,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?O<0:O>o;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let x=this.currentTime,z=r;if(v){const F=Math.min(this.currentTime,o)/f;let re=Math.floor(F),Se=F%1;!Se&&F>=1&&(Se=1),Se===1&&re--,re=Math.min(re,v+1),re%2&&(b==="reverse"?(Se=1-Se,S&&(Se-=S/f)):b==="mirror"&&(z=c)),x=$n(0,1,Se)*f}const V=j?{done:!1,value:g[0]}:z.next(x);u&&(V.value=u(V.value));let{done:I}=V;!j&&m!==null&&(I=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return Y&&E!==sf&&(V.value=Zf(g,this.options,C,this.speed)),A&&A(V.value),Y&&this.finish(),V}then(t,i){return this.finished.then(t,i)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(this.currentTime)}set time(t){t=vn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ct.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=oC,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function AC(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Qa=n=>n*180/Math.PI,rf=n=>{const t=Qa(Math.atan2(n[1],n[0]));return lf(t)},RC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:rf,rotateZ:rf,skewX:n=>Qa(Math.atan(n[1])),skewY:n=>Qa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},lf=n=>(n=n%360,n<0&&(n+=360),n),fv=rf,dv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),mv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),CC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dv,scaleY:mv,scale:n=>(dv(n)+mv(n))/2,rotateX:n=>lf(Qa(Math.atan2(n[6],n[5]))),rotateY:n=>lf(Qa(Math.atan2(-n[2],n[0]))),rotateZ:fv,rotate:fv,skewX:n=>Qa(Math.atan(n[4])),skewY:n=>Qa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function of(n){return n.includes("scale")?1:0}function uf(n,t){if(!n||n==="none")return of(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=CC,o=i;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RC,o=f}if(!o)return of(t);const u=r[t],c=o[1].split(",").map(jC);return typeof u=="function"?u(c):c[u]}const OC=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return uf(i,t)};function jC(n){return parseFloat(n.trim())}const fs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(fs),pv=n=>n===hs||n===le,DC=new Set(["x","y","z"]),NC=fs.filter(n=>!DC.has(n));function kC(n){const t=[];return NC.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Za={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>uf(t,"x"),y:(n,{transform:t})=>uf(t,"y")};Za.translateX=Za.x;Za.translateY=Za.y;const ei=new Set;let cf=!1,hf=!1,ff=!1;function zb(){if(hf){const n=Array.from(ei).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=kC(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hf=!1,cf=!1,ei.forEach(n=>n.complete(ff)),ei.clear()}function Bb(){ei.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(hf=!0)})}function MC(){ff=!0,Bb(),zb(),ff=!1}class nd{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ei.add(this),cf||(cf=!0,Ue.read(Bb),Ue.resolveKeyframes(zb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const f=r.readValue(i,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}AC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ei.delete(this)}cancel(){this.state==="scheduled"&&(ei.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UC=n=>n.startsWith("--");function LC(n,t,i){UC(t)?n.style.setProperty(t,i):n.style[t]=i}const zC=Gf(()=>window.ScrollTimeline!==void 0),BC={};function VC(n,t){const i=Gf(n);return()=>BC[t]??i()}const Vb=VC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dr=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dr([0,.65,.55,1]),circOut:dr([.55,0,1,.45]),backIn:dr([.31,.01,.66,-.59]),backOut:dr([.33,1.53,.69,.99])};function Pb(n,t){if(n)return typeof n=="function"?Vb()?Mb(n,t):"ease-out":Eb(n)?dr(n):Array.isArray(n)?n.map(i=>Pb(i,t)||gv.easeOut):gv[n]}function PC(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const g={[t]:i};m&&(g.offset=m);const v=Pb(f,o);Array.isArray(v)&&(g.easing=v);const b={delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),n.animate(g,b)}function Hb(n){return typeof n=="function"&&"applyToOptions"in n}function HC({type:n,...t}){return Hb(n)&&Vb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $C extends ed{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,qf(typeof t.type!="string");const p=HC(t);this.animation=PC(i,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Zf(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):LC(i,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&zC()?(this.animation.timeline=t,nn):i(this)}}const $b={anticipate:bb,backInOut:vb,circInOut:_b};function qC(n){return n in $b}function GC(n){typeof n.ease=="string"&&qC(n.ease)&&(n.ease=$b[n.ease])}const yv=10;class KC extends $C{constructor(t){GC(t),Lb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const f=new td({...c,autoplay:!1}),m=vn(this.finishedTime??this.time);i.setWithVelocity(f.sample(m-yv).value,f.sample(m).value,yv),f.stop()}}const vv=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(_a.test(n)||n==="0")&&!n.startsWith("url("));function IC(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function YC(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=vv(o,t),f=vv(u,t);return!c||!f?!1:IC(n)||(i==="spring"||Hb(i))&&r}function df(n){n.duration=0,n.type="keyframes"}const XC=new Set(["opacity","clipPath","filter","transform"]),FC=Gf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JC(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return FC()&&i&&XC.has(i)&&(i!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const QC=40;class WC extends ed{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ct.now();const b={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:p,element:g,...v},S=g?.KeyframeResolver||nd;this.keyframeResolver=new S(f,(E,A,C)=>this.onKeyframesResolved(E,A,b,!C),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Ct.now(),YC(t,u,c,f)||((qn.instantAnimations||!m)&&g?.(Zf(t,r,i)),t[0]=t[t.length-1],df(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>QC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},S=!p&&JC(b)?new KC({...b,element:b.motionValue.owner.current}):new td(b);S.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),MC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ZC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eO(n){const t=ZC.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function qb(n,t,i=1){const[r,o]=eO(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return cb(c)?parseFloat(c):c}return Xf(o)?qb(o,t,i+1):o}function ad(n,t){return n?.[t]??n?.default??n}const Gb=new Set(["width","height","top","left","right","bottom",...fs]),tO={test:n=>n==="auto",parse:n=>n},Kb=n=>t=>t.test(n),Ib=[hs,le,bn,ya,IR,KR,tO],bv=n=>Ib.find(Kb(n));function nO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fb(n):!0}const aO=new Set(["brightness","contrast","saturate","opacity"]);function iO(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Ff)||[];if(!r)return n;const o=i.replace(r,"");let u=aO.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const sO=/\b([a-z-]*)\(.*?\)/gu,mf={..._a,getAnimatableNone:n=>{const t=n.match(sO);return t?t.map(iO).join(" "):n}},wv={...hs,transform:Math.round},rO={rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scale:fo,scaleX:fo,scaleY:fo,scaleZ:fo,skew:ya,skewX:ya,skewY:ya,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Cr,originX:lv,originY:lv,originZ:le},id={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...rO,zIndex:wv,fillOpacity:Cr,strokeOpacity:Cr,numOctaves:wv},lO={...id,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:mf,WebkitFilter:mf},Yb=n=>lO[n];function Xb(n,t){let i=Yb(n);return i!==mf&&(i=_a),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const oO=new Set(["auto","none","0"]);function uO(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!oO.has(u)&&Or(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=Xb(i,o)}class cO extends nd{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Xf(p))){const g=qb(p,i.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Gb.has(r)||t.length!==2)return;const[o,u]=t,c=bv(o),f=bv(u);if(c!==f)if(pv(c)&&pv(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Za[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||nO(t[o]))&&r.push(o);r.length&&uO(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Za[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Za[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function hO(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Fb=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Jb(n){return hb(n)&&"offsetHeight"in n}const _v=30,fO=n=>!isNaN(parseFloat(n));class dO{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Ct.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Kf);const r=this.events[t].add(i);return t==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_v)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,_v);return db(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function is(n,t){return new dO(n,t)}const{schedule:sd}=Tb(queueMicrotask,!1),cn={x:!1,y:!1};function Qb(){return cn.x||cn.y}function mO(n){return n==="x"||n==="y"?cn[n]?null:(cn[n]=!0,()=>{cn[n]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}function Wb(n,t){const i=hO(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function Sv(n){return!(n.pointerType==="touch"||Qb())}function pO(n,t,i={}){const[r,o,u]=Wb(n,i),c=f=>{if(!Sv(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const g=v=>{Sv(v)&&(p(v),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,o)};return r.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const Zb=(n,t)=>t?n===t?!0:Zb(n,t.parentElement):!1,rd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,gO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yO(n){return gO.has(n.tagName)||n.tabIndex!==-1}const bo=new WeakSet;function Ev(n){return t=>{t.key==="Enter"&&n(t)}}function jh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vO=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=Ev(()=>{if(bo.has(i))return;jh(i,"down");const o=Ev(()=>{jh(i,"up")}),u=()=>jh(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function Tv(n){return rd(n)&&!Qb()}function bO(n,t,i={}){const[r,o,u]=Wb(n,i),c=f=>{const m=f.currentTarget;if(!Tv(f))return;bo.add(m);const p=t(m,f),g=(S,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),bo.has(m)&&bo.delete(m),Tv(S)&&typeof p=="function"&&p(S,{success:E})},v=S=>{g(S,m===window||m===document||i.useGlobalTarget||Zb(m,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",b,o)};return r.forEach(f=>{(i.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),Jb(f)&&(f.addEventListener("focus",p=>vO(p,o)),!yO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function ew(n){return hb(n)&&"ownerSVGElement"in n}function wO(n){return ew(n)&&n.tagName==="svg"}const gt=n=>!!(n&&n.getVelocity),_O=[...Ib,Ze,_a],SO=n=>_O.find(Kb(n)),ld=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function xv(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function EO(...n){return t=>{let i=!1;const r=n.map(o=>{const u=xv(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():xv(n[o],null)}}}}function TO(...n){return T.useCallback(EO(...n),n)}class xO extends T.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=Jb(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AO({children:n,isPresent:t,anchorX:i,root:r}){const o=T.useId(),u=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=T.useContext(ld),m=TO(u,n?.ref);return T.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:b,right:S}=c.current;if(t||!u.current||!p||!g)return;const E=i==="left"?`left: ${b}`:`right: ${S}`;u.current.dataset.motionPopId=o;const A=document.createElement("style");f&&(A.nonce=f);const C=r??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[t]),_.jsx(xO,{isPresent:t,childRef:u,sizeRef:c,children:T.cloneElement(n,{ref:m})})}const RO=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f,root:m})=>{const p=Vf(CO),g=T.useId();let v=!0,b=T.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:i,custom:o,onExitComplete:S=>{p.set(S,!0);for(const E of p.values())if(!E)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[i,p,r]);return u&&v&&(b={...b}),T.useMemo(()=>{p.forEach((S,E)=>p.set(E,!1))},[i]),T.useEffect(()=>{!i&&!p.size&&r&&r()},[i]),c==="popLayout"&&(n=_.jsx(AO,{isPresent:i,anchorX:f,root:m,children:n})),_.jsx(Bo.Provider,{value:b,children:n})};function CO(){return new Map}function tw(n=!0){const t=T.useContext(Bo);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=T.useId();T.useEffect(()=>{if(n)return o(u)},[n]);const c=T.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const mo=n=>n.key||"";function Av(n){const t=[];return T.Children.forEach(n,i=>{T.isValidElement(i)&&t.push(i)}),t}const pf=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,g]=tw(c),v=T.useMemo(()=>Av(n),[n]),b=c&&!p?[]:v.map(mo),S=T.useRef(!0),E=T.useRef(v),A=Vf(()=>new Map),[C,O]=T.useState(v),[j,x]=T.useState(v);ub(()=>{S.current=!1,E.current=v;for(let I=0;I<j.length;I++){const Y=mo(j[I]);b.includes(Y)?A.delete(Y):A.get(Y)!==!0&&A.set(Y,!1)}},[j,b.length,b.join("-")]);const z=[];if(v!==C){let I=[...v];for(let Y=0;Y<j.length;Y++){const F=j[Y],re=mo(F);b.includes(re)||(I.splice(Y,0,F),z.push(F))}return u==="wait"&&z.length&&(I=z),x(Av(I)),O(v),null}const{forceRender:V}=T.useContext(Bf);return _.jsx(_.Fragment,{children:j.map(I=>{const Y=mo(I),F=c&&!p?!1:v===j||b.includes(Y),re=()=>{if(A.has(Y))A.set(Y,!0);else return;let Se=!0;A.forEach(qe=>{qe||(Se=!1)}),Se&&(V?.(),x(E.current),c&&g?.(),r&&r())};return _.jsx(RO,{isPresent:F,initial:!S.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:F?void 0:re,anchorX:f,children:I},Y)})})},nw=T.createContext({strict:!1}),Rv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ss={};for(const n in Rv)ss[n]={isEnabled:t=>Rv[n].some(i=>!!t[i])};function OO(n){for(const t in n)ss[t]={...ss[t],...n[t]}}const jO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||jO.has(n)}let aw=n=>!Oo(n);function DO(n){typeof n=="function"&&(aw=t=>t.startsWith("on")?!Oo(t):n(t))}try{DO(require("@emotion/is-prop-valid").default)}catch{}function NO(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(aw(o)||i===!0&&Oo(o)||!t&&!Oo(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Vo=T.createContext({});function Po(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function jr(n){return typeof n=="string"||Array.isArray(n)}const od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ud=["initial",...od];function Ho(n){return Po(n.animate)||ud.some(t=>jr(n[t]))}function iw(n){return!!(Ho(n)||n.variants)}function kO(n,t){if(Ho(n)){const{initial:i,animate:r}=n;return{initial:i===!1||jr(i)?i:void 0,animate:jr(r)?r:void 0}}return n.inherit!==!1?t:{}}function MO(n){const{initial:t,animate:i}=kO(n,T.useContext(Vo));return T.useMemo(()=>({initial:t,animate:i}),[Cv(t),Cv(i)])}function Cv(n){return Array.isArray(n)?n.join(" "):n}function Ov(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const cr={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(le.test(n))n=parseFloat(n);else return n;const i=Ov(n,t.target.x),r=Ov(n,t.target.y);return`${i}% ${r}%`}},UO={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=_a.parse(n);if(o.length>5)return r;const u=_a.createTransformer(n),c=typeof o[0]!="number"?1:0,f=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=f,o[1+c]/=m;const p=Be(f,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},gf={borderRadius:{...cr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cr,borderTopRightRadius:cr,borderBottomLeftRadius:cr,borderBottomRightRadius:cr,boxShadow:UO};function sw(n,{layout:t,layoutId:i}){return ds.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!gf[n]||n==="opacity")}const LO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zO=fs.length;function BO(n,t,i){let r="",o=!0;for(let u=0;u<zO;u++){const c=fs[u],f=n[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||i){const p=Fb(f,id[c]);if(!m){o=!1;const g=LO[c]||c;r+=`${g}(${p}) `}i&&(t[c]=p)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function cd(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,f=!1;for(const m in t){const p=t[m];if(ds.has(m)){c=!0;continue}else if(Ab(m)){o[m]=p;continue}else{const g=Fb(p,id[m]);m.startsWith("origin")?(f=!0,u[m]=g):r[m]=g}}if(t.transform||(c||i?r.transform=BO(t,n.transform,i):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${m} ${p} ${g}`}}const hd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rw(n,t,i){for(const r in t)!gt(t[r])&&!sw(r,i)&&(n[r]=t[r])}function VO({transformTemplate:n},t){return T.useMemo(()=>{const i=hd();return cd(i,t,n),Object.assign({},i.vars,i.style)},[t])}function PO(n,t){const i=n.style||{},r={};return rw(r,i,n),Object.assign(r,VO(n,t)),r}function HO(n,t){const i={},r=PO(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const $O={offset:"stroke-dashoffset",array:"stroke-dasharray"},qO={offset:"strokeDashoffset",array:"strokeDasharray"};function GO(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?$O:qO;n[u.offset]=le.transform(-r);const c=le.transform(t),f=le.transform(i);n[u.array]=`${c} ${f}`}function lw(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},m,p,g){if(cd(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),i!==void 0&&(v.y=i),r!==void 0&&(v.scale=r),o!==void 0&&GO(v,o,u,c,!1)}const ow=()=>({...hd(),attrs:{}}),uw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function KO(n,t,i,r){const o=T.useMemo(()=>{const u=ow();return lw(u,t,uw(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};rw(u,n.style,n),o.style={...u,...o.style}}return o}const IO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fd(n){return typeof n!="string"||n.includes("-")?!1:!!(IO.indexOf(n)>-1||/[A-Z]/u.test(n))}function YO(n,t,i,{latestValues:r},o,u=!1){const f=(fd(n)?KO:HO)(t,r,o,n),m=NO(t,typeof n=="string",u),p=n!==T.Fragment?{...m,...f,ref:i}:{},{children:g}=t,v=T.useMemo(()=>gt(g)?g.get():g,[g]);return T.createElement(n,{...p,children:v})}function jv(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function dd(n,t,i,r){if(typeof t=="function"){const[o,u]=jv(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=jv(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function wo(n){return gt(n)?n.get():n}function XO({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:FO(i,r,o,n),renderState:t()}}function FO(n,t,i,r){const o={},u=r(n,{});for(const b in u)o[b]=wo(u[b]);let{initial:c,animate:f}=n;const m=Ho(n),p=iw(n);t&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!Po(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const E=dd(n,b[S]);if(E){const{transitionEnd:A,transition:C,...O}=E;for(const j in O){let x=O[j];if(Array.isArray(x)){const z=g?x.length-1:0;x=x[z]}x!==null&&(o[j]=x)}for(const j in A)o[j]=A[j]}}}return o}const cw=n=>(t,i)=>{const r=T.useContext(Vo),o=T.useContext(Bo),u=()=>XO(n,t,r,o);return i?u():Vf(u)};function md(n,t,i){const{style:r}=n,o={};for(const u in r)(gt(r[u])||t.style&&gt(t.style[u])||sw(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const JO=cw({scrapeMotionValuesFromProps:md,createRenderState:hd});function hw(n,t,i){const r=md(n,t,i);for(const o in n)if(gt(n[o])||gt(t[o])){const u=fs.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const QO=cw({scrapeMotionValuesFromProps:hw,createRenderState:ow}),WO=Symbol.for("motionComponentSymbol");function Wi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ZO(n,t,i){return T.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Wi(i)&&(i.current=r))},[t])}const pd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ej="framerAppearId",fw="data-"+pd(ej),dw=T.createContext({});function tj(n,t,i,r,o){const{visualElement:u}=T.useContext(Vo),c=T.useContext(nw),f=T.useContext(Bo),m=T.useContext(ld).reducedMotion,p=T.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(n,{visualState:t,parent:u,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,v=T.useContext(dw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&nj(p.current,i,o,v);const b=T.useRef(!1);T.useInsertionEffect(()=>{g&&b.current&&g.update(i,f)});const S=i[fw],E=T.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return ub(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),T.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),E.current=!1),g.enteringChildren=void 0)}),g}function nj(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:mw(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&Wi(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function mw(n){if(n)return n.options.allowProjection!==!1?n.projection:mw(n.parent)}function Dh(n,{forwardMotionProps:t=!1}={},i,r){i&&OO(i);const o=fd(n)?QO:JO;function u(f,m){let p;const g={...T.useContext(ld),...f,layoutId:aj(f)},{isStatic:v}=g,b=MO(f),S=o(f,v);if(!v&&Pf){ij();const E=sj(g);p=E.MeasureLayout,b.visualElement=tj(n,S,g,r,E.ProjectionNode)}return _.jsxs(Vo.Provider,{value:b,children:[p&&b.visualElement?_.jsx(p,{visualElement:b.visualElement,...g}):null,YO(n,f,ZO(S,b.visualElement,m),S,v,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=T.forwardRef(u);return c[WO]=n,c}function aj({layoutId:n}){const t=T.useContext(Bf).id;return t&&n!==void 0?t+"-"+n:n}function ij(n,t){T.useContext(nw).strict}function sj(n){const{drag:t,layout:i}=ss;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rj(n,t){if(typeof Proxy>"u")return Dh;const i=new Map,r=(u,c)=>Dh(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Dh(c,void 0,n,t)),i.get(c))})}function pw({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function lj({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function oj(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Nh(n){return n===void 0||n===1}function yf({scale:n,scaleX:t,scaleY:i}){return!Nh(n)||!Nh(t)||!Nh(i)}function Ia(n){return yf(n)||gw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gw(n){return Dv(n.x)||Dv(n.y)}function Dv(n){return n&&n!=="0%"}function jo(n,t,i){const r=n-i,o=t*r;return i+o}function Nv(n,t,i,r,o){return o!==void 0&&(n=jo(n,o,r)),jo(n,i,r)+t}function vf(n,t=0,i=1,r,o){n.min=Nv(n.min,t,i,r,o),n.max=Nv(n.max,t,i,r,o)}function yw(n,{x:t,y:i}){vf(n.x,t.translate,t.scale,t.originPoint),vf(n.y,i.translate,i.scale,i.originPoint)}const kv=.999999999999,Mv=1.0000000000001;function uj(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let f=0;f<o;f++){u=i[f],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&es(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,yw(n,c)),r&&Ia(u.latestValues)&&es(n,u.latestValues))}t.x<Mv&&t.x>kv&&(t.x=1),t.y<Mv&&t.y>kv&&(t.y=1)}function Zi(n,t){n.min=n.min+t,n.max=n.max+t}function Uv(n,t,i,r,o=.5){const u=Be(n.min,n.max,o);vf(n,t,i,u,r)}function es(n,t){Uv(n.x,t.x,t.scaleX,t.scale,t.originX),Uv(n.y,t.y,t.scaleY,t.scale,t.originY)}function vw(n,t){return pw(oj(n.getBoundingClientRect(),t))}function cj(n,t,i){const r=vw(n,i),{scroll:o}=t;return o&&(Zi(r.x,o.offset.x),Zi(r.y,o.offset.y)),r}const Lv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ts=()=>({x:Lv(),y:Lv()}),zv=()=>({min:0,max:0}),nt=()=>({x:zv(),y:zv()}),bf={current:null},bw={current:!1};function hj(){if(bw.current=!0,!!Pf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>bf.current=n.matches;n.addEventListener("change",t),t()}else bf.current=!1}const fj=new WeakMap;function dj(n,t,i){for(const r in t){const o=t[r],u=i[r];if(gt(o))n.addValue(r,o);else if(gt(u))n.addValue(r,is(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,is(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const Bv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mj{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ct.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Ho(i),this.isVariantNode=iw(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const b in v){const S=v[b];m[b]!==void 0&&gt(S)&&S.set(m[b])}}mount(t){this.current=t,fj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),bw.current||hj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ds.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ss){const i=ss[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<Bv.length;r++){const o=Bv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=dj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=is(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cb(r)||fb(r))?r=parseFloat(r):!SO(r)&&_a.test(i)&&(r=Xb(t,i)),this.setBaseTarget(t,gt(r)?r.get():r)),gt(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=dd(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!gt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Kf),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){sd.render(this.render)}}class ww extends mj{constructor(){super(...arguments),this.KeyframeResolver=cO}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function _w(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function pj(n){return window.getComputedStyle(n)}class gj extends ww{constructor(){super(...arguments),this.type="html",this.renderInstance=_w}readValueFromInstance(t,i){if(ds.has(i))return this.projection?.isProjecting?of(i):OC(t,i);{const r=pj(t),o=(Ab(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return vw(t,i)}build(t,i,r){cd(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return md(t,i,r)}}const Sw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yj(n,t,i,r){_w(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Sw.has(o)?o:pd(o),t.attrs[o])}class vj extends ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ds.has(i)){const r=Yb(i);return r&&r.default||0}return i=Sw.has(i)?i:pd(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return hw(t,i,r)}build(t,i,r){lw(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){yj(t,i,r,o)}mount(t){this.isSVGTag=uw(t.tagName),super.mount(t)}}const bj=(n,t)=>fd(n)?new vj(t):new gj(t,{allowProjection:n!==T.Fragment});function as(n,t,i){const r=n.getProps();return dd(r,t,i!==void 0?i:r.custom,n)}const wf=n=>Array.isArray(n);function wj(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,is(i))}function _j(n){return wf(n)?n[n.length-1]||0:n}function Sj(n,t){const i=as(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const f=_j(u[c]);wj(n,c,f)}}function Ej(n){return!!(gt(n)&&n.add)}function _f(n,t){const i=n.getValue("willChange");if(Ej(i))return i.add(t);if(!i&&qn.WillChange){const r=new qn.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Ew(n){return n.props[fw]}const Tj=n=>n!==null;function xj(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(Tj),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Aj={type:"spring",stiffness:500,damping:25,restSpeed:10},Rj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Cj={type:"keyframes",duration:.8},Oj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jj=(n,{keyframes:t})=>t.length>2?Cj:ds.has(n)?n.startsWith("scale")?Rj(t[1]):Aj:Oj;function Dj({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const gd=(n,t,i,r={},o,u)=>c=>{const f=ad(r,n)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-vn(m);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:u?void 0:o};Dj(f)||Object.assign(g,jj(n,g)),g.duration&&(g.duration=vn(g.duration)),g.repeatDelay&&(g.repeatDelay=vn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(df(g),g.delay===0&&(v=!0)),(qn.instantAnimations||qn.skipAnimations)&&(v=!0,df(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=xj(g.keyframes,f);if(b!==void 0){Ue.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new td(g):new WC(g)};function Nj({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function Tw(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(u=r);const m=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const g in f){const v=n.getValue(g,n.latestValues[g]??null),b=f[g];if(b===void 0||p&&Nj(p,g))continue;const S={delay:i,...ad(u||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const O=Ew(n);if(O){const j=window.MotionHandoffAnimation(O,g,Ue);j!==null&&(S.startTime=j,A=!0)}}_f(n,g),v.start(gd(g,v,b,n.shouldReduceMotion&&Gb.has(g)?{type:!1}:S,n,A));const C=v.animation;C&&m.push(C)}return c&&Promise.all(m).then(()=>{Ue.update(()=>{c&&Sj(n,c)})}),m}function xw(n,t,i,r=0,o=1){const u=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),c=n.size,f=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:f-u*r}function Sf(n,t,i={}){const r=as(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(Tw(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=o;return kj(n,t,m,p,g,v,i)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[u,c]:[c,u];return m().then(()=>p())}else return Promise.all([u(),c(i.delay)])}function kj(n,t,i=0,r=0,o=0,u=1,c){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(Sf(m,t,{...c,delay:i+(typeof r=="function"?0:r)+xw(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function Mj(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Sf(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Sf(n,t,i);else{const o=typeof t=="function"?as(n,t,i.custom):t;r=Promise.all(Tw(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function Aw(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const Uj=ud.length;function Rw(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?Rw(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<Uj;i++){const r=ud[i],o=n.props[r];(jr(o)||o===!1)&&(t[r]=o)}return t}const Lj=[...od].reverse(),zj=od.length;function Bj(n){return t=>Promise.all(t.map(({animation:i,options:r})=>Mj(n,i,r)))}function Vj(n){let t=Bj(n),i=Vv(),r=!0;const o=m=>(p,g)=>{const v=as(n,g,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...E}=v;p={...p,...E,...S}}return p};function u(m){t=m(n)}function c(m){const{props:p}=n,g=Rw(n.parent)||{},v=[],b=new Set;let S={},E=1/0;for(let C=0;C<zj;C++){const O=Lj[C],j=i[O],x=p[O]!==void 0?p[O]:g[O],z=jr(x),V=O===m?j.isActive:null;V===!1&&(E=C);let I=x===g[O]&&x!==p[O]&&z;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),j.protectedKeys={...S},!j.isActive&&V===null||!x&&!j.prevProp||Po(x)||typeof x=="boolean")continue;const Y=Pj(j.prevProp,x);let F=Y||O===m&&j.isActive&&!I&&z||C>E&&z,re=!1;const Se=Array.isArray(x)?x:[x];let qe=Se.reduce(o(O),{});V===!1&&(qe={});const{prevResolvedValues:Ge={}}=j,an={...Ge,...qe},wt=P=>{F=!0,b.has(P)&&(re=!0,b.delete(P)),j.needsAnimating[P]=!0;const X=n.getValue(P);X&&(X.liveStyle=!1)};for(const P in an){const X=qe[P],se=Ge[P];if(S.hasOwnProperty(P))continue;let oe=!1;wf(X)&&wf(se)?oe=!Aw(X,se):oe=X!==se,oe?X!=null?wt(P):b.add(P):X!==void 0&&b.has(P)?wt(P):j.protectedKeys[P]=!0}j.prevProp=x,j.prevResolvedValues=qe,j.isActive&&(S={...S,...qe}),r&&n.blockInitialAnimation&&(F=!1);const mt=I&&Y;F&&(!mt||re)&&v.push(...Se.map(P=>{const X={type:O};if(typeof P=="string"&&r&&!mt&&n.manuallyAnimateOnMount&&n.parent){const{parent:se}=n,oe=as(se,P);if(se.enteringChildren&&oe){const{delayChildren:N}=oe.transition||{};X.delay=xw(se.enteringChildren,n,N)}}return{animation:P,options:X}}))}if(b.size){const C={};if(typeof p.initial!="boolean"){const O=as(n,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(C.transition=O.transition)}b.forEach(O=>{const j=n.getBaseTarget(O),x=n.getValue(O);x&&(x.liveStyle=!0),C[O]=j??null}),v.push({animation:C})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(v):Promise.resolve()}function f(m,p){if(i[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),i[m].isActive=p;const g=c(m);for(const v in i)i[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>i,reset:()=>{i=Vv()}}}function Pj(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Aw(t,n):!1}function Ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vv(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class Sa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hj extends Sa{constructor(t){super(t),t.animationState||(t.animationState=Vj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Po(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $j=0;class qj extends Sa{constructor(){super(...arguments),this.id=$j++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Gj={animation:{Feature:Hj},exit:{Feature:qj}};function Dr(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Pr(n){return{point:{x:n.pageX,y:n.pageY}}}const Kj=n=>t=>rd(t)&&n(t,Pr(t));function vr(n,t,i,r){return Dr(n,t,Kj(i),r)}const Cw=1e-4,Ij=1-Cw,Yj=1+Cw,Ow=.01,Xj=0-Ow,Fj=0+Ow;function bt(n){return n.max-n.min}function Jj(n,t,i){return Math.abs(n-t)<=i}function Pv(n,t,i,r=.5){n.origin=r,n.originPoint=Be(t.min,t.max,n.origin),n.scale=bt(i)/bt(t),n.translate=Be(i.min,i.max,n.origin)-n.originPoint,(n.scale>=Ij&&n.scale<=Yj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Xj&&n.translate<=Fj||isNaN(n.translate))&&(n.translate=0)}function br(n,t,i,r){Pv(n.x,t.x,i.x,r?r.originX:void 0),Pv(n.y,t.y,i.y,r?r.originY:void 0)}function Hv(n,t,i){n.min=i.min+t.min,n.max=n.min+bt(t)}function Qj(n,t,i){Hv(n.x,t.x,i.x),Hv(n.y,t.y,i.y)}function $v(n,t,i){n.min=t.min-i.min,n.max=n.min+bt(t)}function Do(n,t,i){$v(n.x,t.x,i.x),$v(n.y,t.y,i.y)}function en(n){return[n("x"),n("y")]}const jw=({current:n})=>n?n.ownerDocument.defaultView:null,qv=(n,t)=>Math.abs(n-t);function Wj(n,t){const i=qv(n.x,t.x),r=qv(n.y,t.y);return Math.sqrt(i**2+r**2)}class Dw{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Mh(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=Wj(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!E)return;const{point:A}=b,{timestamp:C}=dt;this.history.push({...A,timestamp:C});const{onStart:O,onMove:j}=this.handlers;S||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=kh(S,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:E,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Mh(b.type==="pointercancel"?this.lastMoveEventInfo:kh(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,O),A&&A(b,O)},!rd(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const f=Pr(t),m=kh(f,this.transformPagePoint),{point:p}=m,{timestamp:g}=dt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,Mh(m,this.history)),this.removeListeners=zr(vr(this.contextWindow,"pointermove",this.handlePointerMove),vr(this.contextWindow,"pointerup",this.handlePointerUp),vr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function kh(n,t){return t?{point:t(n.point)}:n}function Gv(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Mh({point:n},t){return{point:n,delta:Gv(n,Nw(t)),offset:Gv(n,Zj(t)),velocity:eD(t,.1)}}function Zj(n){return n[0]}function Nw(n){return n[n.length-1]}function eD(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=Nw(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>vn(t)));)i--;if(!r)return{x:0,y:0};const u=tn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function tD(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Be(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Be(i,n,r.max):Math.min(n,i)),n}function Kv(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function nD(n,{top:t,left:i,bottom:r,right:o}){return{x:Kv(n.x,i,o),y:Kv(n.y,t,r)}}function Iv(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function aD(n,t){return{x:Iv(n.x,t.x),y:Iv(n.y,t.y)}}function iD(n,t){let i=.5;const r=bt(n),o=bt(t);return o>r?i=Rr(t.min,t.max-r,n.min):r>o&&(i=Rr(n.min,n.max-o,t.min)),$n(0,1,i)}function sD(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Ef=.35;function rD(n=Ef){return n===!1?n=0:n===!0&&(n=Ef),{x:Yv(n,"left","right"),y:Yv(n,"top","bottom")}}function Yv(n,t,i){return{min:Xv(n,t),max:Xv(n,i)}}function Xv(n,t){return typeof n=="number"?n:n[t]||0}const lD=new WeakMap;class oD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Pr(v).point)},c=(v,b)=>{const{drag:S,dragPropagation:E,onDragStart:A}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(O=>{let j=this.getAxisMotionValue(O).get()||0;if(bn.test(j)){const{projection:x}=this.visualElement;if(x&&x.layout){const z=x.layout.layoutBox[O];z&&(j=bt(z)*(parseFloat(j)/100))}}this.originPoint[O]=j}),A&&Ue.postRender(()=>A(v,b)),_f(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:A,onDrag:C}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=b;if(E&&this.currentDirection===null){this.currentDirection=uD(O),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),C&&C(v,b)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>en(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Dw(t,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:jw(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Ue.postRender(()=>f(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!po(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=tD(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Wi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=nD(r.layoutBox,t):this.constraints=!1,this.elastic=rD(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&en(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=sD(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Wi(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=cj(r,o.root,this.visualElement.getTransformPagePoint());let c=aD(o.layout.layoutBox,u);if(i){const f=i(lj(c));this.hasMutatedConstraints=!!f,f&&(c=pw(f))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=en(g=>{if(!po(g,i,this.currentDirection))return;let v=m&&m[g]||{};c&&(v={min:0,max:0});const b=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?t[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(p).then(f)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return _f(this.visualElement,t),r.start(gd(t,r,0,i,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){en(i=>{const{drag:r}=this.getProps();if(!po(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[i];u.set(t[i]-Be(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Wi(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};en(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();o[c]=iD({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(c=>{if(!po(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(Be(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;lD.set(this.visualElement,this);const t=this.visualElement.current,i=vr(t,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Wi(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(r);const c=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(en(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=m[g].translate,v.set(v.get()+m[g].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ef,dragMomentum:f=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function po(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function uD(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class cD extends Sa{constructor(t){super(t),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new oD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fv=n=>(t,i)=>{n&&Ue.postRender(()=>n(t,i))};class hD extends Sa{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(t){this.session=new Dw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Fv(t),onStart:Fv(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ue.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=vr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _o={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Uh=!1;class fD extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Uh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),_o.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Uh=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Uh=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kw(n){const[t,i]=tw(),r=T.useContext(Bf);return _.jsx(fD,{...n,layoutGroup:r,switchLayoutGroup:T.useContext(dw),isPresent:t,safeToRemove:i})}function dD(n,t,i){const r=gt(n)?n:is(n);return r.start(gd("",r,t,i)),r.animation}const mD=(n,t)=>n.depth-t.depth;class pD{constructor(){this.children=[],this.isDirty=!1}add(t){Hf(this.children,t),this.isDirty=!0}remove(t){$f(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mD),this.isDirty=!1,this.children.forEach(t)}}function gD(n,t){const i=Ct.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(wa(r),n(u-t))};return Ue.setup(r,!0),()=>wa(r)}const Mw=["TopLeft","TopRight","BottomLeft","BottomRight"],yD=Mw.length,Jv=n=>typeof n=="string"?parseFloat(n):n,Qv=n=>typeof n=="number"||le.test(n);function vD(n,t,i,r,o,u){o?(n.opacity=Be(0,i.opacity??1,bD(r)),n.opacityExit=Be(t.opacity??1,0,wD(r))):u&&(n.opacity=Be(t.opacity??1,i.opacity??1,r));for(let c=0;c<yD;c++){const f=`border${Mw[c]}Radius`;let m=Wv(t,f),p=Wv(i,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Qv(m)===Qv(p)?(n[f]=Math.max(Be(Jv(m),Jv(p),r),0),(bn.test(p)||bn.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||i.rotate)&&(n.rotate=Be(t.rotate||0,i.rotate||0,r))}function Wv(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const bD=Uw(0,.5,wb),wD=Uw(.5,.95,nn);function Uw(n,t,i){return r=>r<n?0:r>t?1:i(Rr(n,t,r))}function Zv(n,t){n.min=t.min,n.max=t.max}function on(n,t){Zv(n.x,t.x),Zv(n.y,t.y)}function e0(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function t0(n,t,i,r,o){return n-=t,n=jo(n,1/i,r),o!==void 0&&(n=jo(n,1/o,r)),n}function _D(n,t=0,i=1,r=.5,o,u=n,c=n){if(bn.test(t)&&(t=parseFloat(t),t=Be(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=Be(u.min,u.max,r);n===u&&(f-=t),n.min=t0(n.min,t,i,f,o),n.max=t0(n.max,t,i,f,o)}function n0(n,t,[i,r,o],u,c){_D(n,t[i],t[r],t[o],t.scale,u,c)}const SD=["x","scaleX","originX"],ED=["y","scaleY","originY"];function a0(n,t,i,r){n0(n.x,t,SD,i?i.x:void 0,r?r.x:void 0),n0(n.y,t,ED,i?i.y:void 0,r?r.y:void 0)}function i0(n){return n.translate===0&&n.scale===1}function Lw(n){return i0(n.x)&&i0(n.y)}function s0(n,t){return n.min===t.min&&n.max===t.max}function TD(n,t){return s0(n.x,t.x)&&s0(n.y,t.y)}function r0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function zw(n,t){return r0(n.x,t.x)&&r0(n.y,t.y)}function l0(n){return bt(n.x)/bt(n.y)}function o0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class xD{constructor(){this.members=[]}add(t){Hf(this.members,t),t.scheduleRender()}remove(t){if($f(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AD(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:E}=i;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Lh=["","X","Y","Z"],RD=1e3;let CD=0;function zh(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Bw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=Ew(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",Ue,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Bw(r)}function Vw({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},f=t?.()){this.id=CD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DD),this.nodes.forEach(UD),this.nodes.forEach(LD),this.nodes.forEach(ND)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new pD)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Kf),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ew(c)&&!wO(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{v=window.innerWidth}),n(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=gD(b,250),_o.hasAnimatedSinceResize&&(_o.hasAnimatedSinceResize=!1,this.nodes.forEach(h0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||HD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=p.getProps(),O=!this.targetLayout||!zw(this.targetLayout,S),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...ad(E,"layout"),onPlay:A,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(g,j)}else v||h0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MD),this.nodes.forEach(OD),this.nodes.forEach(jD)):this.nodes.forEach(c0),this.clearAllSnapshots();const f=Ct.now();dt.delta=$n(0,1e3/60,f-dt.timestamp),dt.timestamp=f,dt.isProcessing=!0,xh.update.process(dt),xh.preRender.process(dt),xh.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kD),this.sharedNodes.forEach(BD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bt(this.snapshot.measuredBox.x)&&!bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Lw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ia(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),$D(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return nt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qD))){const{scroll:p}=this.root;p&&(Zi(f.x,p.offset.x),Zi(f.y,p.offset.y))}return f}removeElementScroll(c){const f=nt();if(on(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&on(f,c),Zi(f.x,g.offset.x),Zi(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const m=nt();on(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&es(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ia(g.latestValues)&&es(m,g.latestValues)}return Ia(this.latestValues)&&es(m,this.latestValues),m}removeTransform(c){const f=nt();on(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ia(p.latestValues))continue;yf(p.latestValues)&&p.updateSnapshot();const g=nt(),v=p.measurePageBox();on(g,v),a0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ia(this.latestValues)&&a0(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=dt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),yw(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||gw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Do(this.relativeTargetOrigin,f,m),on(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;on(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;uj(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=nt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),br(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!o0(this.projectionDelta.x,this.prevProjectionDelta.x)||!o0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ts(),this.projectionDelta=ts(),this.projectionDeltaWithTransform=ts()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=ts();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=nt(),S=m?m.source:void 0,E=this.layout?this.layout.source:void 0,A=S!==E,C=this.getStack(),O=!C||C.members.length<=1,j=!!(A&&!O&&this.options.crossfade===!0&&!this.path.some(PD));this.animationProgress=0;let x;this.mixTargetDelta=z=>{const V=z/1e3;f0(v.x,c.x,V),f0(v.y,c.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Do(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VD(this.relativeTarget,this.relativeTargetOrigin,b,V),x&&TD(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=nt()),on(x,this.relativeTarget)),A&&(this.animationValues=g,vD(g,p,this.latestValues,V,j,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{_o.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=is(0)),this.currentAnimation=dD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:g}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&Pw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||nt();const v=bt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const b=bt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}on(f,m),es(f,g),br(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xD),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&zh("z",c,p,this.animationValues);for(let g=0;g<Lh.length;g++)zh(`rotate${Lh[g]}`,c,p,this.animationValues),zh(`skew${Lh[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=wo(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=wo(f?.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=AD(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),c.transform=v;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in gf){if(g[E]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:O}=gf[E],j=v==="none"?g[E]:A(g[E],p);if(C){const x=C.length;for(let z=0;z<x;z++)c[C[z]]=j}else O?this.options.visualElement.renderState.vars[E]=j:c[E]=j}this.options.layoutId&&(c.pointerEvents=p===this?wo(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(u0),this.root.sharedNodes.clear()}}}function OD(n){n.updateLayout()}function jD(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?en(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=bt(v);v.min=i[g].min,v.max=v.min+b}):Pw(o,t.layoutBox,i)&&en(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=bt(i[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const c=ts();br(c,i,t.layoutBox);const f=ts();u?br(f,n.applyTransform(r,!0),t.measuredBox):br(f,i,t.layoutBox);const m=!Lw(c);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=nt();Do(S,t.layoutBox,v.layoutBox);const E=nt();Do(E,i,b.layoutBox),zw(S,E)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function DD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ND(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kD(n){n.clearSnapshot()}function u0(n){n.clearMeasurements()}function c0(n){n.isLayoutDirty=!1}function MD(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function h0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function UD(n){n.resolveTargetDelta()}function LD(n){n.calcProjection()}function zD(n){n.resetSkewAndRotation()}function BD(n){n.removeLeadSnapshot()}function f0(n,t,i){n.translate=Be(t.translate,0,i),n.scale=Be(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function d0(n,t,i,r){n.min=Be(t.min,i.min,r),n.max=Be(t.max,i.max,r)}function VD(n,t,i,r){d0(n.x,t.x,i.x,r),d0(n.y,t.y,i.y,r)}function PD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const HD={duration:.45,ease:[.4,0,.1,1]},m0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),p0=m0("applewebkit/")&&!m0("chrome/")?Math.round:nn;function g0(n){n.min=p0(n.min),n.max=p0(n.max)}function $D(n){g0(n.x),g0(n.y)}function Pw(n,t,i){return n==="position"||n==="preserve-aspect"&&!Jj(l0(t),l0(i),.2)}function qD(n){return n!==n.root&&n.scroll?.wasRoot}const GD=Vw({attachResizeListener:(n,t)=>Dr(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bh={current:void 0},Hw=Vw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bh.current){const n=new GD({});n.mount(window),n.setOptions({layoutScroll:!0}),Bh.current=n}return Bh.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KD={pan:{Feature:hD},drag:{Feature:cD,ProjectionNode:Hw,MeasureLayout:kw}};function y0(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&Ue.postRender(()=>u(t,Pr(t)))}class ID extends Sa{mount(){const{current:t}=this.node;t&&(this.unmount=pO(t,(i,r)=>(y0(this.node,r,"Start"),o=>y0(this.node,o,"End"))))}unmount(){}}class YD extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v0(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&Ue.postRender(()=>u(t,Pr(t)))}class XD extends Sa{mount(){const{current:t}=this.node;t&&(this.unmount=bO(t,(i,r)=>(v0(this.node,r,"Start"),(o,{success:u})=>v0(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tf=new WeakMap,Vh=new WeakMap,FD=n=>{const t=Tf.get(n.target);t&&t(n)},JD=n=>{n.forEach(FD)};function QD({root:n,...t}){const i=n||document;Vh.has(i)||Vh.set(i,{});const r=Vh.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(JD,{root:n,...t})),r[o]}function WD(n,t,i){const r=QD(t);return Tf.set(n,i),r.observe(n),()=>{Tf.delete(n),r.unobserve(n)}}const ZD={some:0,all:1};class eN extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ZD[o]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(m)};return WD(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(tN(t,i))&&this.startObserver()}unmount(){}}function tN({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const nN={inView:{Feature:eN},tap:{Feature:XD},focus:{Feature:YD},hover:{Feature:ID}},aN={layout:{ProjectionNode:Hw,MeasureLayout:kw}},iN={...Gj,...nN,...KD,...aN},hr=rj(iN,bj),sN=({roundData:n,myPlayerId:t,onComplete:i})=>{const r=n.warHistory||[n],[o,u]=T.useState(0),[c,f]=T.useState("enter"),[m,p]=T.useState(!1);if(T.useEffect(()=>{u(0),f("enter"),p(!1)},[n]),T.useEffect(()=>{console.log("BattleOverlay: Sequence starting for history length:",r.length);let E=!0;return(async()=>{for(let C=0;C<r.length;C++){if(!E||(u(C),f("enter"),p(!1),await new Promise(j=>setTimeout(j,1e3)),!E)||(f("reveal"),await new Promise(j=>setTimeout(j,1500)),!E)||(f("compare"),await new Promise(j=>setTimeout(j,2e3)),!E))return;if(C===r.length-1)await new Promise(j=>setTimeout(j,1500));else{if(p(!0),await new Promise(j=>setTimeout(j,1500)),!E)return;f("exit"),await new Promise(j=>setTimeout(j,500))}}E&&(f("exit"),await new Promise(C=>setTimeout(C,500)),i&&i())})(),()=>{E=!1}},[n]),!n)return null;const g=r[o];if(!g||!g.cardsPlayed)return null;const v=g.winner,b=n.category,S=n.winnerName;return _.jsxs(hr.div,{className:"battle-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("div",{className:"battle-category",children:["Competition: ",_.jsx("span",{children:b}),r.length>1&&_.jsxs("div",{style:{fontSize:"0.6em",opacity:.8},children:["Round ",o+1," / ",r.length]})]}),_.jsx(pf,{mode:"wait",children:c!=="exit"&&_.jsx("div",{className:"battle-arena",children:g.cardsPlayed.map((E,A)=>{if(!E||!E.card)return null;const C=E.playerId===t,O=E.playerId===v,j=!C&&c==="enter",x=E.value??E.card.values?.[b]??E.card.attributes?.[b]??"-";return _.jsxs("div",{className:`battle-card-slot ${O&&c==="compare"?"winner":""}`,children:[_.jsx("div",{className:"player-label",children:E.playerName}),_.jsxs(hr.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1,scale:O&&c==="compare"?1.1:1,filter:!O&&v&&c==="compare"?"grayscale(0.8) blur(1px)":"none"},exit:{y:-50,opacity:0},transition:{delay:A*.1},className:"battle-card-wrapper",children:[_.jsx(zo,{card:E.card,categories:[{name:b}],deckName:null,flipped:j,enableFlip:!1}),c==="compare"&&_.jsx(hr.div,{className:"stat-highlight",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:x})]})]},E.playerId)})},`arena-${o}`)}),_.jsxs(pf,{children:[c==="compare"&&m&&_.jsxs(hr.div,{className:"winner-banner war-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:["WAR!",_.jsx("div",{style:{fontSize:"0.4em"},children:"Tie - Next Cards!"})]},"war-banner"),c==="compare"&&!m&&o===r.length-1&&_.jsx(hr.div,{className:"winner-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:S?`${S} Wins!`:"DRAW!"},"winner-banner")]})]})},rN=({matchId:n,gameState:t,myPlayer:i,deck:r,actions:o,isMyTurn:u})=>{if(!r)return _.jsx("div",{children:"Loading Deck Data..."});const c=i.hand[0],f=r.categories,m=t.winner,p=t.warMode,g=t.pot.length,v=t.lastRound,[b,S]=T.useState(!1),E=Nr.useRef(null);T.useEffect(()=>{console.log("GameBoard: Checking lastRound update",{lastRound:v,prev:E.current}),v&&v!==E.current&&(console.log("GameBoard: New round detected, triggering battle animation",v),S(!0),E.current=v)},[v]);const A=i.eliminated;return t.status==="completed"&&m&&!b?_.jsxs("div",{className:"game-board-container game-over",children:[_.jsx("h1",{children:"Game Over!"}),_.jsxs("h2",{children:["Winner: ",m.name]}),_.jsx(Me,{variant:"primary",onClick:()=>window.location.href="/",children:"Back to Home"})]}):_.jsxs("div",{className:"game-board-container",children:[_.jsxs("div",{className:"game-header",children:[_.jsx("div",{className:"turn-indicator",children:u?"YOUR TURN":`${t.players.find(C=>C.id===t.turnPlayerId)?.name}'s Turn`}),_.jsxs("div",{className:"pot-indicator",children:["Pot: ",g," cards ",p&&_.jsx("span",{className:"war-badge",children:"WAR!"})]})]}),_.jsx(pf,{children:b&&v&&_.jsx(sN,{roundData:v,myPlayerId:i.id,onComplete:()=>S(!1)})}),_.jsx("div",{className:"opponents-strip",children:t.players.filter(C=>C.id!==i.id).map(C=>_.jsxs("div",{className:`opponent-card ${C.id===t.turnPlayerId?"active-turn":""} ${C.eliminated?"eliminated-p":""}`,children:[_.jsx("div",{className:"opponent-avatar",children:""}),_.jsx("div",{className:"opponent-name",children:C.name}),_.jsxs("div",{className:"opponent-hand-count",children:[C.hand.length," cards"]})]},C.id))}),_.jsxs("div",{className:"main-play-area",children:[_.jsxs("div",{className:"my-player-info",style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem",justifyContent:"center"},children:[_.jsx("div",{className:"opponent-avatar",style:{background:"#4CAF50"},children:""}),_.jsxs("div",{className:"my-info-text",style:{textAlign:"left"},children:[_.jsxs("div",{style:{fontWeight:"bold"},children:[i.name," (You)"]}),_.jsxs("div",{style:{fontSize:"0.9em",opacity:.8},children:[i.hand.length," cards"]})]})]}),_.jsx("div",{className:"my-card-section",children:c?_.jsx(zo,{card:c,categories:f||[],isSelectable:u&&!m,onCategorySelect:o.playTurn,deckName:r.name}):_.jsx("div",{className:"empty-card-slot",children:"Empty Hand"})}),_.jsxs("div",{className:"controls-section",children:[A&&_.jsxs("div",{className:"eliminated-message",children:[_.jsx("h3",{children:"You have been eliminated"}),_.jsx("p",{children:"Spectating the game..."})]}),!A&&u&&!m&&_.jsx("div",{className:"text-center text-primary mt-4 animate-pulse",children:" Select a category on the card above "}),!A&&!u&&_.jsx("div",{className:"waiting-message",children:"Waiting for opponent..."}),v&&!b&&_.jsx("div",{className:"review-battle-container",style:{marginTop:"1rem",textAlign:"center"},children:_.jsx(Me,{variant:"secondary",size:"sm",onClick:()=>S(!0),children:"Review Last Battle"})}),!A&&!m&&_.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:_.jsx(Me,{variant:"ghost",size:"sm",onClick:o.concede,style:{color:"var(--danger)",opacity:.7},children:"Surrender Game"})})]})]})]})},lN=()=>{const{id:n}=iT(),{status:t,actions:i,gameState:r,myPlayer:o,isHost:u,players:c,deck:f,isMyTurn:m}=xR(n),[p,g]=T.useState(""),{setTitle:v,setBackTo:b}=us(),{user:S}=cs(),E=T.useRef(!1);return T.useEffect(()=>{S&&f?.id&&mR(f.id,S.id)},[S,f?.id]),T.useEffect(()=>{if(S&&!o&&t==="lobby"&&!E.current){E.current=!0;const A=S.user_metadata?.full_name||S.email?.split("@")[0]||"Player";console.log("Auto-joining as",A),i.join(A).catch(C=>{console.error("Auto-join failed:",C),E.current=!1})}},[S,o,t]),T.useEffect(()=>{t==="lobby"?(v("Game Lobby"),b("/")):t==="active"&&(v("Game Board"),b("/"))},[t,v,b]),t==="loading"?_.jsx("div",{className:"p-8 text-center",children:"Loading Game..."}):r?o?t==="lobby"?_.jsx(AR,{matchId:n,players:c,isHost:u,onStart:i.start}):t==="active"||t==="completed"?_.jsx(rN,{matchId:n,gameState:r,myPlayer:o,deck:f,actions:i,isMyTurn:m}):_.jsxs("div",{children:["Unknown Status: ",t]}):_.jsxs("div",{className:"page-view app-card centered",children:[_.jsx("h2",{children:"Join Game"}),_.jsx("div",{className:"input-group",style:{width:"100%",maxWidth:"300px"},children:_.jsx("input",{type:"text",placeholder:"Enter your name",value:p,onChange:A=>g(A.target.value),onKeyDown:A=>A.key==="Enter"&&p.trim()&&i.join(p)})}),_.jsx(Me,{variant:"primary",disabled:!p.trim(),onClick:()=>i.join(p),style:{width:"100%",maxWidth:"300px"},children:"Join Lobby"})]}):_.jsx("div",{className:"p-8 text-center",children:"Game Not Found"})},oN=()=>{const[n,t]=T.useState(""),[i,r]=T.useState(""),[o,u]=T.useState(""),[c,f]=T.useState(!1),[m,p]=T.useState(!1),[g,v]=T.useState(null),b=os(),S=async E=>{E.preventDefault(),f(!0),v(null);try{if(m){const{error:A}=await at.auth.signUp({email:n,password:o,options:{data:{full_name:i}}});if(A)throw A;alert("Account created! You can now log in."),p(!1)}else{const{error:A}=await at.auth.signInWithPassword({email:n,password:o});if(A)throw A;b("/")}}catch(A){v(A.message)}finally{f(!1)}};return _.jsx("div",{className:"page-view centered",style:{minHeight:"80vh",justifyContent:"center"},children:_.jsxs("div",{className:"glass-panel",style:{padding:"2rem",width:"100%",maxWidth:"400px"},children:[_.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:m?"Create Account":"Welcome Back"}),g&&_.jsx("div",{style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid var(--danger)",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:g}),_.jsxs("form",{onSubmit:S,className:"input-group",style:{gap:"1.5rem"},children:[m&&_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Username"}),_.jsx(Wa,{type:"text",value:i,onChange:E=>r(E.target.value),required:!0,placeholder:"Choose a username"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Email"}),_.jsx(Wa,{type:"email",value:n,onChange:E=>t(E.target.value),required:!0,placeholder:"you@example.com"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Password"}),_.jsx(Wa,{type:"password",value:o,onChange:E=>u(E.target.value),required:!0,placeholder:""})]}),_.jsx(Me,{type:"submit",variant:"primary",fullWidth:!0,loading:c,children:m?"Sign Up":"Log In"})]}),_.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.9rem",color:"var(--text-dim)"},children:[m?"Already have an account?":"Don't have an account?",_.jsx("button",{onClick:()=>p(!m),style:{marginLeft:"0.5rem",color:"var(--primary)",fontWeight:"600",textDecoration:"underline"},children:m?"Log In":"Sign Up"})]})]})})},b0=({children:n})=>{const{user:t,loading:i}=cs();return i?null:t?n:_.jsx(vT,{to:"/auth"})};function uN(){return _.jsx(WA,{children:_.jsx(yx,{children:_.jsxs(wT,{children:[_.jsx(Ii,{path:"/",element:_.jsx(ZA,{})}),_.jsx(Ii,{path:"/auth",element:_.jsx(oN,{})}),_.jsx(Ii,{path:"/create",element:_.jsx(b0,{children:_.jsx(yR,{})})}),_.jsx(Ii,{path:"/collection",element:_.jsx(b0,{children:_.jsx(_R,{})})}),_.jsx(Ii,{path:"/game/:id",element:_.jsx(lN,{})})]})})})}_E.createRoot(document.getElementById("root")).render(_.jsx(Nr.StrictMode,{children:_.jsx(GT,{children:_.jsx(ex,{children:_.jsx(uN,{})})})}));export{hE as g};
