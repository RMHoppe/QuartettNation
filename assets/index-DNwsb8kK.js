(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function zb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vh={exports:{}},zr={};var ov;function qT(){if(ov)return zr;ov=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:a,key:c,ref:o!==void 0?o:null,props:u}}return zr.Fragment=t,zr.jsx=s,zr.jsxs=s,zr}var lv;function HT(){return lv||(lv=1,Vh.exports=qT()),Vh.exports}var S=HT(),Ih={exports:{}},ye={};var uv;function $T(){if(uv)return ye;uv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function R(j,V,F){this.props=j,this.context=V,this.refs=O,this.updater=F||E}R.prototype.isReactComponent={},R.prototype.setState=function(j,V){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,V,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=R.prototype;function C(j,V,F){this.props=j,this.context=V,this.refs=O,this.updater=F||E}var z=C.prototype=new N;z.constructor=C,T(z,R.prototype),z.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function k(j,V,F){var ne=F.ref;return{$$typeof:e,type:j,key:V,ref:ne!==void 0?ne:null,props:F}}function K(j,V){return k(j.type,V,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function te(j){var V={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return V[F]})}var pe=/\/+/g;function Re(j,V){return typeof j=="object"&&j!==null&&j.key!=null?te(""+j.key):V.toString(36)}function Le(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function(V){j.status==="pending"&&(j.status="fulfilled",j.value=V)},function(V){j.status==="pending"&&(j.status="rejected",j.reason=V)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function G(j,V,F,ne,se){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(le){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case e:case t:ve=!0;break;case g:return ve=j._init,G(ve(j._payload),V,F,ne,se)}}if(ve)return se=se(j),ve=ne===""?"."+Re(j,0):ne,$(se)?(F="",ve!=null&&(F=ve.replace(pe,"$&/")+"/"),G(se,V,F,"",function(ze){return ze})):se!=null&&(ee(se)&&(se=K(se,F+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(pe,"$&/")+"/")+ve)),V.push(se)),1;ve=0;var he=ne===""?".":ne+":";if($(j))for(var ce=0;ce<j.length;ce++)ne=j[ce],le=he+Re(ne,ce),ve+=G(ne,V,F,le,se);else if(ce=w(j),typeof ce=="function")for(j=ce.call(j),ce=0;!(ne=j.next()).done;)ne=ne.value,le=he+Re(ne,ce++),ve+=G(ne,V,F,le,se);else if(le==="object"){if(typeof j.then=="function")return G(Le(j),V,F,ne,se);throw V=String(j),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ve}function L(j,V,F){if(j==null)return j;var ne=[],se=0;return G(j,ne,"","",function(le){return V.call(F,le,se++)}),ne}function W(j){if(j._status===-1){var V=j._result;V=V(),V.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=V)}if(j._status===1)return j._result.default;throw j._result}var Z=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},re={map:L,forEach:function(j,V,F){L(j,function(){V.apply(this,arguments)},F)},count:function(j){var V=0;return L(j,function(){V++}),V},toArray:function(j){return L(j,function(V){return V})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ye.Activity=v,ye.Children=re,ye.Component=R,ye.Fragment=s,ye.Profiler=o,ye.PureComponent=C,ye.StrictMode=a,ye.Suspense=d,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ye.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},ye.cache=function(j){return function(){return j.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(j,V,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=T({},j.props),se=j.key;if(V!=null)for(le in V.key!==void 0&&(se=""+V.key),V)!A.call(V,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&V.ref===void 0||(ne[le]=V[le]);var le=arguments.length-2;if(le===1)ne.children=F;else if(1<le){for(var ve=Array(le),he=0;he<le;he++)ve[he]=arguments[he+2];ne.children=ve}return k(j.type,se,ne)},ye.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},ye.createElement=function(j,V,F){var ne,se={},le=null;if(V!=null)for(ne in V.key!==void 0&&(le=""+V.key),V)A.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(se[ne]=V[ne]);var ve=arguments.length-2;if(ve===1)se.children=F;else if(1<ve){for(var he=Array(ve),ce=0;ce<ve;ce++)he[ce]=arguments[ce+2];se.children=he}if(j&&j.defaultProps)for(ne in ve=j.defaultProps,ve)se[ne]===void 0&&(se[ne]=ve[ne]);return k(j,le,se)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(j){return{$$typeof:f,render:j}},ye.isValidElement=ee,ye.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:W}},ye.memo=function(j,V){return{$$typeof:p,type:j,compare:V===void 0?null:V}},ye.startTransition=function(j){var V=q.T,F={};q.T=F;try{var ne=j(),se=q.S;se!==null&&se(F,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Q,Z)}catch(le){Z(le)}finally{V!==null&&F.types!==null&&(V.types=F.types),q.T=V}},ye.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ye.use=function(j){return q.H.use(j)},ye.useActionState=function(j,V,F){return q.H.useActionState(j,V,F)},ye.useCallback=function(j,V){return q.H.useCallback(j,V)},ye.useContext=function(j){return q.H.useContext(j)},ye.useDebugValue=function(){},ye.useDeferredValue=function(j,V){return q.H.useDeferredValue(j,V)},ye.useEffect=function(j,V){return q.H.useEffect(j,V)},ye.useEffectEvent=function(j){return q.H.useEffectEvent(j)},ye.useId=function(){return q.H.useId()},ye.useImperativeHandle=function(j,V,F){return q.H.useImperativeHandle(j,V,F)},ye.useInsertionEffect=function(j,V){return q.H.useInsertionEffect(j,V)},ye.useLayoutEffect=function(j,V){return q.H.useLayoutEffect(j,V)},ye.useMemo=function(j,V){return q.H.useMemo(j,V)},ye.useOptimistic=function(j,V){return q.H.useOptimistic(j,V)},ye.useReducer=function(j,V,F){return q.H.useReducer(j,V,F)},ye.useRef=function(j){return q.H.useRef(j)},ye.useState=function(j){return q.H.useState(j)},ye.useSyncExternalStore=function(j,V,F){return q.H.useSyncExternalStore(j,V,F)},ye.useTransition=function(){return q.H.useTransition()},ye.version="19.2.3",ye}var cv;function fd(){return cv||(cv=1,Ih.exports=$T()),Ih.exports}var x=fd();const Ba=zb(x);var qh={exports:{}},Vr={},Hh={exports:{}},$h={};var hv;function GT(){return hv||(hv=1,(function(e){function t(G,L){var W=G.length;G.push(L);e:for(;0<W;){var Z=W-1>>>1,re=G[Z];if(0<o(re,L))G[Z]=L,G[W]=re,W=Z;else break e}}function s(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var L=G[0],W=G.pop();if(W!==L){G[0]=W;e:for(var Z=0,re=G.length,j=re>>>1;Z<j;){var V=2*(Z+1)-1,F=G[V],ne=V+1,se=G[ne];if(0>o(F,W))ne<re&&0>o(se,F)?(G[Z]=se,G[ne]=W,Z=ne):(G[Z]=F,G[V]=W,Z=V);else if(ne<re&&0>o(se,W))G[Z]=se,G[ne]=W,Z=ne;else break e}}return L}function o(G,L){var W=G.sortIndex-L.sortIndex;return W!==0?W:G.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var d=[],p=[],g=1,v=null,b=3,w=!1,E=!1,T=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function z(G){for(var L=s(p);L!==null;){if(L.callback===null)a(p);else if(L.startTime<=G)a(p),L.sortIndex=L.expirationTime,t(d,L);else break;L=s(p)}}function $(G){if(T=!1,z(G),!E)if(s(d)!==null)E=!0,Q||(Q=!0,te());else{var L=s(p);L!==null&&Le($,L.startTime-G)}}var Q=!1,q=-1,A=5,k=-1;function K(){return O?!0:!(e.unstable_now()-k<A)}function ee(){if(O=!1,Q){var G=e.unstable_now();k=G;var L=!0;try{e:{E=!1,T&&(T=!1,N(q),q=-1),w=!0;var W=b;try{t:{for(z(G),v=s(d);v!==null&&!(v.expirationTime>G&&K());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,b=v.priorityLevel;var re=Z(v.expirationTime<=G);if(G=e.unstable_now(),typeof re=="function"){v.callback=re,z(G),L=!0;break t}v===s(d)&&a(d),z(G)}else a(d);v=s(d)}if(v!==null)L=!0;else{var j=s(p);j!==null&&Le($,j.startTime-G),L=!1}}break e}finally{v=null,b=W,w=!1}L=void 0}}finally{L?te():Q=!1}}}var te;if(typeof C=="function")te=function(){C(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=ee,te=function(){Re.postMessage(null)}}else te=function(){R(ee,0)};function Le(G,L){q=R(function(){G(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var L=3;break;default:L=b}var W=b;b=L;try{return G()}finally{b=W}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(G,L){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=b;b=G;try{return L()}finally{b=W}},e.unstable_scheduleCallback=function(G,L,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,G={id:g++,callback:L,priorityLevel:G,startTime:W,expirationTime:re,sortIndex:-1},W>Z?(G.sortIndex=W,t(p,G),s(d)===null&&G===s(p)&&(T?(N(q),q=-1):T=!0,Le($,W-Z))):(G.sortIndex=re,t(d,G),E||w||(E=!0,Q||(Q=!0,te()))),G},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(G){var L=b;return function(){var W=b;b=L;try{return G.apply(this,arguments)}finally{b=W}}}})($h)),$h}var fv;function KT(){return fv||(fv=1,Hh.exports=GT()),Hh.exports}var Gh={exports:{}},Mt={};var dv;function FT(){if(dv)return Mt;dv=1;var e=fd();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Mt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(d,p,null,g)},Mt.flushSync=function(d){var p=c.T,g=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=p,a.p=g,a.d.f()}},Mt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(d,p))},Mt.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Mt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):g==="script"&&a.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);a.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(d)},Mt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin);a.d.L(d,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=f(p.as,p.crossOrigin);a.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(d)},Mt.requestFormReset=function(d){a.d.r(d)},Mt.unstable_batchedUpdates=function(d,p){return d(p)},Mt.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.3",Mt}var mv;function YT(){if(mv)return Gh.exports;mv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gh.exports=FT(),Gh.exports}var pv;function QT(){if(pv)return Vr;pv=1;var e=KT(),t=fd(),s=YT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,l=i;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return d(h),n;if(m===l)return d(h),i;m=m.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=m;else{for(var y=!1,_=h.child;_;){if(_===r){y=!0,r=h,l=m;break}if(_===l){y=!0,l=h,r=m;break}_=_.sibling}if(!y){for(_=m.child;_;){if(_===r){y=!0,r=m,l=h;break}if(_===l){y=!0,l=m,r=h;break}_=_.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case C:return n.displayName||"Context";case N:return(n._context.displayName||"Context")+".Consumer";case z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}var Le=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Z=[],re=-1;function j(n){return{current:n}}function V(n){0>re||(n.current=Z[re],Z[re]=null,re--)}function F(n,i){re++,Z[re]=n.current,n.current=i}var ne=j(null),se=j(null),le=j(null),ve=j(null);function he(n,i){switch(F(le,i),F(se,n),F(ne,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?jy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=jy(i),n=Dy(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}V(ne),F(ne,n)}function ce(){V(ne),V(se),V(le)}function ze(n){n.memoizedState!==null&&F(ve,n);var i=ne.current,r=Dy(i,n.type);i!==r&&(F(se,n),F(ne,r))}function be(n){se.current===n&&(V(ne),V(se)),ve.current===n&&(V(ve),Ur._currentValue=W)}var Ve,rt;function je(n){if(Ve===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Ve=i&&i[1]||"",rt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+n+rt}var De=!1;function _e(n,i){if(!n||De)return"";De=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var I=H}Reflect.construct(n,[],J)}else{try{J.call()}catch(H){I=H}n.call(J.prototype)}}else{try{throw Error()}catch(H){I=H}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&I&&typeof H.stack=="string")return[H.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),y=m[0],_=m[1];if(y&&_){var D=y.split(`
`),P=_.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===P.length)for(l=D.length-1,h=P.length-1;1<=l&&0<=h&&D[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==P[h]){var Y=`
`+D[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=h);break}}}finally{De=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?je(r):""}function wt(n,i){switch(n.tag){case 26:case 27:case 5:return je(n.type);case 16:return je("Lazy");case 13:return n.child!==i&&i!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return _e(n.type,!1);case 11:return _e(n.type.render,!1);case 1:return _e(n.type,!0);case 31:return je("Activity");default:return""}}function Oe(n){try{var i="",r=null;do i+=wt(n,r),r=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ie=Object.prototype.hasOwnProperty,Ze=e.unstable_scheduleCallback,Ln=e.unstable_cancelCallback,un=e.unstable_shouldYield,Xi=e.unstable_requestPaint,Ue=e.unstable_now,cn=e.unstable_getCurrentPriorityLevel,ot=e.unstable_ImmediatePriority,Et=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,Ka=e.unstable_LowPriority,Fa=e.unstable_IdlePriority,pi=e.log,hn=e.unstable_setDisableYieldValue,Cn=null,kt=null;function gi(n){if(typeof pi=="function"&&hn(n),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Cn,n)}catch{}}var Qt=Math.clz32?Math.clz32:RS,CS=Math.log,AS=Math.LN2;function RS(n){return n>>>=0,n===0?32:31-(CS(n)/AS|0)|0}var Co=256,Ao=262144,Ro=4194304;function Ji(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Oo(n,i,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var _=l&134217727;return _!==0?(l=_&~m,l!==0?h=Ji(l):(y&=_,y!==0?h=Ji(y):r||(r=_&~n,r!==0&&(h=Ji(r))))):(_=l&~m,_!==0?h=Ji(_):y!==0?h=Ji(y):r||(r=l&~n,r!==0&&(h=Ji(r)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:h}function Ya(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function OS(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(){var n=Ro;return Ro<<=1,(Ro&62914560)===0&&(Ro=4194304),n}function Ru(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function Qa(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jS(n,i,r,l,h,m){var y=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var _=n.entanglements,D=n.expirationTimes,P=n.hiddenUpdates;for(r=y&~r;0<r;){var Y=31-Qt(r),J=1<<Y;_[Y]=0,D[Y]=-1;var I=P[Y];if(I!==null)for(P[Y]=null,Y=0;Y<I.length;Y++){var H=I[Y];H!==null&&(H.lane&=-536870913)}r&=~J}l!==0&&fm(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(y&~i))}function fm(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Qt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|r&261930}function dm(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var l=31-Qt(r),h=1<<l;h&i|n[l]&i&&(n[l]|=i),r&=~h}}function mm(n,i){var r=i&-i;return r=(r&42)!==0?1:Ou(r),(r&(n.suspendedLanes|i))!==0?0:r}function Ou(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ju(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pm(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:ev(n.type))}function gm(n,i){var r=L.p;try{return L.p=n,i()}finally{L.p=r}}var yi=Math.random().toString(36).slice(2),Tt="__reactFiber$"+yi,Vt="__reactProps$"+yi,Ns="__reactContainer$"+yi,Du="__reactEvents$"+yi,DS="__reactListeners$"+yi,NS="__reactHandles$"+yi,ym="__reactResources$"+yi,Xa="__reactMarker$"+yi;function Nu(n){delete n[Tt],delete n[Vt],delete n[Du],delete n[DS],delete n[NS]}function ks(n){var i=n[Tt];if(i)return i;for(var r=n.parentNode;r;){if(i=r[Ns]||r[Tt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Py(n);n!==null;){if(r=n[Tt])return r;n=Py(n)}return i}n=r,r=n.parentNode}return null}function Ms(n){if(n=n[Tt]||n[Ns]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Ja(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Us(n){var i=n[ym];return i||(i=n[ym]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(n){n[Xa]=!0}var vm=new Set,bm={};function Wi(n,i){Ls(n,i),Ls(n+"Capture",i)}function Ls(n,i){for(bm[n]=i,n=0;n<i.length;n++)vm.add(i[n])}var kS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wm={},_m={};function MS(n){return Ie.call(_m,n)?!0:Ie.call(wm,n)?!1:kS.test(n)?_m[n]=!0:(wm[n]=!0,!1)}function jo(n,i,r){if(MS(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Do(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function Hn(n,i,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+l)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sm(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function US(n,i,r){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,m.call(this,y)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ku(n){if(!n._valueTracker){var i=Sm(n)?"checked":"value";n._valueTracker=US(n,i,""+n[i])}}function Em(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return n&&(l=Sm(n)?n.checked?"true":"false":n.value),n=l,n!==r?(i.setValue(n),!0):!1}function No(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var LS=/[\n"\\]/g;function dn(n){return n.replace(LS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mu(n,i,r,l,h,m,y,_){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),i!=null?y==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+fn(i)):n.value!==""+fn(i)&&(n.value=""+fn(i)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),i!=null?Uu(n,y,fn(i)):r!=null?Uu(n,y,fn(r)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+fn(_):n.removeAttribute("name")}function Tm(n,i,r,l,h,m,y,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ku(n);return}r=r!=null?""+fn(r):"",i=i!=null?""+fn(i):r,_||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=_?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),ku(n)}function Uu(n,i,r){i==="number"&&No(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Bs(n,i,r,l){if(n=n.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=i.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&l&&(n[r].defaultSelected=!0)}else{for(r=""+fn(r),i=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function xm(n,i,r){if(i!=null&&(i=""+fn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+fn(r):""}function Cm(n,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(Le(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=fn(i),n.defaultValue=r,l=n.textContent,l===r&&l!==""&&l!==null&&(n.value=l),ku(n)}function Ps(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var BS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Am(n,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,r):typeof r!="number"||r===0||BS.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Rm(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&Am(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Am(n,m,i[m])}function Lu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(n){return zS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function $n(){}var Bu=null;function Pu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zs=null,Vs=null;function Om(n){var i=Ms(n);if(i&&(n=i.stateNode)){var r=n[Vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Mu(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==n&&l.form===n.form){var h=l[Vt]||null;if(!h)throw Error(a(90));Mu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===n.form&&Em(l)}break e;case"textarea":xm(n,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Bs(n,!!r.multiple,i,!1)}}}var zu=!1;function jm(n,i,r){if(zu)return n(i,r);zu=!0;try{var l=n(i);return l}finally{if(zu=!1,(zs!==null||Vs!==null)&&(wl(),zs&&(i=zs,n=Vs,Vs=zs=null,Om(i),n)))for(i=0;i<n.length;i++)Om(n[i])}}function Wa(n,i){var r=n.stateNode;if(r===null)return null;var l=r[Vt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=!1;if(Gn)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Vu=!1}var vi=null,Iu=null,Mo=null;function Dm(){if(Mo)return Mo;var n,i=Iu,r=i.length,l,h="value"in vi?vi.value:vi.textContent,m=h.length;for(n=0;n<r&&i[n]===h[n];n++);var y=r-n;for(l=1;l<=y&&i[r-l]===h[m-l];l++);return Mo=h.slice(n,1<l?1-l:void 0)}function Uo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Lo(){return!0}function Nm(){return!1}function It(n){function i(r,l,h,m,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(r=n[_],this[_]=r?r(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lo:Nm,this.isPropagationStopped=Nm,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=It(Zi),er=v({},Zi,{view:0,detail:0}),VS=It(er),qu,Hu,tr,Po=v({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tr&&(tr&&n.type==="mousemove"?(qu=n.screenX-tr.screenX,Hu=n.screenY-tr.screenY):Hu=qu=0,tr=n),qu)},movementY:function(n){return"movementY"in n?n.movementY:Hu}}),km=It(Po),IS=v({},Po,{dataTransfer:0}),qS=It(IS),HS=v({},er,{relatedTarget:0}),$u=It(HS),$S=v({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),GS=It($S),KS=v({},Zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),FS=It(KS),YS=v({},Zi,{data:0}),Mm=It(YS),QS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=JS[n])?!!i[n]:!1}function Gu(){return WS}var ZS=v({},er,{key:function(n){if(n.key){var i=QS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Uo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?XS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(n){return n.type==="keypress"?Uo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eE=It(ZS),tE=v({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=It(tE),nE=v({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),iE=It(nE),sE=v({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),aE=It(sE),rE=v({},Po,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=It(rE),lE=v({},Zi,{newState:0,oldState:0}),uE=It(lE),cE=[9,13,27,32],Ku=Gn&&"CompositionEvent"in window,nr=null;Gn&&"documentMode"in document&&(nr=document.documentMode);var hE=Gn&&"TextEvent"in window&&!nr,Lm=Gn&&(!Ku||nr&&8<nr&&11>=nr),Bm=" ",Pm=!1;function zm(n,i){switch(n){case"keyup":return cE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Is=!1;function fE(n,i){switch(n){case"compositionend":return Vm(i);case"keypress":return i.which!==32?null:(Pm=!0,Bm);case"textInput":return n=i.data,n===Bm&&Pm?null:n;default:return null}}function dE(n,i){if(Is)return n==="compositionend"||!Ku&&zm(n,i)?(n=Dm(),Mo=Iu=vi=null,Is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Lm&&i.locale!=="ko"?null:i.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!mE[n.type]:i==="textarea"}function qm(n,i,r,l){zs?Vs?Vs.push(l):Vs=[l]:zs=l,i=Al(i,"onChange"),0<i.length&&(r=new Bo("onChange","change",null,r,l),n.push({event:r,listeners:i}))}var ir=null,sr=null;function pE(n){Ty(n,0)}function zo(n){var i=Ja(n);if(Em(i))return n}function Hm(n,i){if(n==="change")return i}var $m=!1;if(Gn){var Fu;if(Gn){var Yu="oninput"in document;if(!Yu){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Yu=typeof Gm.oninput=="function"}Fu=Yu}else Fu=!1;$m=Fu&&(!document.documentMode||9<document.documentMode)}function Km(){ir&&(ir.detachEvent("onpropertychange",Fm),sr=ir=null)}function Fm(n){if(n.propertyName==="value"&&zo(sr)){var i=[];qm(i,sr,n,Pu(n)),jm(pE,i)}}function gE(n,i,r){n==="focusin"?(Km(),ir=i,sr=r,ir.attachEvent("onpropertychange",Fm)):n==="focusout"&&Km()}function yE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zo(sr)}function vE(n,i){if(n==="click")return zo(i)}function bE(n,i){if(n==="input"||n==="change")return zo(i)}function wE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Xt=typeof Object.is=="function"?Object.is:wE;function ar(n,i){if(Xt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ie.call(i,h)||!Xt(n[h],i[h]))return!1}return!0}function Ym(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qm(n,i){var r=Ym(n);n=0;for(var l;r;){if(r.nodeType===3){if(l=n+r.textContent.length,n<=i&&l>=i)return{node:r,offset:i-n};n=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ym(r)}}function Xm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Xm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Jm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=No(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=No(n.document)}return i}function Qu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var _E=Gn&&"documentMode"in document&&11>=document.documentMode,qs=null,Xu=null,rr=null,Ju=!1;function Wm(n,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ju||qs==null||qs!==No(l)||(l=qs,"selectionStart"in l&&Qu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rr&&ar(rr,l)||(rr=l,l=Al(Xu,"onSelect"),0<l.length&&(i=new Bo("onSelect","select",null,i,r),n.push({event:i,listeners:l}),i.target=qs)))}function es(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Hs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Wu={},Zm={};Gn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function ts(n){if(Wu[n])return Wu[n];if(!Hs[n])return n;var i=Hs[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in Zm)return Wu[n]=i[r];return n}var ep=ts("animationend"),tp=ts("animationiteration"),np=ts("animationstart"),SE=ts("transitionrun"),EE=ts("transitionstart"),TE=ts("transitioncancel"),ip=ts("transitionend"),sp=new Map,Zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zu.push("scrollEnd");function An(n,i){sp.set(n,i),Wi(i,[n])}var Vo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},mn=[],$s=0,ec=0;function Io(){for(var n=$s,i=ec=$s=0;i<n;){var r=mn[i];mn[i++]=null;var l=mn[i];mn[i++]=null;var h=mn[i];mn[i++]=null;var m=mn[i];if(mn[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}m!==0&&ap(r,h,m)}}function qo(n,i,r,l){mn[$s++]=n,mn[$s++]=i,mn[$s++]=r,mn[$s++]=l,ec|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function tc(n,i,r,l){return qo(n,i,r,l),Ho(n)}function ns(n,i){return qo(n,null,null,i),Ho(n)}function ap(n,i,r){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r);for(var h=!1,m=n.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-Qt(r),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=r|536870912),m):null}function Ho(n){if(50<Rr)throw Rr=0,ch=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Gs={};function xE(n,i,r,l){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,i,r,l){return new xE(n,i,r,l)}function nc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kn(n,i){var r=n.alternate;return r===null?(r=Jt(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function rp(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function $o(n,i,r,l,h,m){var y=0;if(l=n,typeof n=="function")nc(n)&&(y=1);else if(typeof n=="string")y=jT(n,r,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=Jt(31,r,i,h),n.elementType=k,n.lanes=m,n;case T:return is(r.children,h,m,i);case O:y=8,h|=24;break;case R:return n=Jt(12,r,i,h|2),n.elementType=R,n.lanes=m,n;case $:return n=Jt(13,r,i,h),n.elementType=$,n.lanes=m,n;case Q:return n=Jt(19,r,i,h),n.elementType=Q,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:y=10;break e;case N:y=9;break e;case z:y=11;break e;case q:y=14;break e;case A:y=16,l=null;break e}y=29,r=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Jt(y,r,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function is(n,i,r,l){return n=Jt(7,n,l,i),n.lanes=r,n}function ic(n,i,r){return n=Jt(6,n,null,i),n.lanes=r,n}function op(n){var i=Jt(18,null,null,0);return i.stateNode=n,i}function sc(n,i,r){return i=Jt(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var lp=new WeakMap;function pn(n,i){if(typeof n=="object"&&n!==null){var r=lp.get(n);return r!==void 0?r:(i={value:n,source:i,stack:Oe(i)},lp.set(n,i),i)}return{value:n,source:i,stack:Oe(i)}}var Ks=[],Fs=0,Go=null,or=0,gn=[],yn=0,bi=null,Bn=1,Pn="";function Fn(n,i){Ks[Fs++]=or,Ks[Fs++]=Go,Go=n,or=i}function up(n,i,r){gn[yn++]=Bn,gn[yn++]=Pn,gn[yn++]=bi,bi=n;var l=Bn;n=Pn;var h=32-Qt(l)-1;l&=~(1<<h),r+=1;var m=32-Qt(i)+h;if(30<m){var y=h-h%5;m=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Bn=1<<32-Qt(i)+h|r<<h|l,Pn=m+n}else Bn=1<<m|r<<h|l,Pn=n}function ac(n){n.return!==null&&(Fn(n,1),up(n,1,0))}function rc(n){for(;n===Go;)Go=Ks[--Fs],Ks[Fs]=null,or=Ks[--Fs],Ks[Fs]=null;for(;n===bi;)bi=gn[--yn],gn[yn]=null,Pn=gn[--yn],gn[yn]=null,Bn=gn[--yn],gn[yn]=null}function cp(n,i){gn[yn++]=Bn,gn[yn++]=Pn,gn[yn++]=bi,Bn=i.id,Pn=i.overflow,bi=n}var xt=null,Fe=null,Ae=!1,wi=null,vn=!1,oc=Error(a(519));function _i(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lr(pn(i,n)),oc}function hp(n){var i=n.stateNode,r=n.type,l=n.memoizedProps;switch(i[Tt]=n,i[Vt]=l,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<jr.length;r++)Te(jr[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),Tm(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),Cm(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||Ry(i.textContent,r)?(l.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),l.onScroll!=null&&Te("scroll",i),l.onScrollEnd!=null&&Te("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||_i(n,!0)}function fp(n){for(xt=n.return;xt;)switch(xt.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:xt=xt.return}}function Ys(n){if(n!==xt)return!1;if(!Ae)return fp(n),Ae=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||xh(n.type,n.memoizedProps)),r=!r),r&&Fe&&_i(n),fp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Fe=By(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Fe=By(n)}else i===27?(i=Fe,Ui(n.type)?(n=jh,jh=null,Fe=n):Fe=i):Fe=xt?wn(n.stateNode.nextSibling):null;return!0}function ss(){Fe=xt=null,Ae=!1}function lc(){var n=wi;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),wi=null),n}function lr(n){wi===null?wi=[n]:wi.push(n)}var uc=j(null),as=null,Yn=null;function Si(n,i,r){F(uc,i._currentValue),i._currentValue=r}function Qn(n){n._currentValue=uc.current,V(uc)}function cc(n,i,r){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===r)break;n=n.return}}function hc(n,i,r,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var y=h.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=h;for(var D=0;D<i.length;D++)if(_.context===i[D]){m.lanes|=r,_=m.alternate,_!==null&&(_.lanes|=r),cc(m.return,r,n),l||(y=null);break e}m=_.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,m=y.alternate,m!==null&&(m.lanes|=r),cc(y,r,n),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===n){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Qs(n,i,r,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var _=h.type;Xt(h.pendingProps.value,y.value)||(n!==null?n.push(_):n=[_])}}else if(h===ve.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ur):n=[Ur])}h=h.return}n!==null&&hc(i,n,r,l),i.flags|=262144}function Ko(n){for(n=n.firstContext;n!==null;){if(!Xt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function rs(n){as=n,Yn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return dp(as,n)}function Fo(n,i){return as===null&&rs(n),dp(n,i)}function dp(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Yn===null){if(n===null)throw Error(a(308));Yn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yn=Yn.next=i;return r}var CE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},AE=e.unstable_scheduleCallback,RE=e.unstable_NormalPriority,ct={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new CE,data:new Map,refCount:0}}function ur(n){n.refCount--,n.refCount===0&&AE(RE,function(){n.controller.abort()})}var cr=null,dc=0,Xs=0,Js=null;function OE(n,i){if(cr===null){var r=cr=[];dc=0,Xs=gh(),Js={status:"pending",value:void 0,then:function(l){r.push(l)}}}return dc++,i.then(mp,mp),i}function mp(){if(--dc===0&&cr!==null){Js!==null&&(Js.status="fulfilled");var n=cr;cr=null,Xs=0,Js=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function jE(n,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var pp=G.S;G.S=function(n,i){Wg=Ue(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OE(n,i),pp!==null&&pp(n,i)};var os=j(null);function mc(){var n=os.current;return n!==null?n:Ge.pooledCache}function Yo(n,i){i===null?F(os,os.current):F(os,i.pool)}function gp(){var n=mc();return n===null?null:{parent:ct._currentValue,pool:n}}var Ws=Error(a(460)),pc=Error(a(474)),Qo=Error(a(542)),Xo={then:function(){}};function yp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vp(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then($n,$n),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,wp(n),n;default:if(typeof i.status=="string")i.then($n,$n);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,wp(n),n}throw us=i,Ws}}function ls(n){try{var i=n._init;return i(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(us=r,Ws):r}}var us=null;function bp(){if(us===null)throw Error(a(459));var n=us;return us=null,n}function wp(n){if(n===Ws||n===Qo)throw Error(a(483))}var Zs=null,hr=0;function Jo(n){var i=hr;return hr+=1,Zs===null&&(Zs=[]),vp(Zs,n,i)}function fr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Wo(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function _p(n){function i(U,M){if(n){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function r(U,M){if(!n)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Kn(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function _(U,M,B,X){return M===null||M.tag!==6?(M=ic(B,U.mode,X),M.return=U,M):(M=h(M,B),M.return=U,M)}function D(U,M,B,X){var ue=B.type;return ue===T?Y(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===A&&ls(ue)===M.type)?(M=h(M,B.props),fr(M,B),M.return=U,M):(M=$o(B.type,B.key,B.props,null,U.mode,X),fr(M,B),M.return=U,M)}function P(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=sc(B,U.mode,X),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function Y(U,M,B,X,ue){return M===null||M.tag!==7?(M=is(B,U.mode,X,ue),M.return=U,M):(M=h(M,B),M.return=U,M)}function J(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ic(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return B=$o(M.type,M.key,M.props,null,U.mode,B),fr(B,M),B.return=U,B;case E:return M=sc(M,U.mode,B),M.return=U,M;case A:return M=ls(M),J(U,M,B)}if(Le(M)||te(M))return M=is(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return J(U,Jo(M),B);if(M.$$typeof===C)return J(U,Fo(U,M),B);Wo(U,M)}return null}function I(U,M,B,X){var ue=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:_(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ue?D(U,M,B,X):null;case E:return B.key===ue?P(U,M,B,X):null;case A:return B=ls(B),I(U,M,B,X)}if(Le(B)||te(B))return ue!==null?null:Y(U,M,B,X,null);if(typeof B.then=="function")return I(U,M,Jo(B),X);if(B.$$typeof===C)return I(U,M,Fo(U,B),X);Wo(U,B)}return null}function H(U,M,B,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,_(M,U,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return U=U.get(X.key===null?B:X.key)||null,D(M,U,X,ue);case E:return U=U.get(X.key===null?B:X.key)||null,P(M,U,X,ue);case A:return X=ls(X),H(U,M,B,X,ue)}if(Le(X)||te(X))return U=U.get(B)||null,Y(M,U,X,ue,null);if(typeof X.then=="function")return H(U,M,B,Jo(X),ue);if(X.$$typeof===C)return H(U,M,B,Fo(M,X),ue);Wo(M,X)}return null}function ie(U,M,B,X){for(var ue=null,Ne=null,ae=M,Se=M=0,Ce=null;ae!==null&&Se<B.length;Se++){ae.index>Se?(Ce=ae,ae=null):Ce=ae.sibling;var ke=I(U,ae,B[Se],X);if(ke===null){ae===null&&(ae=Ce);break}n&&ae&&ke.alternate===null&&i(U,ae),M=m(ke,M,Se),Ne===null?ue=ke:Ne.sibling=ke,Ne=ke,ae=Ce}if(Se===B.length)return r(U,ae),Ae&&Fn(U,Se),ue;if(ae===null){for(;Se<B.length;Se++)ae=J(U,B[Se],X),ae!==null&&(M=m(ae,M,Se),Ne===null?ue=ae:Ne.sibling=ae,Ne=ae);return Ae&&Fn(U,Se),ue}for(ae=l(ae);Se<B.length;Se++)Ce=H(ae,U,Se,B[Se],X),Ce!==null&&(n&&Ce.alternate!==null&&ae.delete(Ce.key===null?Se:Ce.key),M=m(Ce,M,Se),Ne===null?ue=Ce:Ne.sibling=Ce,Ne=Ce);return n&&ae.forEach(function(Vi){return i(U,Vi)}),Ae&&Fn(U,Se),ue}function fe(U,M,B,X){if(B==null)throw Error(a(151));for(var ue=null,Ne=null,ae=M,Se=M=0,Ce=null,ke=B.next();ae!==null&&!ke.done;Se++,ke=B.next()){ae.index>Se?(Ce=ae,ae=null):Ce=ae.sibling;var Vi=I(U,ae,ke.value,X);if(Vi===null){ae===null&&(ae=Ce);break}n&&ae&&Vi.alternate===null&&i(U,ae),M=m(Vi,M,Se),Ne===null?ue=Vi:Ne.sibling=Vi,Ne=Vi,ae=Ce}if(ke.done)return r(U,ae),Ae&&Fn(U,Se),ue;if(ae===null){for(;!ke.done;Se++,ke=B.next())ke=J(U,ke.value,X),ke!==null&&(M=m(ke,M,Se),Ne===null?ue=ke:Ne.sibling=ke,Ne=ke);return Ae&&Fn(U,Se),ue}for(ae=l(ae);!ke.done;Se++,ke=B.next())ke=H(ae,U,Se,ke.value,X),ke!==null&&(n&&ke.alternate!==null&&ae.delete(ke.key===null?Se:ke.key),M=m(ke,M,Se),Ne===null?ue=ke:Ne.sibling=ke,Ne=ke);return n&&ae.forEach(function(IT){return i(U,IT)}),Ae&&Fn(U,Se),ue}function $e(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var ue=B.key;M!==null;){if(M.key===ue){if(ue=B.type,ue===T){if(M.tag===7){r(U,M.sibling),X=h(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===A&&ls(ue)===M.type){r(U,M.sibling),X=h(M,B.props),fr(X,B),X.return=U,U=X;break e}r(U,M);break}else i(U,M);M=M.sibling}B.type===T?(X=is(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=$o(B.type,B.key,B.props,null,U.mode,X),fr(X,B),X.return=U,U=X)}return y(U);case E:e:{for(ue=B.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(U,M.sibling),X=h(M,B.children||[]),X.return=U,U=X;break e}else{r(U,M);break}else i(U,M);M=M.sibling}X=sc(B,U.mode,X),X.return=U,U=X}return y(U);case A:return B=ls(B),$e(U,M,B,X)}if(Le(B))return ie(U,M,B,X);if(te(B)){if(ue=te(B),typeof ue!="function")throw Error(a(150));return B=ue.call(B),fe(U,M,B,X)}if(typeof B.then=="function")return $e(U,M,Jo(B),X);if(B.$$typeof===C)return $e(U,M,Fo(U,B),X);Wo(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(U,M.sibling),X=h(M,B),X.return=U,U=X):(r(U,M),X=ic(B,U.mode,X),X.return=U,U=X),y(U)):r(U,M)}return function(U,M,B,X){try{hr=0;var ue=$e(U,M,B,X);return Zs=null,ue}catch(ae){if(ae===Ws||ae===Qo)throw ae;var Ne=Jt(29,ae,null,U.mode);return Ne.lanes=X,Ne.return=U,Ne}}}var cs=_p(!0),Sp=_p(!1),Ei=!1;function gc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xi(n,i,r){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ho(n),ap(n,null,r),i}return qo(n,l,i,r),Ho(n)}function dr(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,dm(n,r)}}function vc(n,i){var r=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=y:m=m.next=y,r=r.next}while(r!==null);m===null?h=m=i:m=m.next=i}else h=m=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var bc=!1;function mr(){if(bc){var n=Js;if(n!==null)throw n}}function pr(n,i,r,l){bc=!1;var h=n.updateQueue;Ei=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var D=_,P=D.next;D.next=null,y===null?m=P:y.next=P,y=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,_=Y.lastBaseUpdate,_!==y&&(_===null?Y.firstBaseUpdate=P:_.next=P,Y.lastBaseUpdate=D))}if(m!==null){var J=h.baseState;y=0,Y=P=D=null,_=m;do{var I=_.lane&-536870913,H=I!==_.lane;if(H?(xe&I)===I:(l&I)===I){I!==0&&I===Xs&&(bc=!0),Y!==null&&(Y=Y.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=n,fe=_;I=i;var $e=r;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){J=ie.call($e,J,I);break e}J=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,I=typeof ie=="function"?ie.call($e,J,I):ie,I==null)break e;J=v({},J,I);break e;case 2:Ei=!0}}I=_.callback,I!==null&&(n.flags|=64,H&&(n.flags|=8192),H=h.callbacks,H===null?h.callbacks=[I]:H.push(I))}else H={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Y===null?(P=Y=H,D=J):Y=Y.next=H,y|=I;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;H=_,_=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(D=J),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),ji|=y,n.lanes=y,n.memoizedState=J}}function Ep(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Tp(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Ep(r[n],i)}var ea=j(null),Zo=j(0);function xp(n,i){n=si,F(Zo,n),F(ea,i),si=n|i.baseLanes}function wc(){F(Zo,si),F(ea,ea.current)}function _c(){si=Zo.current,V(ea),V(Zo)}var Wt=j(null),bn=null;function Ci(n){var i=n.alternate;F(lt,lt.current&1),F(Wt,n),bn===null&&(i===null||ea.current!==null||i.memoizedState!==null)&&(bn=n)}function Sc(n){F(lt,lt.current),F(Wt,n),bn===null&&(bn=n)}function Cp(n){n.tag===22?(F(lt,lt.current),F(Wt,n),bn===null&&(bn=n)):Ai()}function Ai(){F(lt,lt.current),F(Wt,Wt.current)}function Zt(n){V(Wt),bn===n&&(bn=null),V(lt)}var lt=j(0);function el(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rh(r)||Oh(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xn=0,we=null,qe=null,ht=null,tl=!1,ta=!1,hs=!1,nl=0,gr=0,na=null,DE=0;function nt(){throw Error(a(321))}function Ec(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!Xt(n[r],i[r]))return!1;return!0}function Tc(n,i,r,l,h,m){return Xn=m,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?ug:zc,hs=!1,m=r(l,h),hs=!1,ta&&(m=Rp(i,r,l,h)),Ap(n),m}function Ap(n){G.H=br;var i=qe!==null&&qe.next!==null;if(Xn=0,ht=qe=we=null,tl=!1,gr=0,na=null,i)throw Error(a(300));n===null||ft||(n=n.dependencies,n!==null&&Ko(n)&&(ft=!0))}function Rp(n,i,r,l){we=n;var h=0;do{if(ta&&(na=null),gr=0,ta=!1,25<=h)throw Error(a(301));if(h+=1,ht=qe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=cg,m=i(r,l)}while(ta);return m}function NE(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?yr(i):i,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(we.flags|=1024),i}function xc(){var n=nl!==0;return nl=0,n}function Cc(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Ac(n){if(tl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tl=!1}Xn=0,ht=qe=we=null,ta=!1,gr=nl=0,na=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=n:ht=ht.next=n,ht}function ut(){if(qe===null){var n=we.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var i=ht===null?we.memoizedState:ht.next;if(i!==null)ht=i,qe=n;else{if(n===null)throw we.alternate===null?Error(a(467)):Error(a(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ht===null?we.memoizedState=ht=n:ht=ht.next=n}return ht}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(n){var i=gr;return gr+=1,na===null&&(na=[]),n=vp(na,n,i),i=we,(ht===null?i.memoizedState:ht.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ug:zc),n}function sl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yr(n);if(n.$$typeof===C)return Ct(n)}throw Error(a(438,String(n)))}function Rc(n){var i=null,r=we.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=il(),we.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),l=0;l<n;l++)r[l]=K;return i.index++,r}function Jn(n,i){return typeof i=="function"?i(n):i}function al(n){var i=ut();return Oc(i,qe,n)}function Oc(n,i,r){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var _=y=null,D=null,P=i,Y=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(xe&J)===J:(Xn&J)===J){var I=P.revertLane;if(I===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Xs&&(Y=!0);else if((Xn&I)===I){P=P.next,I===Xs&&(Y=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(_=D=J,y=m):D=D.next=J,we.lanes|=I,ji|=I;J=P.action,hs&&r(m,J),m=P.hasEagerState?P.eagerState:r(m,J)}else I={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(_=D=I,y=m):D=D.next=I,we.lanes|=J,ji|=J;P=P.next}while(P!==null&&P!==i);if(D===null?y=m:D.next=_,!Xt(m,n.memoizedState)&&(ft=!0,Y&&(r=Js,r!==null)))throw r;n.memoizedState=m,n.baseState=y,n.baseQueue=D,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jc(n){var i=ut(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var l=r.dispatch,h=r.pending,m=i.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do m=n(m,y.action),y=y.next;while(y!==h);Xt(m,i.memoizedState)||(ft=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,l]}function Op(n,i,r){var l=we,h=ut(),m=Ae;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var y=!Xt((qe||h).memoizedState,r);if(y&&(h.memoizedState=r,ft=!0),h=h.queue,kc(Np.bind(null,l,h,n),[n]),h.getSnapshot!==i||y||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,ia(9,{destroy:void 0},Dp.bind(null,l,h,r,i),null),Ge===null)throw Error(a(349));m||(Xn&127)!==0||jp(l,i,r)}return r}function jp(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=we.updateQueue,i===null?(i=il(),we.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Dp(n,i,r,l){i.value=r,i.getSnapshot=l,kp(i)&&Mp(n)}function Np(n,i,r){return r(function(){kp(i)&&Mp(n)})}function kp(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!Xt(n,r)}catch{return!0}}function Mp(n){var i=ns(n,2);i!==null&&Kt(i,n,2)}function Dc(n){var i=Bt();if(typeof n=="function"){var r=n;if(n=r(),hs){gi(!0);try{r()}finally{gi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},i}function Up(n,i,r,l){return n.baseState=r,Oc(n,qe,typeof l=="function"?l:Jn)}function kE(n,i,r,l,h){if(ll(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};G.T!==null?r(!0):m.isTransition=!1,l(m),r=i.pending,r===null?(m.next=i.pending=m,Lp(i,m)):(m.next=r.next,i.pending=r.next=m)}}function Lp(n,i){var r=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=G.T,y={};G.T=y;try{var _=r(h,l),D=G.S;D!==null&&D(y,_),Bp(n,i,_)}catch(P){Nc(n,i,P)}finally{m!==null&&y.types!==null&&(m.types=y.types),G.T=m}}else try{m=r(h,l),Bp(n,i,m)}catch(P){Nc(n,i,P)}}function Bp(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Pp(n,i,l)},function(l){return Nc(n,i,l)}):Pp(n,i,r)}function Pp(n,i,r){i.status="fulfilled",i.value=r,zp(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Lp(n,r)))}function Nc(n,i,r){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,zp(i),i=i.next;while(i!==l)}n.action=null}function zp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Vp(n,i){return i}function Ip(n,i){if(Ae){var r=Ge.formState;if(r!==null){e:{var l=we;if(Ae){if(Fe){t:{for(var h=Fe,m=vn;h.nodeType!==8;){if(!m){h=null;break t}if(h=wn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Fe=wn(h.nextSibling),l=h.data==="F!";break e}}_i(l)}l=!1}l&&(i=r[0])}}return r=Bt(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:i},r.queue=l,r=rg.bind(null,we,l),l.dispatch=r,l=Dc(!1),m=Pc.bind(null,we,!1,l.queue),l=Bt(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,r=kE.bind(null,we,h,m,r),h.dispatch=r,l.memoizedState=n,[i,r,!1]}function qp(n){var i=ut();return Hp(i,qe,n)}function Hp(n,i,r){if(i=Oc(n,i,Vp)[0],n=al(Jn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yr(i)}catch(y){throw y===Ws?Qo:y}else l=i;i=ut();var h=i.queue,m=h.dispatch;return r!==i.memoizedState&&(we.flags|=2048,ia(9,{destroy:void 0},ME.bind(null,h,r),null)),[l,m,n]}function ME(n,i){n.action=i}function $p(n){var i=ut(),r=qe;if(r!==null)return Hp(i,r,n);ut(),i=i.memoizedState,r=ut();var l=r.queue.dispatch;return r.memoizedState=n,[i,l,!1]}function ia(n,i,r,l){return n={tag:n,create:r,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=il(),we.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(l=r.next,r.next=n,n.next=l,i.lastEffect=n),n}function Gp(){return ut().memoizedState}function rl(n,i,r,l){var h=Bt();we.flags|=n,h.memoizedState=ia(1|i,{destroy:void 0},r,l===void 0?null:l)}function ol(n,i,r,l){var h=ut();l=l===void 0?null:l;var m=h.memoizedState.inst;qe!==null&&l!==null&&Ec(l,qe.memoizedState.deps)?h.memoizedState=ia(i,m,r,l):(we.flags|=n,h.memoizedState=ia(1|i,m,r,l))}function Kp(n,i){rl(8390656,8,n,i)}function kc(n,i){ol(2048,8,n,i)}function UE(n){we.flags|=4;var i=we.updateQueue;if(i===null)i=il(),we.updateQueue=i,i.events=[n];else{var r=i.events;r===null?i.events=[n]:r.push(n)}}function Fp(n){var i=ut().memoizedState;return UE({ref:i,nextImpl:n}),function(){if((Me&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Yp(n,i){return ol(4,2,n,i)}function Qp(n,i){return ol(4,4,n,i)}function Xp(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Jp(n,i,r){r=r!=null?r.concat([n]):null,ol(4,4,Xp.bind(null,i,n),r)}function Mc(){}function Wp(n,i){var r=ut();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ec(i,l[1])?l[0]:(r.memoizedState=[n,i],n)}function Zp(n,i){var r=ut();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ec(i,l[1]))return l[0];if(l=n(),hs){gi(!0);try{n()}finally{gi(!1)}}return r.memoizedState=[l,i],l}function Uc(n,i,r){return r===void 0||(Xn&1073741824)!==0&&(xe&261930)===0?n.memoizedState=i:(n.memoizedState=r,n=ey(),we.lanes|=n,ji|=n,r)}function eg(n,i,r,l){return Xt(r,i)?r:ea.current!==null?(n=Uc(n,r,l),Xt(n,i)||(ft=!0),n):(Xn&42)===0||(Xn&1073741824)!==0&&(xe&261930)===0?(ft=!0,n.memoizedState=r):(n=ey(),we.lanes|=n,ji|=n,i)}function tg(n,i,r,l,h){var m=L.p;L.p=m!==0&&8>m?m:8;var y=G.T,_={};G.T=_,Pc(n,!1,i,r);try{var D=h(),P=G.S;if(P!==null&&P(_,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=jE(D,l);vr(n,i,Y,nn(n))}else vr(n,i,l,nn(n))}catch(J){vr(n,i,{then:function(){},status:"rejected",reason:J},nn())}finally{L.p=m,y!==null&&_.types!==null&&(y.types=_.types),G.T=y}}function LE(){}function Lc(n,i,r,l){if(n.tag!==5)throw Error(a(476));var h=ng(n).queue;tg(n,h,i,W,r===null?LE:function(){return ig(n),r(l)})}function ng(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:W},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ig(n){var i=ng(n);i.next===null&&(i=n.alternate.memoizedState),vr(n,i.next.queue,{},nn())}function Bc(){return Ct(Ur)}function sg(){return ut().memoizedState}function ag(){return ut().memoizedState}function BE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=nn();n=Ti(r);var l=xi(i,n,r);l!==null&&(Kt(l,i,r),dr(l,i,r)),i={cache:fc()},n.payload=i;return}i=i.return}}function PE(n,i,r){var l=nn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ll(n)?og(i,r):(r=tc(n,i,r,l),r!==null&&(Kt(r,n,l),lg(r,i,l)))}function rg(n,i,r){var l=nn();vr(n,i,r,l)}function vr(n,i,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ll(n))og(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var y=i.lastRenderedState,_=m(y,r);if(h.hasEagerState=!0,h.eagerState=_,Xt(_,y))return qo(n,i,h,0),Ge===null&&Io(),!1}catch{}if(r=tc(n,i,h,l),r!==null)return Kt(r,n,l),lg(r,i,l),!0}return!1}function Pc(n,i,r,l){if(l={lane:2,revertLane:gh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ll(n)){if(i)throw Error(a(479))}else i=tc(n,r,l,2),i!==null&&Kt(i,n,2)}function ll(n){var i=n.alternate;return n===we||i!==null&&i===we}function og(n,i){ta=tl=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function lg(n,i,r){if((r&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,dm(n,r)}}var br={readContext:Ct,use:sl,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};br.useEffectEvent=nt;var ug={readContext:Ct,use:sl,useCallback:function(n,i){return Bt().memoizedState=[n,i===void 0?null:i],n},useContext:Ct,useEffect:Kp,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,rl(4194308,4,Xp.bind(null,i,n),r)},useLayoutEffect:function(n,i){return rl(4194308,4,n,i)},useInsertionEffect:function(n,i){rl(4,2,n,i)},useMemo:function(n,i){var r=Bt();i=i===void 0?null:i;var l=n();if(hs){gi(!0);try{n()}finally{gi(!1)}}return r.memoizedState=[l,i],l},useReducer:function(n,i,r){var l=Bt();if(r!==void 0){var h=r(i);if(hs){gi(!0);try{r(i)}finally{gi(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=PE.bind(null,we,n),[l.memoizedState,n]},useRef:function(n){var i=Bt();return n={current:n},i.memoizedState=n},useState:function(n){n=Dc(n);var i=n.queue,r=rg.bind(null,we,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Mc,useDeferredValue:function(n,i){var r=Bt();return Uc(r,n,i)},useTransition:function(){var n=Dc(!1);return n=tg.bind(null,we,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var l=we,h=Bt();if(Ae){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),Ge===null)throw Error(a(349));(xe&127)!==0||jp(l,i,r)}h.memoizedState=r;var m={value:r,getSnapshot:i};return h.queue=m,Kp(Np.bind(null,l,m,n),[n]),l.flags|=2048,ia(9,{destroy:void 0},Dp.bind(null,l,m,r,i),null),r},useId:function(){var n=Bt(),i=Ge.identifierPrefix;if(Ae){var r=Pn,l=Bn;r=(l&~(1<<32-Qt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=nl++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=DE++,i="_"+i+"r_"+r.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Bc,useFormState:Ip,useActionState:Ip,useOptimistic:function(n){var i=Bt();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Pc.bind(null,we,!0,r),r.dispatch=i,[n,i]},useMemoCache:Rc,useCacheRefresh:function(){return Bt().memoizedState=BE.bind(null,we)},useEffectEvent:function(n){var i=Bt(),r={impl:n};return i.memoizedState=r,function(){if((Me&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},zc={readContext:Ct,use:sl,useCallback:Wp,useContext:Ct,useEffect:kc,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:Qp,useMemo:Zp,useReducer:al,useRef:Gp,useState:function(){return al(Jn)},useDebugValue:Mc,useDeferredValue:function(n,i){var r=ut();return eg(r,qe.memoizedState,n,i)},useTransition:function(){var n=al(Jn)[0],i=ut().memoizedState;return[typeof n=="boolean"?n:yr(n),i]},useSyncExternalStore:Op,useId:sg,useHostTransitionStatus:Bc,useFormState:qp,useActionState:qp,useOptimistic:function(n,i){var r=ut();return Up(r,qe,n,i)},useMemoCache:Rc,useCacheRefresh:ag};zc.useEffectEvent=Fp;var cg={readContext:Ct,use:sl,useCallback:Wp,useContext:Ct,useEffect:kc,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:Qp,useMemo:Zp,useReducer:jc,useRef:Gp,useState:function(){return jc(Jn)},useDebugValue:Mc,useDeferredValue:function(n,i){var r=ut();return qe===null?Uc(r,n,i):eg(r,qe.memoizedState,n,i)},useTransition:function(){var n=jc(Jn)[0],i=ut().memoizedState;return[typeof n=="boolean"?n:yr(n),i]},useSyncExternalStore:Op,useId:sg,useHostTransitionStatus:Bc,useFormState:$p,useActionState:$p,useOptimistic:function(n,i){var r=ut();return qe!==null?Up(r,qe,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:ag};cg.useEffectEvent=Fp;function Vc(n,i,r,l){i=n.memoizedState,r=r(l,i),r=r==null?i:v({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Ic={enqueueSetState:function(n,i,r){n=n._reactInternals;var l=nn(),h=Ti(l);h.payload=i,r!=null&&(h.callback=r),i=xi(n,h,l),i!==null&&(Kt(i,n,l),dr(i,n,l))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var l=nn(),h=Ti(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=xi(n,h,l),i!==null&&(Kt(i,n,l),dr(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=nn(),l=Ti(r);l.tag=2,i!=null&&(l.callback=i),i=xi(n,l,r),i!==null&&(Kt(i,n,r),dr(i,n,r))}};function hg(n,i,r,l,h,m,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,y):i.prototype&&i.prototype.isPureReactComponent?!ar(r,l)||!ar(h,m):!0}function fg(n,i,r,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==n&&Ic.enqueueReplaceState(i,i.state,null)}function fs(n,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(n=n.defaultProps){r===i&&(r=v({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}function dg(n){Vo(n)}function mg(n){console.error(n)}function pg(n){Vo(n)}function ul(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gg(n,i,r){try{var l=n.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qc(n,i,r){return r=Ti(r),r.tag=3,r.payload={element:null},r.callback=function(){ul(n,i)},r}function yg(n){return n=Ti(n),n.tag=3,n}function vg(n,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){gg(i,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){gg(i,r,l),typeof h!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function zE(n,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Qs(i,r,h,!0),r=Wt.current,r!==null){switch(r.tag){case 31:case 13:return bn===null?_l():r.alternate===null&&it===0&&(it=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Xo?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),dh(n,l,h)),!1;case 22:return r.flags|=65536,l===Xo?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),dh(n,l,h)),!1}throw Error(a(435,r.tag))}return dh(n,l,h),_l(),!1}if(Ae)return i=Wt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==oc&&(n=Error(a(422),{cause:l}),lr(pn(n,r)))):(l!==oc&&(i=Error(a(423),{cause:l}),lr(pn(i,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=pn(l,r),h=qc(n.stateNode,l,h),vc(n,h),it!==4&&(it=2)),!1;var m=Error(a(520),{cause:l});if(m=pn(m,r),Ar===null?Ar=[m]:Ar.push(m),it!==4&&(it=2),i===null)return!0;l=pn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=qc(r.stateNode,l,n),vc(r,n),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Di===null||!Di.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=yg(h),vg(h,n,r,l),vc(r,h),!1}r=r.return}while(r!==null);return!1}var Hc=Error(a(461)),ft=!1;function At(n,i,r,l){i.child=n===null?Sp(i,null,r,l):cs(i,n.child,r,l)}function bg(n,i,r,l,h){r=r.render;var m=i.ref;if("ref"in l){var y={};for(var _ in l)_!=="ref"&&(y[_]=l[_])}else y=l;return rs(i),l=Tc(n,i,r,y,m,h),_=xc(),n!==null&&!ft?(Cc(n,i,h),Wn(n,i,h)):(Ae&&_&&ac(i),i.flags|=1,At(n,i,l,h),i.child)}function wg(n,i,r,l,h){if(n===null){var m=r.type;return typeof m=="function"&&!nc(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,_g(n,i,m,l,h)):(n=$o(r.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Jc(n,h)){var y=m.memoizedProps;if(r=r.compare,r=r!==null?r:ar,r(y,l)&&n.ref===i.ref)return Wn(n,i,h)}return i.flags|=1,n=Kn(m,l),n.ref=i.ref,n.return=i,i.child=n}function _g(n,i,r,l,h){if(n!==null){var m=n.memoizedProps;if(ar(m,l)&&n.ref===i.ref)if(ft=!1,i.pendingProps=l=m,Jc(n,h))(n.flags&131072)!==0&&(ft=!0);else return i.lanes=n.lanes,Wn(n,i,h)}return $c(n,i,r,l,h)}function Sg(n,i,r,l){var h=l.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,n!==null){for(l=i.child=n.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return Eg(n,i,m,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yo(i,m!==null?m.cachePool:null),m!==null?xp(i,m):wc(),Cp(i);else return l=i.lanes=536870912,Eg(n,i,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(Yo(i,m.cachePool),xp(i,m),Ai(),i.memoizedState=null):(n!==null&&Yo(i,null),wc(),Ai());return At(n,i,h,r),i.child}function wr(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Eg(n,i,r,l,h){var m=mc();return m=m===null?null:{parent:ct._currentValue,pool:m},i.memoizedState={baseLanes:r,cachePool:m},n!==null&&Yo(i,null),wc(),Cp(i),n!==null&&Qs(n,i,l,!0),i.childLanes=h,null}function cl(n,i){return i=fl({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Tg(n,i,r){return cs(i,n.child,null,r),n=cl(i,i.pendingProps),n.flags|=2,Zt(i),i.memoizedState=null,n}function VE(n,i,r){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ae){if(l.mode==="hidden")return n=cl(i,l),i.lanes=536870912,wr(null,n);if(Sc(i),(n=Fe)?(n=Ly(n,vn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:bi!==null?{id:Bn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=op(n),r.return=i,i.child=r,xt=i,Fe=null)):n=null,n===null)throw _i(i);return i.lanes=536870912,null}return cl(i,l)}var m=n.memoizedState;if(m!==null){var y=m.dehydrated;if(Sc(i),h)if(i.flags&256)i.flags&=-257,i=Tg(n,i,r);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(ft||Qs(n,i,r,!1),h=(r&n.childLanes)!==0,ft||h){if(l=Ge,l!==null&&(y=mm(l,r),y!==0&&y!==m.retryLane))throw m.retryLane=y,ns(n,y),Kt(l,n,y),Hc;_l(),i=Tg(n,i,r)}else n=m.treeContext,Fe=wn(y.nextSibling),xt=i,Ae=!0,wi=null,vn=!1,n!==null&&cp(i,n),i=cl(i,l),i.flags|=4096;return i}return n=Kn(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function hl(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function $c(n,i,r,l,h){return rs(i),r=Tc(n,i,r,l,void 0,h),l=xc(),n!==null&&!ft?(Cc(n,i,h),Wn(n,i,h)):(Ae&&l&&ac(i),i.flags|=1,At(n,i,r,h),i.child)}function xg(n,i,r,l,h,m){return rs(i),i.updateQueue=null,r=Rp(i,l,r,h),Ap(n),l=xc(),n!==null&&!ft?(Cc(n,i,m),Wn(n,i,m)):(Ae&&l&&ac(i),i.flags|=1,At(n,i,r,m),i.child)}function Cg(n,i,r,l,h){if(rs(i),i.stateNode===null){var m=Gs,y=r.contextType;typeof y=="object"&&y!==null&&(m=Ct(y)),m=new r(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ic,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},gc(i),y=r.contextType,m.context=typeof y=="object"&&y!==null?Ct(y):Gs,m.state=i.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Vc(i,r,y,l),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&Ic.enqueueReplaceState(m,m.state,null),pr(i,l,m,h),mr(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var _=i.memoizedProps,D=fs(r,_);m.props=D;var P=m.context,Y=r.contextType;y=Gs,typeof Y=="object"&&Y!==null&&(y=Ct(Y));var J=r.getDerivedStateFromProps;Y=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||P!==y)&&fg(i,m,l,y),Ei=!1;var I=i.memoizedState;m.state=I,pr(i,l,m,h),mr(),P=i.memoizedState,_||I!==P||Ei?(typeof J=="function"&&(Vc(i,r,J,l),P=i.memoizedState),(D=Ei||hg(i,r,D,l,I,P,y))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),m.props=l,m.state=P,m.context=y,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,yc(n,i),y=i.memoizedProps,Y=fs(r,y),m.props=Y,J=i.pendingProps,I=m.context,P=r.contextType,D=Gs,typeof P=="object"&&P!==null&&(D=Ct(P)),_=r.getDerivedStateFromProps,(P=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==J||I!==D)&&fg(i,m,l,D),Ei=!1,I=i.memoizedState,m.state=I,pr(i,l,m,h),mr();var H=i.memoizedState;y!==J||I!==H||Ei||n!==null&&n.dependencies!==null&&Ko(n.dependencies)?(typeof _=="function"&&(Vc(i,r,_,l),H=i.memoizedState),(Y=Ei||hg(i,r,Y,l,I,H,D)||n!==null&&n.dependencies!==null&&Ko(n.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,hl(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=cs(i,n.child,null,h),i.child=cs(i,null,r,h)):At(n,i,r,h),i.memoizedState=m.state,n=i.child):n=Wn(n,i,h),n}function Ag(n,i,r,l){return ss(),i.flags|=256,At(n,i,r,l),i.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(n){return{baseLanes:n,cachePool:gp()}}function Fc(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=tn),n}function Rg(n,i,r){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,y;if((y=m)||(y=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ae){if(h?Ci(i):Ai(),(n=Fe)?(n=Ly(n,vn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:bi!==null?{id:Bn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=op(n),r.return=i,i.child=r,xt=i,Fe=null)):n=null,n===null)throw _i(i);return Oh(n)?i.lanes=32:i.lanes=536870912,null}var _=l.children;return l=l.fallback,h?(Ai(),h=i.mode,_=fl({mode:"hidden",children:_},h),l=is(l,h,r,null),_.return=i,l.return=i,_.sibling=l,i.child=_,l=i.child,l.memoizedState=Kc(r),l.childLanes=Fc(n,y,r),i.memoizedState=Gc,wr(null,l)):(Ci(i),Yc(i,_))}var D=n.memoizedState;if(D!==null&&(_=D.dehydrated,_!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=Qc(n,i,r)):i.memoizedState!==null?(Ai(),i.child=n.child,i.flags|=128,i=null):(Ai(),_=l.fallback,h=i.mode,l=fl({mode:"visible",children:l.children},h),_=is(_,h,r,null),_.flags|=2,l.return=i,_.return=i,l.sibling=_,i.child=l,cs(i,n.child,null,r),l=i.child,l.memoizedState=Kc(r),l.childLanes=Fc(n,y,r),i.memoizedState=Gc,i=wr(null,l));else if(Ci(i),Oh(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,lr({value:l,source:null,stack:null}),i=Qc(n,i,r)}else if(ft||Qs(n,i,r,!1),y=(r&n.childLanes)!==0,ft||y){if(y=Ge,y!==null&&(l=mm(y,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,ns(n,l),Kt(y,n,l),Hc;Rh(_)||_l(),i=Qc(n,i,r)}else Rh(_)?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,Fe=wn(_.nextSibling),xt=i,Ae=!0,wi=null,vn=!1,n!==null&&cp(i,n),i=Yc(i,l.children),i.flags|=4096);return i}return h?(Ai(),_=l.fallback,h=i.mode,D=n.child,P=D.sibling,l=Kn(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,P!==null?_=Kn(P,_):(_=is(_,h,r,null),_.flags|=2),_.return=i,l.return=i,l.sibling=_,i.child=l,wr(null,l),l=i.child,_=n.child.memoizedState,_===null?_=Kc(r):(h=_.cachePool,h!==null?(D=ct._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=gp(),_={baseLanes:_.baseLanes|r,cachePool:h}),l.memoizedState=_,l.childLanes=Fc(n,y,r),i.memoizedState=Gc,wr(n.child,l)):(Ci(i),r=n.child,n=r.sibling,r=Kn(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,n!==null&&(y=i.deletions,y===null?(i.deletions=[n],i.flags|=16):y.push(n)),i.child=r,i.memoizedState=null,r)}function Yc(n,i){return i=fl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function fl(n,i){return n=Jt(22,n,null,i),n.lanes=0,n}function Qc(n,i,r){return cs(i,n.child,null,r),n=Yc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Og(n,i,r){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),cc(n.return,i,r)}function Xc(n,i,r,l,h,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=m)}function jg(n,i,r){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var y=lt.current,_=(y&2)!==0;if(_?(y=y&1|2,i.flags|=128):y&=1,F(lt,y),At(n,i,l,r),l=Ae?or:0,!_&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Og(n,r,i);else if(n.tag===19)Og(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)n=r.alternate,n!==null&&el(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Xc(i,!1,h,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&el(n)===null){i.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}Xc(i,!0,r,null,m,l);break;case"together":Xc(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wn(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),ji|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(Qs(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=Kn(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=Kn(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function Jc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ko(n)))}function IE(n,i,r){switch(i.tag){case 3:he(i,i.stateNode.containerInfo),Si(i,ct,n.memoizedState.cache),ss();break;case 27:case 5:ze(i);break;case 4:he(i,i.stateNode.containerInfo);break;case 10:Si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sc(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Rg(n,i,r):(Ci(i),n=Wn(n,i,r),n!==null?n.sibling:null);Ci(i);break;case 19:var h=(n.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Qs(n,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return jg(n,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(lt,lt.current),l)break;return null;case 22:return i.lanes=0,Sg(n,i,r,i.pendingProps);case 24:Si(i,ct,n.memoizedState.cache)}return Wn(n,i,r)}function Dg(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)ft=!0;else{if(!Jc(n,r)&&(i.flags&128)===0)return ft=!1,IE(n,i,r);ft=(n.flags&131072)!==0}else ft=!1,Ae&&(i.flags&1048576)!==0&&up(i,or,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=ls(i.elementType),i.type=n,typeof n=="function")nc(n)?(l=fs(n,l),i.tag=1,i=Cg(null,i,n,l,r)):(i.tag=0,i=$c(null,i,n,l,r));else{if(n!=null){var h=n.$$typeof;if(h===z){i.tag=11,i=bg(null,i,n,l,r);break e}else if(h===q){i.tag=14,i=wg(null,i,n,l,r);break e}}throw i=Re(n)||n,Error(a(306,i,""))}}return i;case 0:return $c(n,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=fs(l,i.pendingProps),Cg(n,i,l,h,r);case 3:e:{if(he(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,yc(n,i),pr(i,l,null,r);var y=i.memoizedState;if(l=y.cache,Si(i,ct,l),l!==m.cache&&hc(i,[ct],r,!0),mr(),l=y.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Ag(n,i,l,r);break e}else if(l!==h){h=pn(Error(a(424)),i),lr(h),i=Ag(n,i,l,r);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Fe=wn(n.firstChild),xt=i,Ae=!0,wi=null,vn=!0,r=Sp(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),l===h){i=Wn(n,i,r);break e}At(n,i,l,r)}i=i.child}return i;case 26:return hl(n,i),n===null?(r=qy(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ae||(r=i.type,n=i.pendingProps,l=Rl(le.current).createElement(r),l[Tt]=i,l[Vt]=n,Rt(l,r,n),_t(l),i.stateNode=l):i.memoizedState=qy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ze(i),n===null&&Ae&&(l=i.stateNode=zy(i.type,i.pendingProps,le.current),xt=i,vn=!0,h=Fe,Ui(i.type)?(jh=h,Fe=wn(l.firstChild)):Fe=h),At(n,i,i.pendingProps.children,r),hl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ae&&((h=l=Fe)&&(l=yT(l,i.type,i.pendingProps,vn),l!==null?(i.stateNode=l,xt=i,Fe=wn(l.firstChild),vn=!1,h=!0):h=!1),h||_i(i)),ze(i),h=i.type,m=i.pendingProps,y=n!==null?n.memoizedProps:null,l=m.children,xh(h,m)?l=null:y!==null&&xh(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Tc(n,i,NE,null,null,r),Ur._currentValue=h),hl(n,i),At(n,i,l,r),i.child;case 6:return n===null&&Ae&&((n=r=Fe)&&(r=vT(r,i.pendingProps,vn),r!==null?(i.stateNode=r,xt=i,Fe=null,n=!0):n=!1),n||_i(i)),null;case 13:return Rg(n,i,r);case 4:return he(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=cs(i,null,l,r):At(n,i,l,r),i.child;case 11:return bg(n,i,i.type,i.pendingProps,r);case 7:return At(n,i,i.pendingProps,r),i.child;case 8:return At(n,i,i.pendingProps.children,r),i.child;case 12:return At(n,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Si(i,i.type,l.value),At(n,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,rs(i),h=Ct(h),l=l(h),i.flags|=1,At(n,i,l,r),i.child;case 14:return wg(n,i,i.type,i.pendingProps,r);case 15:return _g(n,i,i.type,i.pendingProps,r);case 19:return jg(n,i,r);case 31:return VE(n,i,r);case 22:return Sg(n,i,r,i.pendingProps);case 24:return rs(i),l=Ct(ct),n===null?(h=mc(),h===null&&(h=Ge,m=fc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),i.memoizedState={parent:l,cache:h},gc(i),Si(i,ct,h)):((n.lanes&r)!==0&&(yc(n,i),pr(i,null,null,r),mr()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Si(i,ct,l)):(l=m.cache,Si(i,ct,l),l!==h.cache&&hc(i,[ct],r,!0))),At(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Zn(n){n.flags|=4}function Wc(n,i,r,l,h){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(sy())n.flags|=8192;else throw us=Xo,pc}else n.flags&=-16777217}function Ng(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fy(i))if(sy())n.flags|=8192;else throw us=Xo,pc}function dl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?hm():536870912,n.lanes|=i,oa|=i)}function _r(n,i){if(!Ae)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ye(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,l=0;if(i)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=r,i}function qE(n,i,r){var l=i.pendingProps;switch(rc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(i),null;case 1:return Ye(i),null;case 3:return r=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qn(ct),ce(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ys(i)?Zn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lc())),Ye(i),null;case 26:var h=i.type,m=i.memoizedState;return n===null?(Zn(i),m!==null?(Ye(i),Ng(i,m)):(Ye(i),Wc(i,h,null,l,r))):m?m!==n.memoizedState?(Zn(i),Ye(i),Ng(i,m)):(Ye(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&Zn(i),Ye(i),Wc(i,h,n,l,r)),null;case 27:if(be(i),r=le.current,h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zn(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ye(i),null}n=ne.current,Ys(i)?hp(i):(n=zy(h,l,r),i.stateNode=n,Zn(i))}return Ye(i),null;case 5:if(be(i),h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zn(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ye(i),null}if(m=ne.current,Ys(i))hp(i);else{var y=Rl(le.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}m[Tt]=i,m[Vt]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=m;e:switch(Rt(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zn(i)}}return Ye(i),Wc(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,r),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Zn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=le.current,Ys(i)){if(n=i.stateNode,r=i.memoizedProps,l=null,h=xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Tt]=i,n=!!(n.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ry(n.nodeValue,r)),n||_i(i,!0)}else n=Rl(n).createTextNode(l),n[Tt]=i,i.stateNode=n}return Ye(i),null;case 31:if(r=i.memoizedState,n===null||n.memoizedState!==null){if(l=Ys(i),r!==null){if(n===null){if(!l)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Tt]=i}else ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),n=!1}else r=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return i.flags&256?(Zt(i),i):(Zt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Ye(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Ys(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=i}else ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),h=!1}else h=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Zt(i),i):(Zt(i),null)}return Zt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,n=n!==null&&n.memoizedState!==null,r&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),r!==n&&r&&(i.child.flags|=8192),dl(i,i.updateQueue),Ye(i),null);case 4:return ce(),n===null&&wh(i.stateNode.containerInfo),Ye(i),null;case 10:return Qn(i.type),Ye(i),null;case 19:if(V(lt),l=i.memoizedState,l===null)return Ye(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)_r(l,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=el(n),m!==null){for(i.flags|=128,_r(l,!1),n=m.updateQueue,i.updateQueue=n,dl(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)rp(r,n),r=r.sibling;return F(lt,lt.current&1|2),Ae&&Fn(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Ue()>vl&&(i.flags|=128,h=!0,_r(l,!1),i.lanes=4194304)}else{if(!h)if(n=el(m),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,dl(i,n),_r(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ae)return Ye(i),null}else 2*Ue()-l.renderingStartTime>vl&&r!==536870912&&(i.flags|=128,h=!0,_r(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(n=l.last,n!==null?n.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ue(),n.sibling=null,r=lt.current,F(lt,h?r&1|2:r&1),Ae&&Fn(i,l.treeForkCount),n):(Ye(i),null);case 22:case 23:return Zt(i),_c(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(Ye(i),i.subtreeFlags&6&&(i.flags|=8192)):Ye(i),r=i.updateQueue,r!==null&&dl(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),n!==null&&V(os),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Qn(ct),Ye(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function HE(n,i){switch(rc(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qn(ct),ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return be(i),null;case 31:if(i.memoizedState!==null){if(Zt(i),i.alternate===null)throw Error(a(340));ss()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Zt(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ss()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return V(lt),null;case 4:return ce(),null;case 10:return Qn(i.type),null;case 22:case 23:return Zt(i),_c(),n!==null&&V(os),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qn(ct),null;case 25:return null;default:return null}}function kg(n,i){switch(rc(i),i.tag){case 3:Qn(ct),ce();break;case 26:case 27:case 5:be(i);break;case 4:ce();break;case 31:i.memoizedState!==null&&Zt(i);break;case 13:Zt(i);break;case 19:V(lt);break;case 10:Qn(i.type);break;case 22:case 23:Zt(i),_c(),n!==null&&V(os);break;case 24:Qn(ct)}}function Sr(n,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&n)===n){l=void 0;var m=r.create,y=r.inst;l=m(),y.destroy=l}r=r.next}while(r!==h)}}catch(_){Pe(i,i.return,_)}}function Ri(n,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var y=l.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,h=i;var D=r,P=_;try{P()}catch(Y){Pe(h,D,Y)}}}l=l.next}while(l!==m)}}catch(Y){Pe(i,i.return,Y)}}function Mg(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Tp(i,r)}catch(l){Pe(n,n.return,l)}}}function Ug(n,i,r){r.props=fs(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(l){Pe(n,i,l)}}function Er(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof r=="function"?n.refCleanup=r(l):r.current=l}}catch(h){Pe(n,i,h)}}function zn(n,i){var r=n.ref,l=n.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Pe(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Pe(n,i,h)}else r.current=null}function Lg(n){var i=n.type,r=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Pe(n,n.return,h)}}function Zc(n,i,r){try{var l=n.stateNode;hT(l,n.type,r,i),l[Vt]=i}catch(h){Pe(n,n.return,h)}}function Bg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function eh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function th(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Ui(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(th(n,i,r),n=n.sibling;n!==null;)th(n,i,r),n=n.sibling}function ml(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(l!==4&&(l===27&&Ui(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ml(n,i,r),n=n.sibling;n!==null;)ml(n,i,r),n=n.sibling}function Pg(n){var i=n.stateNode,r=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rt(i,l,r),i[Tt]=n,i[Vt]=r}catch(m){Pe(n,n.return,m)}}var ei=!1,dt=!1,nh=!1,zg=typeof WeakSet=="function"?WeakSet:Set,St=null;function $E(n,i){if(n=n.containerInfo,Eh=Ul,n=Jm(n),Qu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var y=0,_=-1,D=-1,P=0,Y=0,J=n,I=null;t:for(;;){for(var H;J!==r||h!==0&&J.nodeType!==3||(_=y+h),J!==m||l!==0&&J.nodeType!==3||(D=y+l),J.nodeType===3&&(y+=J.nodeValue.length),(H=J.firstChild)!==null;)I=J,J=H;for(;;){if(J===n)break t;if(I===r&&++P===h&&(_=y),I===m&&++Y===l&&(D=y),(H=J.nextSibling)!==null)break;J=I,I=J.parentNode}J=H}r=_===-1||D===-1?null:{start:_,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Th={focusedElem:n,selectionRange:r},Ul=!1,St=i;St!==null;)if(i=St,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,St=n;else for(;St!==null;){switch(i=St,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)h=n[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,r=i,h=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var ie=fs(r.type,h);n=l.getSnapshotBeforeUpdate(ie,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(fe){Pe(r,r.return,fe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Ah(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ah(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,St=n;break}St=i.return}}function Vg(n,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ni(n,r),l&4&&Sr(5,r);break;case 1:if(ni(n,r),l&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(y){Pe(r,r.return,y)}else{var h=fs(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Pe(r,r.return,y)}}l&64&&Mg(r),l&512&&Er(r,r.return);break;case 3:if(ni(n,r),l&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Tp(n,i)}catch(y){Pe(r,r.return,y)}}break;case 27:i===null&&l&4&&Pg(r);case 26:case 5:ni(n,r),i===null&&l&4&&Lg(r),l&512&&Er(r,r.return);break;case 12:ni(n,r);break;case 31:ni(n,r),l&4&&Hg(n,r);break;case 13:ni(n,r),l&4&&$g(n,r),l&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=ZE.bind(null,r),bT(n,r))));break;case 22:if(l=r.memoizedState!==null||ei,!l){i=i!==null&&i.memoizedState!==null||dt,h=ei;var m=dt;ei=l,(dt=i)&&!m?ii(n,r,(r.subtreeFlags&8772)!==0):ni(n,r),ei=h,dt=m}break;case 30:break;default:ni(n,r)}}function Ig(n){var i=n.alternate;i!==null&&(n.alternate=null,Ig(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Nu(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xe=null,qt=!1;function ti(n,i,r){for(r=r.child;r!==null;)qg(n,i,r),r=r.sibling}function qg(n,i,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Cn,r)}catch{}switch(r.tag){case 26:dt||zn(r,i),ti(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:dt||zn(r,i);var l=Xe,h=qt;Ui(r.type)&&(Xe=r.stateNode,qt=!1),ti(n,i,r),Nr(r.stateNode),Xe=l,qt=h;break;case 5:dt||zn(r,i);case 6:if(l=Xe,h=qt,Xe=null,ti(n,i,r),Xe=l,qt=h,Xe!==null)if(qt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(m){Pe(r,i,m)}else try{Xe.removeChild(r.stateNode)}catch(m){Pe(r,i,m)}break;case 18:Xe!==null&&(qt?(n=Xe,My(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),pa(n)):My(Xe,r.stateNode));break;case 4:l=Xe,h=qt,Xe=r.stateNode.containerInfo,qt=!0,ti(n,i,r),Xe=l,qt=h;break;case 0:case 11:case 14:case 15:Ri(2,r,i),dt||Ri(4,r,i),ti(n,i,r);break;case 1:dt||(zn(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ug(r,i,l)),ti(n,i,r);break;case 21:ti(n,i,r);break;case 22:dt=(l=dt)||r.memoizedState!==null,ti(n,i,r),dt=l;break;default:ti(n,i,r)}}function Hg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pa(n)}catch(r){Pe(i,i.return,r)}}}function $g(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pa(n)}catch(r){Pe(i,i.return,r)}}function GE(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new zg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new zg),i;default:throw Error(a(435,n.tag))}}function pl(n,i){var r=GE(n);i.forEach(function(l){if(!r.has(l)){r.add(l);var h=eT.bind(null,n,l);l.then(h,h)}})}function Ht(n,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],m=n,y=i,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Ui(_.type)){Xe=_.stateNode,qt=!1;break e}break;case 5:Xe=_.stateNode,qt=!1;break e;case 3:case 4:Xe=_.stateNode.containerInfo,qt=!0;break e}_=_.return}if(Xe===null)throw Error(a(160));qg(m,y,h),Xe=null,qt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gg(i,n),i=i.sibling}var Rn=null;function Gg(n,i){var r=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ht(i,n),$t(n),l&4&&(Ri(3,n,n.return),Sr(3,n),Ri(5,n,n.return));break;case 1:Ht(i,n),$t(n),l&512&&(dt||r===null||zn(r,r.return)),l&64&&ei&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Rn;if(Ht(i,n),$t(n),l&512&&(dt||r===null||zn(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=n.memoizedState,r===null)if(l===null)if(n.stateNode===null){e:{l=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Xa]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Rt(m,l,r),m[Tt]=n,_t(m),l=m;break e;case"link":var y=Gy("link","href",h).get(l+(r.href||""));if(y){for(var _=0;_<y.length;_++)if(m=y[_],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(_,1);break t}}m=h.createElement(l),Rt(m,l,r),h.head.appendChild(m);break;case"meta":if(y=Gy("meta","content",h).get(l+(r.content||""))){for(_=0;_<y.length;_++)if(m=y[_],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(_,1);break t}}m=h.createElement(l),Rt(m,l,r),h.head.appendChild(m);break;default:throw Error(a(468,l))}m[Tt]=n,_t(m),l=m}n.stateNode=l}else Ky(h,n.type,n.stateNode);else n.stateNode=$y(h,l,n.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?Ky(h,n.type,n.stateNode):$y(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Zc(n,n.memoizedProps,r.memoizedProps)}break;case 27:Ht(i,n),$t(n),l&512&&(dt||r===null||zn(r,r.return)),r!==null&&l&4&&Zc(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Ht(i,n),$t(n),l&512&&(dt||r===null||zn(r,r.return)),n.flags&32){h=n.stateNode;try{Ps(h,"")}catch(ie){Pe(n,n.return,ie)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Zc(n,h,r!==null?r.memoizedProps:h)),l&1024&&(nh=!0);break;case 6:if(Ht(i,n),$t(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,r=n.stateNode;try{r.nodeValue=l}catch(ie){Pe(n,n.return,ie)}}break;case 3:if(Dl=null,h=Rn,Rn=Ol(i.containerInfo),Ht(i,n),Rn=h,$t(n),l&4&&r!==null&&r.memoizedState.isDehydrated)try{pa(i.containerInfo)}catch(ie){Pe(n,n.return,ie)}nh&&(nh=!1,Kg(n));break;case 4:l=Rn,Rn=Ol(n.stateNode.containerInfo),Ht(i,n),$t(n),Rn=l;break;case 12:Ht(i,n),$t(n);break;case 31:Ht(i,n),$t(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,pl(n,l)));break;case 13:Ht(i,n),$t(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(yl=Ue()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,pl(n,l)));break;case 22:h=n.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,P=ei,Y=dt;if(ei=P||h,dt=Y||D,Ht(i,n),dt=Y,ei=P,$t(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||D||ei||dt||ds(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){D=r=i;try{if(m=D.stateNode,h)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=D.stateNode;var J=D.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ie){Pe(D,D.return,ie)}}}else if(i.tag===6){if(r===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ie){Pe(D,D.return,ie)}}}else if(i.tag===18){if(r===null){D=i;try{var H=D.stateNode;h?Uy(H,!0):Uy(D.stateNode,!1)}catch(ie){Pe(D,D.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,pl(n,r))));break;case 19:Ht(i,n),$t(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,pl(n,l)));break;case 30:break;case 21:break;default:Ht(i,n),$t(n)}}function $t(n){var i=n.flags;if(i&2){try{for(var r,l=n.return;l!==null;){if(Bg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,m=eh(n);ml(n,m,h);break;case 5:var y=r.stateNode;r.flags&32&&(Ps(y,""),r.flags&=-33);var _=eh(n);ml(n,_,y);break;case 3:case 4:var D=r.stateNode.containerInfo,P=eh(n);th(n,P,D);break;default:throw Error(a(161))}}catch(Y){Pe(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Kg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Kg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ni(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vg(n,i.alternate,i),i=i.sibling}function ds(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),ds(i);break;case 1:zn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Ug(i,i.return,r),ds(i);break;case 27:Nr(i.stateNode);case 26:case 5:zn(i,i.return),ds(i);break;case 22:i.memoizedState===null&&ds(i);break;case 30:ds(i);break;default:ds(i)}n=n.sibling}}function ii(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,y=m.flags;switch(m.tag){case 0:case 11:case 15:ii(h,m,r),Sr(4,m);break;case 1:if(ii(h,m,r),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Pe(l,l.return,P)}if(l=m,h=l.updateQueue,h!==null){var _=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ep(D[h],_)}catch(P){Pe(l,l.return,P)}}r&&y&64&&Mg(m),Er(m,m.return);break;case 27:Pg(m);case 26:case 5:ii(h,m,r),r&&l===null&&y&4&&Lg(m),Er(m,m.return);break;case 12:ii(h,m,r);break;case 31:ii(h,m,r),r&&y&4&&Hg(h,m);break;case 13:ii(h,m,r),r&&y&4&&$g(h,m);break;case 22:m.memoizedState===null&&ii(h,m,r),Er(m,m.return);break;case 30:break;default:ii(h,m,r)}i=i.sibling}}function ih(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&ur(r))}function sh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ur(n))}function On(n,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fg(n,i,r,l),i=i.sibling}function Fg(n,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:On(n,i,r,l),h&2048&&Sr(9,i);break;case 1:On(n,i,r,l);break;case 3:On(n,i,r,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ur(n)));break;case 12:if(h&2048){On(n,i,r,l),n=i.stateNode;try{var m=i.memoizedProps,y=m.id,_=m.onPostCommit;typeof _=="function"&&_(y,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Pe(i,i.return,D)}}else On(n,i,r,l);break;case 31:On(n,i,r,l);break;case 13:On(n,i,r,l);break;case 23:break;case 22:m=i.stateNode,y=i.alternate,i.memoizedState!==null?m._visibility&2?On(n,i,r,l):Tr(n,i):m._visibility&2?On(n,i,r,l):(m._visibility|=2,sa(n,i,r,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ih(y,i);break;case 24:On(n,i,r,l),h&2048&&sh(i.alternate,i);break;default:On(n,i,r,l)}}function sa(n,i,r,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,y=i,_=r,D=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:sa(m,y,_,D,h),Sr(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?sa(m,y,_,D,h):Tr(m,y):(Y._visibility|=2,sa(m,y,_,D,h)),h&&P&2048&&ih(y.alternate,y);break;case 24:sa(m,y,_,D,h),h&&P&2048&&sh(y.alternate,y);break;default:sa(m,y,_,D,h)}i=i.sibling}}function Tr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,l=i,h=l.flags;switch(l.tag){case 22:Tr(r,l),h&2048&&ih(l.alternate,l);break;case 24:Tr(r,l),h&2048&&sh(l.alternate,l);break;default:Tr(r,l)}i=i.sibling}}var xr=8192;function aa(n,i,r){if(n.subtreeFlags&xr)for(n=n.child;n!==null;)Yg(n,i,r),n=n.sibling}function Yg(n,i,r){switch(n.tag){case 26:aa(n,i,r),n.flags&xr&&n.memoizedState!==null&&DT(r,Rn,n.memoizedState,n.memoizedProps);break;case 5:aa(n,i,r);break;case 3:case 4:var l=Rn;Rn=Ol(n.stateNode.containerInfo),aa(n,i,r),Rn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=xr,xr=16777216,aa(n,i,r),xr=l):aa(n,i,r));break;default:aa(n,i,r)}}function Qg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Cr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];St=l,Jg(l,n)}Qg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(n),n=n.sibling}function Xg(n){switch(n.tag){case 0:case 11:case 15:Cr(n),n.flags&2048&&Ri(9,n,n.return);break;case 3:Cr(n);break;case 12:Cr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,gl(n)):Cr(n);break;default:Cr(n)}}function gl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];St=l,Jg(l,n)}Qg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),gl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,gl(i));break;default:gl(i)}n=n.sibling}}function Jg(n,i){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:Ri(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ur(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,St=l;else e:for(r=n;St!==null;){l=St;var h=l.sibling,m=l.return;if(Ig(l),l===r){St=null;break e}if(h!==null){h.return=m,St=h;break e}St=m}}}var KE={getCacheForType:function(n){var i=Ct(ct),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r},cacheSignal:function(){return Ct(ct).controller.signal}},FE=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,Ee=null,xe=0,Be=0,en=null,Oi=!1,ra=!1,ah=!1,si=0,it=0,ji=0,ms=0,rh=0,tn=0,oa=0,Ar=null,Gt=null,oh=!1,yl=0,Wg=0,vl=1/0,bl=null,Di=null,gt=0,Ni=null,la=null,ai=0,lh=0,uh=null,Zg=null,Rr=0,ch=null;function nn(){return(Me&2)!==0&&xe!==0?xe&-xe:G.T!==null?gh():pm()}function ey(){if(tn===0)if((xe&536870912)===0||Ae){var n=Ao;Ao<<=1,(Ao&3932160)===0&&(Ao=262144),tn=n}else tn=536870912;return n=Wt.current,n!==null&&(n.flags|=32),tn}function Kt(n,i,r){(n===Ge&&(Be===2||Be===9)||n.cancelPendingCommit!==null)&&(ua(n,0),ki(n,xe,tn,!1)),Qa(n,r),((Me&2)===0||n!==Ge)&&(n===Ge&&((Me&2)===0&&(ms|=r),it===4&&ki(n,xe,tn,!1)),Vn(n))}function ty(n,i,r){if((Me&6)!==0)throw Error(a(327));var l=!r&&(i&127)===0&&(i&n.expiredLanes)===0||Ya(n,i),h=l?XE(n,i):fh(n,i,!0),m=l;do{if(h===0){ra&&!l&&ki(n,i,0,!1);break}else{if(r=n.current.alternate,m&&!YE(r)){h=fh(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var _=n;h=Ar;var D=_.current.memoizedState.isDehydrated;if(D&&(ua(_,y).flags|=256),y=fh(_,y,!1),y!==2){if(ah&&!D){_.errorRecoveryDisabledLanes|=m,ms|=m,h=4;break e}m=Gt,Gt=h,m!==null&&(Gt===null?Gt=m:Gt.push.apply(Gt,m))}h=y}if(m=!1,h!==2)continue}}if(h===1){ua(n,0),ki(n,i,0,!0);break}e:{switch(l=n,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ki(l,i,tn,!Oi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=yl+300-Ue(),10<h)){if(ki(l,i,tn,!Oi),Oo(l,0,!0)!==0)break e;ai=i,l.timeoutHandle=Ny(ny.bind(null,l,r,Gt,bl,oh,i,tn,ms,oa,Oi,m,"Throttled",-0,0),h);break e}ny(l,r,Gt,bl,oh,i,tn,ms,oa,Oi,m,null,-0,0)}}break}while(!0);Vn(n)}function ny(n,i,r,l,h,m,y,_,D,P,Y,J,I,H){if(n.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Yg(i,m,J);var ie=(m&62914560)===m?yl-Ue():(m&4194048)===m?Wg-Ue():0;if(ie=NT(J,ie),ie!==null){ai=m,n.cancelPendingCommit=ie(cy.bind(null,n,i,m,r,l,h,y,_,D,Y,J,null,I,H)),ki(n,m,y,!P);return}}cy(n,i,m,r,l,h,y,_,D)}function YE(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],m=h.getSnapshot;h=h.value;try{if(!Xt(m(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(n,i,r,l){i&=~rh,i&=~ms,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-Qt(h),y=1<<m;l[m]=-1,h&=~y}r!==0&&fm(n,r,i)}function wl(){return(Me&6)===0?(Or(0),!1):!0}function hh(){if(Ee!==null){if(Be===0)var n=Ee.return;else n=Ee,Yn=as=null,Ac(n),Zs=null,hr=0,n=Ee;for(;n!==null;)kg(n.alternate,n),n=n.return;Ee=null}}function ua(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,mT(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),ai=0,hh(),Ge=n,Ee=r=Kn(n.current,null),xe=i,Be=0,en=null,Oi=!1,ra=Ya(n,i),ah=!1,oa=tn=rh=ms=ji=it=0,Gt=Ar=null,oh=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Qt(l),m=1<<h;i|=n[h],l&=~m}return si=i,Io(),r}function iy(n,i){we=null,G.H=br,i===Ws||i===Qo?(i=bp(),Be=3):i===pc?(i=bp(),Be=4):Be=i===Hc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,en=i,Ee===null&&(it=1,ul(n,pn(i,n.current)))}function sy(){var n=Wt.current;return n===null?!0:(xe&4194048)===xe?bn===null:(xe&62914560)===xe||(xe&536870912)!==0?n===bn:!1}function ay(){var n=G.H;return G.H=br,n===null?br:n}function ry(){var n=G.A;return G.A=KE,n}function _l(){it=4,Oi||(xe&4194048)!==xe&&Wt.current!==null||(ra=!0),(ji&134217727)===0&&(ms&134217727)===0||Ge===null||ki(Ge,xe,tn,!1)}function fh(n,i,r){var l=Me;Me|=2;var h=ay(),m=ry();(Ge!==n||xe!==i)&&(bl=null,ua(n,i)),i=!1;var y=it;e:do try{if(Be!==0&&Ee!==null){var _=Ee,D=en;switch(Be){case 8:hh(),y=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(i=!0);var P=Be;if(Be=0,en=null,ca(n,_,D,P),r&&ra){y=0;break e}break;default:P=Be,Be=0,en=null,ca(n,_,D,P)}}QE(),y=it;break}catch(Y){iy(n,Y)}while(!0);return i&&n.shellSuspendCounter++,Yn=as=null,Me=l,G.H=h,G.A=m,Ee===null&&(Ge=null,xe=0,Io()),y}function QE(){for(;Ee!==null;)oy(Ee)}function XE(n,i){var r=Me;Me|=2;var l=ay(),h=ry();Ge!==n||xe!==i?(bl=null,vl=Ue()+500,ua(n,i)):ra=Ya(n,i);e:do try{if(Be!==0&&Ee!==null){i=Ee;var m=en;t:switch(Be){case 1:Be=0,en=null,ca(n,i,m,1);break;case 2:case 9:if(yp(m)){Be=0,en=null,ly(i);break}i=function(){Be!==2&&Be!==9||Ge!==n||(Be=7),Vn(n)},m.then(i,i);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:yp(m)?(Be=0,en=null,ly(i)):(Be=0,en=null,ca(n,i,m,7));break;case 5:var y=null;switch(Ee.tag){case 26:y=Ee.memoizedState;case 5:case 27:var _=Ee;if(y?Fy(y):_.stateNode.complete){Be=0,en=null;var D=_.sibling;if(D!==null)Ee=D;else{var P=_.return;P!==null?(Ee=P,Sl(P)):Ee=null}break t}}Be=0,en=null,ca(n,i,m,5);break;case 6:Be=0,en=null,ca(n,i,m,6);break;case 8:hh(),it=6;break e;default:throw Error(a(462))}}JE();break}catch(Y){iy(n,Y)}while(!0);return Yn=as=null,G.H=l,G.A=h,Me=r,Ee!==null?0:(Ge=null,xe=0,Io(),it)}function JE(){for(;Ee!==null&&!un();)oy(Ee)}function oy(n){var i=Dg(n.alternate,n,si);n.memoizedProps=n.pendingProps,i===null?Sl(n):Ee=i}function ly(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=xg(r,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=xg(r,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Ac(i);default:kg(r,i),i=Ee=rp(i,si),i=Dg(r,i,si)}n.memoizedProps=n.pendingProps,i===null?Sl(n):Ee=i}function ca(n,i,r,l){Yn=as=null,Ac(i),Zs=null,hr=0;var h=i.return;try{if(zE(n,h,i,r,xe)){it=1,ul(n,pn(r,n.current)),Ee=null;return}}catch(m){if(h!==null)throw Ee=h,m;it=1,ul(n,pn(r,n.current)),Ee=null;return}i.flags&32768?(Ae||l===1?n=!0:ra||(xe&536870912)!==0?n=!1:(Oi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Wt.current,l!==null&&l.tag===13&&(l.flags|=16384))),uy(i,n)):Sl(i)}function Sl(n){var i=n;do{if((i.flags&32768)!==0){uy(i,Oi);return}n=i.return;var r=qE(i.alternate,i,si);if(r!==null){Ee=r;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=n}while(i!==null);it===0&&(it=5)}function uy(n,i){do{var r=HE(n.alternate,n);if(r!==null){r.flags&=32767,Ee=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=r}while(n!==null);it=6,Ee=null}function cy(n,i,r,l,h,m,y,_,D){n.cancelPendingCommit=null;do El();while(gt!==0);if((Me&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=ec,jS(n,r,m,y,_,D),n===Ge&&(Ee=Ge=null,xe=0),la=i,Ni=n,ai=r,lh=m,uh=h,Zg=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,tT(zt,function(){return py(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=L.p,L.p=2,y=Me,Me|=4;try{$E(n,i,r)}finally{Me=y,L.p=h,G.T=l}}gt=1,hy(),fy(),dy()}}function hy(){if(gt===1){gt=0;var n=Ni,i=la,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=L.p;L.p=2;var h=Me;Me|=4;try{Gg(i,n);var m=Th,y=Jm(n.containerInfo),_=m.focusedElem,D=m.selectionRange;if(y!==_&&_&&_.ownerDocument&&Xm(_.ownerDocument.documentElement,_)){if(D!==null&&Qu(_)){var P=D.start,Y=D.end;if(Y===void 0&&(Y=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min(Y,_.value.length);else{var J=_.ownerDocument||document,I=J&&J.defaultView||window;if(I.getSelection){var H=I.getSelection(),ie=_.textContent.length,fe=Math.min(D.start,ie),$e=D.end===void 0?fe:Math.min(D.end,ie);!H.extend&&fe>$e&&(y=$e,$e=fe,fe=y);var U=Qm(_,fe),M=Qm(_,$e);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var B=J.createRange();B.setStart(U.node,U.offset),H.removeAllRanges(),fe>$e?(H.addRange(B),H.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),H.addRange(B))}}}}for(J=[],H=_;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<J.length;_++){var X=J[_];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ul=!!Eh,Th=Eh=null}finally{Me=h,L.p=l,G.T=r}}n.current=i,gt=2}}function fy(){if(gt===2){gt=0;var n=Ni,i=la,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=L.p;L.p=2;var h=Me;Me|=4;try{Vg(n,i.alternate,i)}finally{Me=h,L.p=l,G.T=r}}gt=3}}function dy(){if(gt===4||gt===3){gt=0,Xi();var n=Ni,i=la,r=ai,l=Zg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gt=5:(gt=0,la=Ni=null,my(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Di=null),ju(r),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Cn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=L.p,L.p=2,G.T=null;try{for(var m=n.onRecoverableError,y=0;y<l.length;y++){var _=l[y];m(_.value,{componentStack:_.stack})}}finally{G.T=i,L.p=h}}(ai&3)!==0&&El(),Vn(n),h=n.pendingLanes,(r&261930)!==0&&(h&42)!==0?n===ch?Rr++:(Rr=0,ch=n):Rr=0,Or(0)}}function my(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ur(i)))}function El(){return hy(),fy(),dy(),py()}function py(){if(gt!==5)return!1;var n=Ni,i=lh;lh=0;var r=ju(ai),l=G.T,h=L.p;try{L.p=32>r?32:r,G.T=null,r=uh,uh=null;var m=Ni,y=ai;if(gt=0,la=Ni=null,ai=0,(Me&6)!==0)throw Error(a(331));var _=Me;if(Me|=4,Xg(m.current),Fg(m,m.current,y,r),Me=_,Or(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Cn,m)}catch{}return!0}finally{L.p=h,G.T=l,my(n,i)}}function gy(n,i,r){i=pn(r,i),i=qc(n.stateNode,i,2),n=xi(n,i,2),n!==null&&(Qa(n,2),Vn(n))}function Pe(n,i,r){if(n.tag===3)gy(n,n,r);else for(;i!==null;){if(i.tag===3){gy(i,n,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){n=pn(r,n),r=yg(2),l=xi(i,r,2),l!==null&&(vg(r,l,i,n),Qa(l,2),Vn(l));break}}i=i.return}}function dh(n,i,r){var l=n.pingCache;if(l===null){l=n.pingCache=new FE;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(ah=!0,h.add(r),n=WE.bind(null,n,i,r),i.then(n,n))}function WE(n,i,r){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Ge===n&&(xe&r)===r&&(it===4||it===3&&(xe&62914560)===xe&&300>Ue()-yl?(Me&2)===0&&ua(n,0):rh|=r,oa===xe&&(oa=0)),Vn(n)}function yy(n,i){i===0&&(i=hm()),n=ns(n,i),n!==null&&(Qa(n,i),Vn(n))}function ZE(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),yy(n,r)}function eT(n,i){var r=0;switch(n.tag){case 31:case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),yy(n,r)}function tT(n,i){return Ze(n,i)}var Tl=null,ha=null,mh=!1,xl=!1,ph=!1,Mi=0;function Vn(n){n!==ha&&n.next===null&&(ha===null?Tl=ha=n:ha=ha.next=n),xl=!0,mh||(mh=!0,iT())}function Or(n,i){if(!ph&&xl){ph=!0;do for(var r=!1,l=Tl;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var y=l.suspendedLanes,_=l.pingedLanes;m=(1<<31-Qt(42|n)+1)-1,m&=h&~(y&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,_y(l,m))}else m=xe,m=Oo(l,l===Ge?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ya(l,m)||(r=!0,_y(l,m));l=l.next}while(r);ph=!1}}function nT(){vy()}function vy(){xl=mh=!1;var n=0;Mi!==0&&dT()&&(n=Mi);for(var i=Ue(),r=null,l=Tl;l!==null;){var h=l.next,m=by(l,i);m===0?(l.next=null,r===null?Tl=h:r.next=h,h===null&&(ha=r)):(r=l,(n!==0||(m&3)!==0)&&(xl=!0)),l=h}gt!==0&&gt!==5||Or(n),Mi!==0&&(Mi=0)}function by(n,i){for(var r=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var y=31-Qt(m),_=1<<y,D=h[y];D===-1?((_&r)===0||(_&l)!==0)&&(h[y]=OS(_,i)):D<=i&&(n.expiredLanes|=_),m&=~_}if(i=Ge,r=xe,r=Oo(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,r===0||n===i&&(Be===2||Be===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ln(l),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ya(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(l!==null&&Ln(l),ju(r)){case 2:case 8:r=Et;break;case 32:r=zt;break;case 268435456:r=Fa;break;default:r=zt}return l=wy.bind(null,n),r=Ze(r,l),n.callbackPriority=i,n.callbackNode=r,i}return l!==null&&l!==null&&Ln(l),n.callbackPriority=2,n.callbackNode=null,2}function wy(n,i){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(El()&&n.callbackNode!==r)return null;var l=xe;return l=Oo(n,n===Ge?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(ty(n,l,i),by(n,Ue()),n.callbackNode!=null&&n.callbackNode===r?wy.bind(null,n):null)}function _y(n,i){if(El())return null;ty(n,i,!0)}function iT(){pT(function(){(Me&6)!==0?Ze(ot,nT):vy()})}function gh(){if(Mi===0){var n=Xs;n===0&&(n=Co,Co<<=1,(Co&261888)===0&&(Co=256)),Mi=n}return Mi}function Sy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ko(""+n)}function Ey(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function sT(n,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var m=Sy((h[Vt]||null).action),y=l.submitter;y&&(i=(i=y[Vt]||null)?Sy(i.formAction):y.getAttribute("formAction"),i!==null&&(m=i,y=null));var _=new Bo("action","action",null,l,h);n.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Mi!==0){var D=y?Ey(h,y):new FormData(h);Lc(r,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(_.preventDefault(),D=y?Ey(h,y):new FormData(h),Lc(r,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var yh=0;yh<Zu.length;yh++){var vh=Zu[yh],aT=vh.toLowerCase(),rT=vh[0].toUpperCase()+vh.slice(1);An(aT,"on"+rT)}An(ep,"onAnimationEnd"),An(tp,"onAnimationIteration"),An(np,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(SE,"onTransitionRun"),An(EE,"onTransitionStart"),An(TE,"onTransitionCancel"),An(ip,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jr));function Ty(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var l=n[r],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var y=l.length-1;0<=y;y--){var _=l[y],D=_.instance,P=_.currentTarget;if(_=_.listener,D!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=P;try{m(h)}catch(Y){Vo(Y)}h.currentTarget=null,m=D}else for(y=0;y<l.length;y++){if(_=l[y],D=_.instance,P=_.currentTarget,_=_.listener,D!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=P;try{m(h)}catch(Y){Vo(Y)}h.currentTarget=null,m=D}}}}function Te(n,i){var r=i[Du];r===void 0&&(r=i[Du]=new Set);var l=n+"__bubble";r.has(l)||(xy(i,n,2,!1),r.add(l))}function bh(n,i,r){var l=0;i&&(l|=4),xy(r,n,l,i)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function wh(n){if(!n[Cl]){n[Cl]=!0,vm.forEach(function(r){r!=="selectionchange"&&(oT.has(r)||bh(r,!1,n),bh(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Cl]||(i[Cl]=!0,bh("selectionchange",!1,i))}}function xy(n,i,r,l){switch(ev(i)){case 2:var h=UT;break;case 8:h=LT;break;default:h=Uh}r=h.bind(null,i,r,n),h=void 0,!Vu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,r,{capture:!0,passive:h}):n.addEventListener(i,r,!0):h!==void 0?n.addEventListener(i,r,{passive:h}):n.addEventListener(i,r,!1)}function _h(n,i,r,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var _=l.stateNode.containerInfo;if(_===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;_!==null;){if(y=ks(_),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=m=y;continue e}_=_.parentNode}}l=l.return}jm(function(){var P=m,Y=Pu(r),J=[];e:{var I=sp.get(n);if(I!==void 0){var H=Bo,ie=n;switch(n){case"keypress":if(Uo(r)===0)break e;case"keydown":case"keyup":H=eE;break;case"focusin":ie="focus",H=$u;break;case"focusout":ie="blur",H=$u;break;case"beforeblur":case"afterblur":H=$u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=qS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=iE;break;case ep:case tp:case np:H=GS;break;case ip:H=aE;break;case"scroll":case"scrollend":H=VS;break;case"wheel":H=oE;break;case"copy":case"cut":case"paste":H=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Um;break;case"toggle":case"beforetoggle":H=uE}var fe=(i&4)!==0,$e=!fe&&(n==="scroll"||n==="scrollend"),U=fe?I!==null?I+"Capture":null:I;fe=[];for(var M=P,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Wa(M,U),X!=null&&fe.push(Dr(M,X,B))),$e)break;M=M.return}0<fe.length&&(I=new H(I,ie,null,r,Y),J.push({event:I,listeners:fe}))}}if((i&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",I&&r!==Bu&&(ie=r.relatedTarget||r.fromElement)&&(ks(ie)||ie[Ns]))break e;if((H||I)&&(I=Y.window===Y?Y:(I=Y.ownerDocument)?I.defaultView||I.parentWindow:window,H?(ie=r.relatedTarget||r.toElement,H=P,ie=ie?ks(ie):null,ie!==null&&($e=u(ie),fe=ie.tag,ie!==$e||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(H=null,ie=P),H!==ie)){if(fe=km,X="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(fe=Um,X="onPointerLeave",U="onPointerEnter",M="pointer"),$e=H==null?I:Ja(H),B=ie==null?I:Ja(ie),I=new fe(X,M+"leave",H,r,Y),I.target=$e,I.relatedTarget=B,X=null,ks(Y)===P&&(fe=new fe(U,M+"enter",ie,r,Y),fe.target=B,fe.relatedTarget=$e,X=fe),$e=X,H&&ie)t:{for(fe=lT,U=H,M=ie,B=0,X=U;X;X=fe(X))B++;X=0;for(var ue=M;ue;ue=fe(ue))X++;for(;0<B-X;)U=fe(U),B--;for(;0<X-B;)M=fe(M),X--;for(;B--;){if(U===M||M!==null&&U===M.alternate){fe=U;break t}U=fe(U),M=fe(M)}fe=null}else fe=null;H!==null&&Cy(J,I,H,fe,!1),ie!==null&&$e!==null&&Cy(J,$e,ie,fe,!0)}}e:{if(I=P?Ja(P):window,H=I.nodeName&&I.nodeName.toLowerCase(),H==="select"||H==="input"&&I.type==="file")var Ne=Hm;else if(Im(I))if($m)Ne=bE;else{Ne=yE;var ae=gE}else H=I.nodeName,!H||H.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?P&&Lu(P.elementType)&&(Ne=Hm):Ne=vE;if(Ne&&(Ne=Ne(n,P))){qm(J,Ne,r,Y);break e}ae&&ae(n,I,P),n==="focusout"&&P&&I.type==="number"&&P.memoizedProps.value!=null&&Uu(I,"number",I.value)}switch(ae=P?Ja(P):window,n){case"focusin":(Im(ae)||ae.contentEditable==="true")&&(qs=ae,Xu=P,rr=null);break;case"focusout":rr=Xu=qs=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Wm(J,r,Y);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Wm(J,r,Y)}var Se;if(Ku)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Is?zm(n,r)&&(Ce="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(Lm&&r.locale!=="ko"&&(Is||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Is&&(Se=Dm()):(vi=Y,Iu="value"in vi?vi.value:vi.textContent,Is=!0)),ae=Al(P,Ce),0<ae.length&&(Ce=new Mm(Ce,n,null,r,Y),J.push({event:Ce,listeners:ae}),Se?Ce.data=Se:(Se=Vm(r),Se!==null&&(Ce.data=Se)))),(Se=hE?fE(n,r):dE(n,r))&&(Ce=Al(P,"onBeforeInput"),0<Ce.length&&(ae=new Mm("onBeforeInput","beforeinput",null,r,Y),J.push({event:ae,listeners:Ce}),ae.data=Se)),sT(J,n,P,r,Y)}Ty(J,i)})}function Dr(n,i,r){return{instance:n,listener:i,currentTarget:r}}function Al(n,i){for(var r=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Wa(n,r),h!=null&&l.unshift(Dr(n,h,m)),h=Wa(n,i),h!=null&&l.push(Dr(n,h,m))),n.tag===3)return l;n=n.return}return[]}function lT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Cy(n,i,r,l,h){for(var m=i._reactName,y=[];r!==null&&r!==l;){var _=r,D=_.alternate,P=_.stateNode;if(_=_.tag,D!==null&&D===l)break;_!==5&&_!==26&&_!==27||P===null||(D=P,h?(P=Wa(r,m),P!=null&&y.unshift(Dr(r,P,D))):h||(P=Wa(r,m),P!=null&&y.push(Dr(r,P,D)))),r=r.return}y.length!==0&&n.push({event:i,listeners:y})}var uT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function Ay(n){return(typeof n=="string"?n:""+n).replace(uT,`
`).replace(cT,"")}function Ry(n,i){return i=Ay(i),Ay(n)===i}function He(n,i,r,l,h,m){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ps(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ps(n,""+l);break;case"className":Do(n,"class",l);break;case"tabIndex":Do(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Do(n,r,l);break;case"style":Rm(n,l,m);break;case"data":if(i!=="object"){Do(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=ko(""+l),n.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&He(n,i,"name",h.name,h,null),He(n,i,"formEncType",h.formEncType,h,null),He(n,i,"formMethod",h.formMethod,h,null),He(n,i,"formTarget",h.formTarget,h,null)):(He(n,i,"encType",h.encType,h,null),He(n,i,"method",h.method,h,null),He(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=ko(""+l),n.setAttribute(r,l);break;case"onClick":l!=null&&(n.onclick=$n);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}r=ko(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""+l):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":l===!0?n.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,l):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(r,l):n.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(r):n.setAttribute(r,l);break;case"popover":Te("beforetoggle",n),Te("toggle",n),jo(n,"popover",l);break;case"xlinkActuate":Hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Hn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Hn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Hn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Hn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=PS.get(r)||r,jo(n,r,l))}}function Sh(n,i,r,l,h,m){switch(r){case"style":Rm(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof l=="string"?Ps(n,l):(typeof l=="number"||typeof l=="bigint")&&Ps(n,""+l);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"onClick":l!=null&&(n.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bm.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),m=n[Vt]||null,m=m!=null?m[r]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,l,h);break e}r in n?n[r]=l:l===!0?n.setAttribute(r,""):jo(n,r,l)}}}function Rt(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",n),Te("load",n);var l=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var y=r[m];if(y!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:He(n,i,m,y,r,null)}}h&&He(n,i,"srcSet",r.srcSet,r,null),l&&He(n,i,"src",r.src,r,null);return;case"input":Te("invalid",n);var _=m=y=h=null,D=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":D=Y;break;case"defaultChecked":P=Y;break;case"value":m=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:He(n,i,l,Y,r,null)}}Tm(n,m,_,D,P,y,h,!1);return;case"select":Te("invalid",n),l=y=m=null;for(h in r)if(r.hasOwnProperty(h)&&(_=r[h],_!=null))switch(h){case"value":m=_;break;case"defaultValue":y=_;break;case"multiple":l=_;default:He(n,i,h,_,r,null)}i=m,r=y,n.multiple=!!l,i!=null?Bs(n,!!l,i,!1):r!=null&&Bs(n,!!l,r,!0);return;case"textarea":Te("invalid",n),m=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(_=r[y],_!=null))switch(y){case"value":l=_;break;case"defaultValue":h=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:He(n,i,y,_,r,null)}Cm(n,l,h,m);return;case"option":for(D in r)r.hasOwnProperty(D)&&(l=r[D],l!=null)&&(D==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":He(n,i,D,l,r,null));return;case"dialog":Te("beforetoggle",n),Te("toggle",n),Te("cancel",n),Te("close",n);break;case"iframe":case"object":Te("load",n);break;case"video":case"audio":for(l=0;l<jr.length;l++)Te(jr[l],n);break;case"image":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"embed":case"source":case"link":Te("error",n),Te("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:He(n,i,P,l,r,null)}return;default:if(Lu(i)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&Sh(n,i,Y,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&He(n,i,_,l,r,null))}function hT(n,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,y=null,_=null,D=null,P=null,Y=null;for(H in r){var J=r[H];if(r.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(H)||He(n,i,H,null,l,J)}}for(var I in l){var H=l[I];if(J=r[I],l.hasOwnProperty(I)&&(H!=null||J!=null))switch(I){case"type":m=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Y=H;break;case"value":y=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==J&&He(n,i,I,H,l,J)}}Mu(n,y,_,D,P,Y,m,h);return;case"select":H=y=_=I=null;for(m in r)if(D=r[m],r.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(m)||He(n,i,m,null,l,D)}for(h in l)if(m=l[h],D=r[h],l.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":I=m;break;case"defaultValue":_=m;break;case"multiple":y=m;default:m!==D&&He(n,i,h,m,l,D)}i=_,r=y,l=H,I!=null?Bs(n,!!r,I,!1):!!l!=!!r&&(i!=null?Bs(n,!!r,i,!0):Bs(n,!!r,r?[]:"",!1));return;case"textarea":H=I=null;for(_ in r)if(h=r[_],r.hasOwnProperty(_)&&h!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:He(n,i,_,null,l,h)}for(y in l)if(h=l[y],m=r[y],l.hasOwnProperty(y)&&(h!=null||m!=null))switch(y){case"value":I=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&He(n,i,y,h,l,m)}xm(n,I,H);return;case"option":for(var ie in r)I=r[ie],r.hasOwnProperty(ie)&&I!=null&&!l.hasOwnProperty(ie)&&(ie==="selected"?n.selected=!1:He(n,i,ie,null,l,I));for(D in l)I=l[D],H=r[D],l.hasOwnProperty(D)&&I!==H&&(I!=null||H!=null)&&(D==="selected"?n.selected=I&&typeof I!="function"&&typeof I!="symbol":He(n,i,D,I,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in r)I=r[fe],r.hasOwnProperty(fe)&&I!=null&&!l.hasOwnProperty(fe)&&He(n,i,fe,null,l,I);for(P in l)if(I=l[P],H=r[P],l.hasOwnProperty(P)&&I!==H&&(I!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:He(n,i,P,I,l,H)}return;default:if(Lu(i)){for(var $e in r)I=r[$e],r.hasOwnProperty($e)&&I!==void 0&&!l.hasOwnProperty($e)&&Sh(n,i,$e,void 0,l,I);for(Y in l)I=l[Y],H=r[Y],!l.hasOwnProperty(Y)||I===H||I===void 0&&H===void 0||Sh(n,i,Y,I,l,H);return}}for(var U in r)I=r[U],r.hasOwnProperty(U)&&I!=null&&!l.hasOwnProperty(U)&&He(n,i,U,null,l,I);for(J in l)I=l[J],H=r[J],!l.hasOwnProperty(J)||I===H||I==null&&H==null||He(n,i,J,I,l,H)}function Oy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],m=h.transferSize,y=h.initiatorType,_=h.duration;if(m&&_&&Oy(y)){for(y=0,_=h.responseEnd,l+=1;l<r.length;l++){var D=r[l],P=D.startTime;if(P>_)break;var Y=D.transferSize,J=D.initiatorType;Y&&Oy(J)&&(D=D.responseEnd,y+=Y*(D<_?1:(_-P)/(D-P)))}if(--l,i+=8*(m+y)/(h.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Eh=null,Th=null;function Rl(n){return n.nodeType===9?n:n.ownerDocument}function jy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function xh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ch=null;function dT(){var n=window.event;return n&&n.type==="popstate"?n===Ch?!1:(Ch=n,!0):(Ch=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(n){return ky.resolve(null).then(n).catch(gT)}:Ny;function gT(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function My(n,i){var r=i,l=0;do{var h=r.nextSibling;if(n.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){n.removeChild(h),pa(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Nr(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,Nr(r);for(var m=r.firstChild;m;){var y=m.nextSibling,_=m.nodeName;m[Xa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=y}}else r==="body"&&Nr(n.ownerDocument.body);r=h}while(r);pa(i)}function Uy(n,i){var r=n;n=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=l}while(r)}function Ah(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ah(r),Nu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function yT(n,i,r,l){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Xa])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=wn(n.nextSibling),n===null)break}return null}function vT(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=wn(n.nextSibling),n===null))return null;return n}function Ly(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=wn(n.nextSibling),n===null))return null;return n}function Rh(n){return n.data==="$?"||n.data==="$~"}function Oh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function bT(n,i){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function wn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var jh=null;function By(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(i===0)return wn(n.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}n=n.nextSibling}return null}function Py(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return n;i--}else r!=="/$"&&r!=="/&"||i++}n=n.previousSibling}return null}function zy(n,i,r){switch(i=Rl(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Nr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Nu(n)}var _n=new Map,Vy=new Set;function Ol(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ri=L.d;L.d={f:wT,r:_T,D:ST,C:ET,L:TT,m:xT,X:AT,S:CT,M:RT};function wT(){var n=ri.f(),i=wl();return n||i}function _T(n){var i=Ms(n);i!==null&&i.tag===5&&i.type==="form"?ig(i):ri.r(n)}var fa=typeof document>"u"?null:document;function Iy(n,i,r){var l=fa;if(l&&typeof i=="string"&&i){var h=dn(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Vy.has(h)||(Vy.add(h),n={rel:n,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Rt(i,"link",n),_t(i),l.head.appendChild(i)))}}function ST(n){ri.D(n),Iy("dns-prefetch",n,null)}function ET(n,i){ri.C(n,i),Iy("preconnect",n,i)}function TT(n,i,r){ri.L(n,i,r);var l=fa;if(l&&n&&i){var h='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+dn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+dn(r.imageSizes)+'"]')):h+='[href="'+dn(n)+'"]';var m=h;switch(i){case"style":m=da(n);break;case"script":m=ma(n)}_n.has(m)||(n=v({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),_n.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(kr(m))||i==="script"&&l.querySelector(Mr(m))||(i=l.createElement("link"),Rt(i,"link",n),_t(i),l.head.appendChild(i)))}}function xT(n,i){ri.m(n,i);var r=fa;if(r&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ma(n)}if(!_n.has(m)&&(n=v({rel:"modulepreload",href:n},i),_n.set(m,n),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Mr(m)))return}l=r.createElement("link"),Rt(l,"link",n),_t(l),r.head.appendChild(l)}}}function CT(n,i,r){ri.S(n,i,r);var l=fa;if(l&&n){var h=Us(l).hoistableStyles,m=da(n);i=i||"default";var y=h.get(m);if(!y){var _={loading:0,preload:null};if(y=l.querySelector(kr(m)))_.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},r),(r=_n.get(m))&&Dh(n,r);var D=y=l.createElement("link");_t(D),Rt(D,"link",n),D._p=new Promise(function(P,Y){D.onload=P,D.onerror=Y}),D.addEventListener("load",function(){_.loading|=1}),D.addEventListener("error",function(){_.loading|=2}),_.loading|=4,jl(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:_},h.set(m,y)}}}function AT(n,i){ri.X(n,i);var r=fa;if(r&&n){var l=Us(r).hoistableScripts,h=ma(n),m=l.get(h);m||(m=r.querySelector(Mr(h)),m||(n=v({src:n,async:!0},i),(i=_n.get(h))&&Nh(n,i),m=r.createElement("script"),_t(m),Rt(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function RT(n,i){ri.M(n,i);var r=fa;if(r&&n){var l=Us(r).hoistableScripts,h=ma(n),m=l.get(h);m||(m=r.querySelector(Mr(h)),m||(n=v({src:n,async:!0,type:"module"},i),(i=_n.get(h))&&Nh(n,i),m=r.createElement("script"),_t(m),Rt(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function qy(n,i,r,l){var h=(h=le.current)?Ol(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=da(r.href),r=Us(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=da(r.href);var m=Us(h).hoistableStyles,y=m.get(n);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,y),(m=h.querySelector(kr(n)))&&!m._p&&(y.instance=m,y.state.loading=5),_n.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_n.set(n,r),m||OT(h,n,r,y.state))),i&&l===null)throw Error(a(528,""));return y}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ma(r),r=Us(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function da(n){return'href="'+dn(n)+'"'}function kr(n){return'link[rel="stylesheet"]['+n+"]"}function Hy(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function OT(n,i,r,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Rt(i,"link",r),_t(i),n.head.appendChild(i))}function ma(n){return'[src="'+dn(n)+'"]'}function Mr(n){return"script[async]"+n}function $y(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+dn(r.href)+'"]');if(l)return i.instance=l,_t(l),l;var h=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),Rt(l,"style",h),jl(l,r.precedence,n),i.instance=l;case"stylesheet":h=da(r.href);var m=n.querySelector(kr(h));if(m)return i.state.loading|=4,i.instance=m,_t(m),m;l=Hy(r),(h=_n.get(h))&&Dh(l,h),m=(n.ownerDocument||n).createElement("link"),_t(m);var y=m;return y._p=new Promise(function(_,D){y.onload=_,y.onerror=D}),Rt(m,"link",l),i.state.loading|=4,jl(m,r.precedence,n),i.instance=m;case"script":return m=ma(r.src),(h=n.querySelector(Mr(m)))?(i.instance=h,_t(h),h):(l=r,(h=_n.get(m))&&(l=v({},r),Nh(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),_t(h),Rt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jl(l,r.precedence,n));return i.instance}function jl(n,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,y=0;y<l.length;y++){var _=l[y];if(_.dataset.precedence===i)m=_;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Dh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Nh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Dl=null;function Gy(n,i,r){if(Dl===null){var l=new Map,h=Dl=new Map;h.set(r,l)}else h=Dl,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(n))return l;for(l.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var m=r[h];if(!(m[Xa]||m[Tt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(i)||"";y=n+y;var _=l.get(y);_?_.push(m):l.set(y,[m])}}return l}function Ky(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function jT(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function DT(n,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=da(l.href),m=i.querySelector(kr(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Nl.bind(n),i.then(n,n)),r.state.loading|=4,r.instance=m,_t(m);return}m=i.ownerDocument||i,l=Hy(l),(h=_n.get(h))&&Dh(l,h),m=m.createElement("link"),_t(m);var y=m;y._p=new Promise(function(_,D){y.onload=_,y.onerror=D}),Rt(m,"link",l),r.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=Nl.bind(n),i.addEventListener("load",r),i.addEventListener("error",r))}}var kh=0;function NT(n,i){return n.stylesheets&&n.count===0&&Ml(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var l=setTimeout(function(){if(n.stylesheets&&Ml(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&kh===0&&(kh=62500*fT());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ml(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>kh?50:800)+i);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ml(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var kl=null;function Ml(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,kl=new Map,i.forEach(kT,n),kl=null,Nl.call(n))}function kT(n,i){if(!(i.state.loading&4)){var r=kl.get(n);if(r)var l=r.get(null);else{r=new Map,kl.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var y=h[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),m=r.get(y)||l,m===l&&r.set(null,h),r.set(y,h),this.count++,l=Nl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ur={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function MT(n,i,r,l,h,m,y,_,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ru(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.hiddenUpdates=Ru(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Yy(n,i,r,l,h,m,y,_,D,P,Y,J){return n=new MT(n,i,r,y,D,P,Y,J,_),i=1,m===!0&&(i|=24),m=Jt(3,null,null,i),n.current=m,m.stateNode=n,i=fc(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:i},gc(m),n}function Qy(n){return n?(n=Gs,n):Gs}function Xy(n,i,r,l,h,m){h=Qy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ti(i),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=xi(n,l,i),r!==null&&(Kt(r,n,i),dr(r,n,i))}function Jy(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Mh(n,i){Jy(n,i),(n=n.alternate)&&Jy(n,i)}function Wy(n){if(n.tag===13||n.tag===31){var i=ns(n,67108864);i!==null&&Kt(i,n,67108864),Mh(n,67108864)}}function Zy(n){if(n.tag===13||n.tag===31){var i=nn();i=Ou(i);var r=ns(n,i);r!==null&&Kt(r,n,i),Mh(n,i)}}var Ul=!0;function UT(n,i,r,l){var h=G.T;G.T=null;var m=L.p;try{L.p=2,Uh(n,i,r,l)}finally{L.p=m,G.T=h}}function LT(n,i,r,l){var h=G.T;G.T=null;var m=L.p;try{L.p=8,Uh(n,i,r,l)}finally{L.p=m,G.T=h}}function Uh(n,i,r,l){if(Ul){var h=Lh(l);if(h===null)_h(n,i,l,Ll,r),tv(n,l);else if(PT(h,n,i,r,l))l.stopPropagation();else if(tv(n,l),i&4&&-1<BT.indexOf(n)){for(;h!==null;){var m=Ms(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Ji(m.pendingLanes);if(y!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var D=1<<31-Qt(y);_.entanglements[1]|=D,y&=~D}Vn(m),(Me&6)===0&&(vl=Ue()+500,Or(0))}}break;case 31:case 13:_=ns(m,2),_!==null&&Kt(_,m,2),wl(),Mh(m,2)}if(m=Lh(l),m===null&&_h(n,i,l,Ll,r),m===h)break;h=m}h!==null&&l.stopPropagation()}else _h(n,i,l,null,r)}}function Lh(n){return n=Pu(n),Bh(n)}var Ll=null;function Bh(n){if(Ll=null,n=ks(n),n!==null){var i=u(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=c(i),n!==null)return n;n=null}else if(r===31){if(n=f(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ll=n,null}function ev(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case ot:return 2;case Et:return 8;case zt:case Ka:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var Ph=!1,Li=null,Bi=null,Pi=null,Lr=new Map,Br=new Map,zi=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(n,i){switch(n){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Lr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(i.pointerId)}}function Pr(n,i,r,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Ms(i),i!==null&&Wy(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function PT(n,i,r,l,h){switch(i){case"focusin":return Li=Pr(Li,n,i,r,l,h),!0;case"dragenter":return Bi=Pr(Bi,n,i,r,l,h),!0;case"mouseover":return Pi=Pr(Pi,n,i,r,l,h),!0;case"pointerover":var m=h.pointerId;return Lr.set(m,Pr(Lr.get(m)||null,n,i,r,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Br.set(m,Pr(Br.get(m)||null,n,i,r,l,h)),!0}return!1}function nv(n){var i=ks(n.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){n.blockedOn=i,gm(n.priority,function(){Zy(r)});return}}else if(i===31){if(i=f(r),i!==null){n.blockedOn=i,gm(n.priority,function(){Zy(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Lh(n.nativeEvent);if(r===null){r=n.nativeEvent;var l=new r.constructor(r.type,r);Bu=l,r.target.dispatchEvent(l),Bu=null}else return i=Ms(r),i!==null&&Wy(i),n.blockedOn=r,!1;i.shift()}return!0}function iv(n,i,r){Bl(n)&&r.delete(i)}function zT(){Ph=!1,Li!==null&&Bl(Li)&&(Li=null),Bi!==null&&Bl(Bi)&&(Bi=null),Pi!==null&&Bl(Pi)&&(Pi=null),Lr.forEach(iv),Br.forEach(iv)}function Pl(n,i){n.blockedOn===i&&(n.blockedOn=null,Ph||(Ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zT)))}var zl=null;function sv(n){zl!==n&&(zl=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zl===n&&(zl=null);for(var i=0;i<n.length;i+=3){var r=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Bh(l||r)===null)continue;break}var m=Ms(r);m!==null&&(n.splice(i,3),i-=3,Lc(m,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function pa(n){function i(D){return Pl(D,n)}Li!==null&&Pl(Li,n),Bi!==null&&Pl(Bi,n),Pi!==null&&Pl(Pi,n),Lr.forEach(i),Br.forEach(i);for(var r=0;r<zi.length;r++){var l=zi[r];l.blockedOn===n&&(l.blockedOn=null)}for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)nv(r),r.blockedOn===null&&zi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],m=r[l+1],y=h[Vt]||null;if(typeof m=="function")y||sv(r);else if(y){var _=null;if(m&&m.hasAttribute("formAction")){if(h=m,y=m[Vt]||null)_=y.formAction;else if(Bh(h)!==null)continue}else _=y.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),sv(r)}}}function av(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zh(n){this._internalRoot=n}Vl.prototype.render=zh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=nn();Xy(r,l,n,i,null,null)},Vl.prototype.unmount=zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Xy(n.current,2,null,n,null,null),wl(),i[Ns]=null}};function Vl(n){this._internalRoot=n}Vl.prototype.unstable_scheduleHydration=function(n){if(n){var i=pm();n={blockedOn:null,target:n,priority:i};for(var r=0;r<zi.length&&i!==0&&i<zi[r].priority;r++);zi.splice(r,0,n),r===0&&nv(n)}};var rv=t.version;if(rv!=="19.2.3")throw Error(a(527,rv,"19.2.3"));L.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var VT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Cn=Il.inject(VT),kt=Il}catch{}}return Vr.createRoot=function(n,i){if(!o(n))throw Error(a(299));var r=!1,l="",h=dg,m=mg,y=pg;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Yy(n,1,!1,null,null,r,l,null,h,m,y,av),n[Ns]=i.current,wh(n),new zh(i)},Vr.hydrateRoot=function(n,i,r){if(!o(n))throw Error(a(299));var l=!1,h="",m=dg,y=mg,_=pg,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),i=Yy(n,1,!0,i,r??null,l,h,D,m,y,_,av),i.context=Qy(null),r=i.current,l=nn(),l=Ou(l),h=Ti(l),h.callback=null,xi(r,h,l),r=l,i.current.lanes=r,Qa(i,r),Vn(i),n[Ns]=i.current,wh(n),new Vl(i)},Vr.version="19.2.3",Vr}var gv;function XT(){if(gv)return qh.exports;gv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qh.exports=QT(),qh.exports}var JT=XT();var yv="popstate";function WT(e={}){function t(o,u){let{pathname:c="/",search:f="",hash:d=""}=Ds(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_f("",{pathname:c,search:f,hash:d},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(o,u){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let d=o.location.href,p=d.indexOf("#");f=p===-1?d:d.slice(0,p)}return f+"#"+(typeof u=="string"?u:Zr(u))}function a(o,u){on(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ex(t,s,a,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function on(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZT(){return Math.random().toString(36).substring(2,10)}function vv(e,t){return{usr:e.state,key:e.key,idx:t}}function _f(e,t,s=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ds(t):t,state:s,key:t&&t.key||a||ZT()}}function Zr({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ds(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function ex(e,t,s,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,f="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let O=g(),R=O==null?null:O-p;p=O,d&&d({action:f,location:T.location,delta:R})}function b(O,R){f="PUSH";let N=_f(T.location,O,R);s&&s(N,O),p=g()+1;let C=vv(N,p),z=T.createHref(N);try{c.pushState(C,"",z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(z)}u&&d&&d({action:f,location:T.location,delta:1})}function w(O,R){f="REPLACE";let N=_f(T.location,O,R);s&&s(N,O),p=g();let C=vv(N,p),z=T.createHref(N);c.replaceState(C,"",z),u&&d&&d({action:f,location:T.location,delta:0})}function E(O){return tx(O)}let T={get action(){return f},get location(){return e(o,c)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,v),d=O,()=>{o.removeEventListener(yv,v),d=null}},createHref(O){return t(o,O)},createURL:E,encodeLocation(O){let R=E(O);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:w,go(O){return c.go(O)}};return T}function tx(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),We(s,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Zr(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function Vb(e,t,s="/"){return nx(e,t,s,!1)}function nx(e,t,s,a){let o=typeof t=="string"?Ds(t):t,u=ci(o.pathname||"/",s);if(u==null)return null;let c=Ib(e);ix(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=mx(u);f=fx(c[d],p,a)}return f}function Ib(e,t=[],s=[],a="",o=!1){let u=(c,f,d=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&d)return;We(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let v=ui([a,g.relativePath]),b=s.concat(g);c.children&&c.children.length>0&&(We(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ib(c.children,t,b,v,d)),!(c.path==null&&!c.index)&&t.push({path:v,score:cx(v,c.index),routesMeta:b})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let d of qb(c.path))u(c,f,!0,d)}),t}function qb(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=qb(a.join("/")),f=[];return f.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&f.push(...c),f.map(d=>e.startsWith("/")&&d===""?"/":d)}function ix(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:hx(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var sx=/^:[\w-]+$/,ax=3,rx=2,ox=1,lx=10,ux=-2,bv=e=>e==="*";function cx(e,t){let s=e.split("/"),a=s.length;return s.some(bv)&&(a+=ux),t&&(a+=rx),s.filter(o=>!bv(o)).reduce((o,u)=>o+(sx.test(u)?ax:u===""?ox:lx),a)}function hx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function fx(e,t,s=!1){let{routesMeta:a}=e,o={},u="/",c=[];for(let f=0;f<a.length;++f){let d=a[f],p=f===a.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=ou({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!v&&p&&s&&!a[a.length-1].route.index&&(v=ou({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:ui([u,v.pathname]),pathnameBase:vx(ui([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=ui([u,v.pathnameBase]))}return c}function ou(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=dx(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let E=f[b]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=f[b];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:e}}function dx(e,t=!1,s=!0){on(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(a.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return on(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ci(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}var Hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=e=>Hb.test(e);function gx(e,t="/"){let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?Ds(e):e,u;if(s)if(px(s))u=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),on(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${s}`)}s.startsWith("/")?u=wv(s.substring(1),"/"):u=wv(s,t)}else u=t;return{pathname:u,search:bx(a),hash:wx(o)}}function wv(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Kh(e,t,s,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yx(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function dd(e){let t=yx(e);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function md(e,t,s,a=!1){let o;typeof e=="string"?o=Ds(e):(o={...e},We(!o.pathname||!o.pathname.includes("?"),Kh("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),Kh("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),Kh("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=s;else{let v=t.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}f=v>=0?t[v]:"/"}let d=gx(o,f),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ui=e=>e.join("/").replace(/\/\/+/g,"/"),vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,_x=class{constructor(e,t,s,a=!1){this.status=e,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Sx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Ex(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gb(e,t){let s=e;if(typeof s!="string"||!Hb.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,o=!1;if($b)try{let u=new URL(window.location.href),c=s.startsWith("//")?new URL(u.protocol+s):new URL(s),f=ci(c.pathname,t);c.origin===u.origin&&f!=null?s=f+c.search+c.hash:o=!0}catch{on(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kb=["POST","PUT","PATCH","DELETE"];new Set(Kb);var Tx=["GET",...Kb];new Set(Tx);var Pa=x.createContext(null);Pa.displayName="DataRouter";var vu=x.createContext(null);vu.displayName="DataRouterState";var xx=x.createContext(!1),Fb=x.createContext({isTransitioning:!1});Fb.displayName="ViewTransition";var Cx=x.createContext(new Map);Cx.displayName="Fetchers";var Ax=x.createContext(null);Ax.displayName="Await";var ln=x.createContext(null);ln.displayName="Navigation";var go=x.createContext(null);go.displayName="Location";var Un=x.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var pd=x.createContext(null);pd.displayName="RouteError";var Yb="REACT_ROUTER_ERROR",Rx="REDIRECT",Ox="ROUTE_ERROR_RESPONSE";function jx(e){if(e.startsWith(`${Yb}:${Rx}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Dx(e){if(e.startsWith(`${Yb}:${Ox}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new _x(t.status,t.statusText,t.data)}catch{}}function Nx(e,{relative:t}={}){We(za(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=x.useContext(ln),{hash:o,pathname:u,search:c}=yo(e,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:ui([s,u])),a.createHref({pathname:f,search:c,hash:o})}function za(){return x.useContext(go)!=null}function di(){return We(za(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(go).location}var Qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xb(e){x.useContext(ln).static||x.useLayoutEffect(e)}function Va(){let{isDataRoute:e}=x.useContext(Un);return e?Kx():kx()}function kx(){We(za(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Pa),{basename:t,navigator:s}=x.useContext(ln),{matches:a}=x.useContext(Un),{pathname:o}=di(),u=JSON.stringify(dd(a)),c=x.useRef(!1);return Xb(()=>{c.current=!0}),x.useCallback((d,p={})=>{if(on(c.current,Qb),!c.current)return;if(typeof d=="number"){s.go(d);return}let g=md(d,JSON.parse(u),o,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ui([t,g.pathname])),(p.replace?s.replace:s.push)(g,p.state,p)},[t,s,u,o,e])}x.createContext(null);function Mx(){let{matches:e}=x.useContext(Un),t=e[e.length-1];return t?t.params:{}}function yo(e,{relative:t}={}){let{matches:s}=x.useContext(Un),{pathname:a}=di(),o=JSON.stringify(dd(s));return x.useMemo(()=>md(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function Ux(e,t){return Jb(e,t)}function Jb(e,t,s,a,o){We(za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=x.useContext(ln),{matches:c}=x.useContext(Un),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let N=v&&v.path||"";Zb(p,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=di(),w;if(t){let N=typeof t=="string"?Ds(t):t;We(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=b;let E=w.pathname||"/",T=E;if(g!=="/"){let N=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let O=Vb(e,{pathname:T});on(v||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),on(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Vx(O&&O.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ui([g,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ui([g,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,s,a,o);return t&&R?x.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function Lx(){let e=Gx(),t=Sx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),s?x.createElement("pre",{style:o},s):null,c)}var Bx=x.createElement(Lx,null),Wb=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=Dx(e.digest);s&&(e=s)}let t=e!==void 0?x.createElement(Un.Provider,{value:this.props.routeContext},x.createElement(pd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(Px,{error:e},t):t}};Wb.contextType=xx;var Fh=new WeakMap;function Px({children:e,error:t}){let{basename:s}=x.useContext(ln);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=jx(t.digest);if(a){let o=Fh.get(t);if(o)throw o;let u=Gb(a.location,s);if($b&&!Fh.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Fh.set(t,c),c}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function zx({routeContext:e,match:t,children:s}){let a=x.useContext(Pa);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Un.Provider,{value:e},s)}function Vx(e,t=[],s=null,a=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let u=e,c=s?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);We(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,d=-1;if(s)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:b,errors:w}=s,E=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||E){f=!0,d>=0?u=u.slice(0,d+1):u=[u[0]];break}}}let p=s&&a?(g,v)=>{a(g,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Ex(s.matches),errorInfo:v})}:void 0;return u.reduceRight((g,v,b)=>{let w,E=!1,T=null,O=null;s&&(w=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||Bx,f&&(d<0&&b===0?(Zb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):d===b&&(E=!0,O=v.route.hydrateFallbackElement||null)));let R=t.concat(u.slice(0,b+1)),N=()=>{let C;return w?C=T:E?C=O:v.route.Component?C=x.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=g,x.createElement(zx,{match:v,routeContext:{outlet:g,matches:R,isDataRoute:s!=null},children:C})};return s&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?x.createElement(Wb,{location:s.location,revalidation:s.revalidation,component:T,error:w,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:p}):N()},null)}function gd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ix(e){let t=x.useContext(Pa);return We(t,gd(e)),t}function qx(e){let t=x.useContext(vu);return We(t,gd(e)),t}function Hx(e){let t=x.useContext(Un);return We(t,gd(e)),t}function yd(e){let t=Hx(e),s=t.matches[t.matches.length-1];return We(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function $x(){return yd("useRouteId")}function Gx(){let e=x.useContext(pd),t=qx("useRouteError"),s=yd("useRouteError");return e!==void 0?e:t.errors?.[s]}function Kx(){let{router:e}=Ix("useNavigate"),t=yd("useNavigate"),s=x.useRef(!1);return Xb(()=>{s.current=!0}),x.useCallback(async(o,u={})=>{on(s.current,Qb),s.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var _v={};function Zb(e,t,s){!t&&!_v[e]&&(_v[e]=!0,on(!1,s))}x.memo(Fx);function Fx({routes:e,future:t,state:s,onError:a}){return Jb(e,void 0,s,a,t)}function Yx({to:e,replace:t,state:s,relative:a}){We(za(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(ln);on(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(Un),{pathname:c}=di(),f=Va(),d=md(e,dd(u),c,a==="path"),p=JSON.stringify(d);return x.useEffect(()=>{f(JSON.parse(p),{replace:t,state:s,relative:a})},[f,p,a,t,s]),null}function Ea(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qx({basename:e="/",children:t=null,location:s,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){We(!za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof s=="string"&&(s=Ds(s));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=s,E=x.useMemo(()=>{let T=ci(p,f);return T==null?null:{location:{pathname:T,search:g,hash:v,state:b,key:w},navigationType:a}},[f,p,g,v,b,w,a]);return on(E!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(ln.Provider,{value:d},x.createElement(go.Provider,{children:t,value:E}))}function Xx({children:e,location:t}){return Ux(Sf(e),t)}function Sf(e,t=[]){let s=[];return x.Children.forEach(e,(a,o)=>{if(!x.isValidElement(a))return;let u=[...t,o];if(a.type===x.Fragment){s.push.apply(s,Sf(a.props.children,u));return}We(a.type===Ea,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Sf(a.props.children,u)),s.push(c)}),s}var Zl="get",eu="application/x-www-form-urlencoded";function bu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Jx(e){return bu(e)&&e.tagName.toLowerCase()==="button"}function Wx(e){return bu(e)&&e.tagName.toLowerCase()==="form"}function Zx(e){return bu(e)&&e.tagName.toLowerCase()==="input"}function eC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tC(e,t){return e.button===0&&(!t||t==="_self")&&!eC(e)}var ql=null;function nC(){if(ql===null)try{new FormData(document.createElement("form"),0),ql=!1}catch{ql=!0}return ql}var iC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(e){return e!=null&&!iC.has(e)?(on(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):e}function sC(e,t){let s,a,o,u,c;if(Wx(e)){let f=e.getAttribute("action");a=f?ci(f,t):null,s=e.getAttribute("method")||Zl,o=Yh(e.getAttribute("enctype"))||eu,u=new FormData(e)}else if(Jx(e)||Zx(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||f.getAttribute("action");if(a=d?ci(d,t):null,s=e.getAttribute("formmethod")||f.getAttribute("method")||Zl,o=Yh(e.getAttribute("formenctype"))||Yh(f.getAttribute("enctype"))||eu,u=new FormData(f,e),!nC()){let{name:p,type:g,value:v}=e;if(g==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,v)}}else{if(bu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Zl,a=null,o=eu,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aC(e,t,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&ci(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function rC(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lC(e,t,s){let a=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await rC(u,s);return c.links?c.links():[]}return[]}));return fC(a.flat(1).filter(oC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sv(e,t,s,a,o,u){let c=(d,p)=>s[p]?d.route.id!==s[p].route.id:!0,f=(d,p)=>s[p].pathname!==d.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==d.params["*"];return u==="assets"?t.filter((d,p)=>c(d,p)||f(d,p)):u==="data"?t.filter((d,p)=>{let g=a.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uC(e,t,{includeHydrateFallback:s}={}){return cC(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cC(e){return[...new Set(e)]}function hC(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}function fC(e,t){let s=new Set;return new Set(t),e.reduce((a,o)=>{let u=JSON.stringify(hC(o));return s.has(u)||(s.add(u),a.push({key:u,link:o})),a},[])}function ew(){let e=x.useContext(Pa);return vd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dC(){let e=x.useContext(vu);return vd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bd=x.createContext(void 0);bd.displayName="FrameworkContext";function tw(){let e=x.useContext(bd);return vd(e,"You must render this element inside a <HydratedRouter> element"),e}function mC(e,t){let s=x.useContext(bd),[a,o]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let T=R=>{R.forEach(N=>{c(N.isIntersecting)})},O=new IntersectionObserver(T,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[e]),x.useEffect(()=>{if(a){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[a]);let w=()=>{o(!0)},E=()=>{o(!1),c(!1)};return s?e!=="intent"?[u,b,{}]:[u,b,{onFocus:Ir(f,w),onBlur:Ir(d,E),onMouseEnter:Ir(p,w),onMouseLeave:Ir(g,E),onTouchStart:Ir(v,w)}]:[!1,b,{}]}function Ir(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function pC({page:e,...t}){let{router:s}=ew(),a=x.useMemo(()=>Vb(s.routes,e,s.basename),[s.routes,e,s.basename]);return a?x.createElement(yC,{page:e,matches:a,...t}):null}function gC(e){let{manifest:t,routeModules:s}=tw(),[a,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return lC(e,t,s).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,s]),a}function yC({page:e,matches:t,...s}){let a=di(),{manifest:o,routeModules:u}=tw(),{basename:c}=ew(),{loaderData:f,matches:d}=dC(),p=x.useMemo(()=>Sv(e,t,d,o,a,"data"),[e,t,d,o,a]),g=x.useMemo(()=>Sv(e,t,d,o,a,"assets"),[e,t,d,o,a]),v=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let E=new Set,T=!1;if(t.forEach(R=>{let N=o.routes[R.route.id];!N||!N.hasLoader||(!p.some(C=>C.route.id===R.route.id)&&R.route.id in f&&u[R.route.id]?.shouldRevalidate||N.hasClientLoader?T=!0:E.add(R.route.id))}),E.size===0)return[];let O=aC(e,c,"data");return T&&E.size>0&&O.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[O.pathname+O.search]},[c,f,a,o,p,t,e,u]),b=x.useMemo(()=>uC(g,o),[g,o]),w=gC(g);return x.createElement(x.Fragment,null,v.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),b.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),w.map(({key:E,link:T})=>x.createElement("link",{key:E,nonce:s.nonce,...T})))}function vC(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var bC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bC&&(window.__reactRouterVersion="7.11.0")}catch{}function wC({basename:e,children:t,unstable_useTransitions:s,window:a}){let o=x.useRef();o.current==null&&(o.current=WT({window:a,v5Compat:!0}));let u=o.current,[c,f]=x.useState({action:u.action,location:u.location}),d=x.useCallback(p=>{s===!1?f(p):x.startTransition(()=>f(p))},[s]);return x.useLayoutEffect(()=>u.listen(d),[u,d]),x.createElement(Qx,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:s})}var nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=x.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:f,target:d,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},E){let{basename:T,unstable_useTransitions:O}=x.useContext(ln),R=typeof p=="string"&&nw.test(p),N=Gb(p,T);p=N.to;let C=Nx(p,{relative:o}),[z,$,Q]=mC(a,w),q=TC(p,{replace:c,state:f,target:d,preventScrollReset:g,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:O});function A(K){t&&t(K),K.defaultPrevented||q(K)}let k=x.createElement("a",{...w,...Q,href:N.absoluteURL||C,onClick:N.isExternal||u?t:A,ref:vC(E,$),target:d,"data-discover":!R&&s==="render"?"true":void 0});return z&&!R?x.createElement(x.Fragment,null,k,x.createElement(pC,{page:C})):k});li.displayName="Link";var _C=x.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:f,children:d,...p},g){let v=yo(c,{relative:p.relative}),b=di(),w=x.useContext(vu),{navigator:E,basename:T}=x.useContext(ln),O=w!=null&&OC(v)&&f===!0,R=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,N=b.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(N=N.toLowerCase(),C=C?C.toLowerCase():null,R=R.toLowerCase()),C&&T&&(C=ci(C,T)||C);const z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let $=N===R||!o&&N.startsWith(R)&&N.charAt(z)==="/",Q=C!=null&&(C===R||!o&&C.startsWith(R)&&C.charAt(R.length)==="/"),q={isActive:$,isPending:Q,isTransitioning:O},A=$?t:void 0,k;typeof a=="function"?k=a(q):k=[a,$?"active":null,Q?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(q):u;return x.createElement(li,{...p,"aria-current":A,className:k,ref:g,style:K,to:c,viewTransition:f},typeof d=="function"?d(q):d)});_C.displayName="NavLink";var SC=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:o,state:u,method:c=Zl,action:f,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},E)=>{let{unstable_useTransitions:T}=x.useContext(ln),O=AC(),R=RC(f,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&nw.test(f),z=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let Q=$.nativeEvent.submitter,q=Q?.getAttribute("formmethod")||c,A=()=>O(Q||$.currentTarget,{fetcherKey:t,method:q,navigate:s,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b});T&&s!==!1?x.startTransition(()=>A()):A()};return x.createElement("form",{ref:E,method:N,action:R,onSubmit:a?d:z,...w,"data-discover":!C&&e==="render"?"true":void 0})});SC.displayName="Form";function EC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(e){let t=x.useContext(Pa);return We(t,EC(e)),t}function TC(e,{target:t,replace:s,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:d}={}){let p=Va(),g=di(),v=yo(e,{relative:u});return x.useCallback(b=>{if(tC(b,t)){b.preventDefault();let w=s!==void 0?s:Zr(g)===Zr(v),E=()=>p(e,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});d?x.startTransition(()=>E()):E()}},[g,p,v,s,a,t,e,o,u,c,f,d])}var xC=0,CC=()=>`__${String(++xC)}__`;function AC(){let{router:e}=iw("useSubmit"),{basename:t}=x.useContext(ln),s=$x(),a=e.fetch,o=e.navigate;return x.useCallback(async(u,c={})=>{let{action:f,method:d,encType:p,formData:g,body:v}=sC(u,t);if(c.navigate===!1){let b=c.fetcherKey||CC();await a(b,s,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,t,s])}function RC(e,{relative:t}={}){let{basename:s}=x.useContext(ln),a=x.useContext(Un);We(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...yo(e||".",{relative:t})},c=di();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:ui([s,u.pathname])),Zr(u)}function OC(e,{relative:t}={}){let s=x.useContext(Fb);We(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=iw("useViewTransitionState"),o=yo(e,{relative:t});if(!s.isTransitioning)return!1;let u=ci(s.currentLocation.pathname,a)||s.currentLocation.pathname,c=ci(s.nextLocation.pathname,a)||s.nextLocation.pathname;return ou(o.pathname,c)!=null||ou(o.pathname,u)!=null}var vo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},DC=class{#e=jC;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ss=new DC;function NC(e){setTimeout(e,0)}var Os=typeof window>"u"||"Deno"in globalThis;function Ft(){}function kC(e,t){return typeof e=="function"?e(t):e}function Ef(e){return typeof e=="number"&&e>=0&&e!==1/0}function sw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gi(e,t){return typeof e=="function"?e(t):e}function En(e,t){return typeof e=="function"?e(t):e}function Ev(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:u,queryKey:c,stale:f}=e;if(c){if(a){if(t.queryHash!==wd(c,t.options))return!1}else if(!to(t.queryKey,c))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||u&&!u(t))}function Tv(e,t){const{exact:s,status:a,predicate:o,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(eo(t.options.mutationKey)!==eo(u))return!1}else if(!to(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function wd(e,t){return(t?.queryKeyHashFn||eo)(e)}function eo(e){return JSON.stringify(e,(t,s)=>xf(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function to(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>to(e[s],t[s])):!1}var MC=Object.prototype.hasOwnProperty;function aw(e,t){if(e===t)return e;const s=xv(e)&&xv(t);if(!s&&!(xf(e)&&xf(t)))return t;const o=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),c=u.length,f=s?new Array(c):{};let d=0;for(let p=0;p<c;p++){const g=s?p:u[p],v=e[g],b=t[g];if(v===b){f[g]=v,(s?p<o:MC.call(e,g))&&d++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[g]=b;continue}const w=aw(v,b);f[g]=w,w===v&&d++}return o===c&&d===o?e:f}function Tf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function xv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xf(e){if(!Cv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Cv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cv(e){return Object.prototype.toString.call(e)==="[object Object]"}function UC(e){return new Promise(t=>{Ss.setTimeout(t,e)})}function Cf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?aw(e,t):t}function LC(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function BC(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var _d=Symbol();function rw(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===_d?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ow(e,t){return typeof e=="function"?e(...t):!!e}function PC(e,t,s){let a=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=t(),a||(a=!0,o.aborted?s():o.addEventListener("abort",s,{once:!0})),o)}),e}var zC=class extends vo{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Os&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Sd=new zC;function Af(){let e,t;const s=new Promise((o,u)=>{e=o,t=u});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}var VC=NC;function IC(){let e=[],t=0,s=f=>{f()},a=f=>{f()},o=VC;const u=f=>{t?e.push(f):o(()=>{s(f)})},c=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(d=>{s(d)})})})};return{batch:f=>{let d;t++;try{d=f()}finally{t--,t||c()}return d},batchCalls:f=>(...d)=>{u(()=>{f(...d)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var Nt=IC(),qC=class extends vo{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Os&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},lu=new qC;function HC(e){return Math.min(1e3*2**e,3e4)}function lw(e){return(e??"online")==="online"?lu.isOnline():!0}var Rf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function uw(e){let t=!1,s=0,a;const o=Af(),u=()=>o.status!=="pending",c=T=>{if(!u()){const O=new Rf(T);b(O),e.onCancel?.(O)}},f=()=>{t=!0},d=()=>{t=!1},p=()=>Sd.isFocused()&&(e.networkMode==="always"||lu.isOnline())&&e.canRun(),g=()=>lw(e.networkMode)&&e.canRun(),v=T=>{u()||(a?.(),o.resolve(T))},b=T=>{u()||(a?.(),o.reject(T))},w=()=>new Promise(T=>{a=O=>{(u()||p())&&T(O)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),E=()=>{if(u())return;let T;const O=s===0?e.initialPromise:void 0;try{T=O??e.fn()}catch(R){T=Promise.reject(R)}Promise.resolve(T).then(v).catch(R=>{if(u())return;const N=e.retry??(Os?0:3),C=e.retryDelay??HC,z=typeof C=="function"?C(s,R):C,$=N===!0||typeof N=="number"&&s<N||typeof N=="function"&&N(s,R);if(t||!$){b(R);return}s++,e.onFail?.(s,R),UC(z).then(()=>p()?void 0:w()).then(()=>{t?b(R):E()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:d,canStart:g,start:()=>(g()?E():w().then(E),o)}}var cw=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ef(this.gcTime)&&(this.#e=Ss.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Os?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ss.clearTimeout(this.#e),this.#e=void 0)}},$C=class extends cw{#e;#t;#n;#s;#i;#o;#r;constructor(e){super(),this.#r=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Rv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Rv(this.options);t.data!==void 0&&(this.setState(Av(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Cf(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>En(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_d||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!sw(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#r?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#r=!0,s.signal)})},o=()=>{const f=rw(this.options,t),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(g),g})();return this.#r=!1,this.options.persister?this.options.persister(f,p,this):f(p)},c=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#i=uw({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof Rf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,d)=>{this.#a({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const f=await this.#i.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Rf){if(f.silent)return this.#i.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...hw(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...Av(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function hw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Av(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Rv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var GC=class extends vo{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#r=Af(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#o;#r;#a;#p;#f;#d;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ov(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Of(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Of(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof En(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Tf(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&jv(this.#t,s,this.options,t)&&this.#h(),this.updateResult(),a&&(this.#t!==s||En(this.options.enabled,this.#t)!==En(t.enabled,this.#t)||Gi(this.options.staleTime,this.#t)!==Gi(t.staleTime,this.#t))&&this.#g();const o=this.#y();a&&(this.#t!==s||En(this.options.enabled,this.#t)!==En(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return FC(this,s)&&(this.#s=s,this.#o=this.options,this.#i=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(s,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ft)),t}#g(){this.#w();const e=Gi(this.options.staleTime,this.#t);if(Os||this.#s.isStale||!Ef(e))return;const s=sw(this.#s.dataUpdatedAt,e)+1;this.#u=Ss.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#_(),this.#l=e,!(Os||En(this.options.enabled,this.#t)===!1||!Ef(this.#l)||this.#l===0)&&(this.#c=Ss.setInterval(()=>{(this.options.refetchIntervalInBackground||Sd.isFocused())&&this.#h()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(Ss.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(Ss.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const s=this.#t,a=this.options,o=this.#s,u=this.#i,c=this.#o,d=e!==s?e.state:this.#n,{state:p}=e;let g={...p},v=!1,b;if(t._optimisticResults){const A=this.hasListeners(),k=!A&&Ov(e,t),K=A&&jv(e,s,t,a);(k||K)&&(g={...g,...hw(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:T}=g;b=g.data;let O=!1;if(t.placeholderData!==void 0&&b===void 0&&T==="pending"){let A;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(A=o.data,O=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,A!==void 0&&(T="success",b=Cf(o?.data,A,t),v=!0)}if(t.select&&b!==void 0&&!O)if(o&&b===u?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=Cf(o?.data,b,t),this.#f=b,this.#a=null}catch(A){this.#a=A}this.#a&&(w=this.#a,b=this.#f,E=Date.now(),T="error");const R=g.fetchStatus==="fetching",N=T==="pending",C=T==="error",z=N&&R,$=b!==void 0,q={status:T,fetchStatus:g.fetchStatus,isPending:N,isSuccess:T==="success",isError:C,isInitialLoading:z,isLoading:z,data:b,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:R,isRefetching:R&&!N,isLoadingError:C&&!$,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:C&&$,isStale:Ed(e,t),refetch:this.refetch,promise:this.#r,isEnabled:En(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=ee=>{q.status==="error"?ee.reject(q.error):q.data!==void 0&&ee.resolve(q.data)},k=()=>{const ee=this.#r=q.promise=Af();A(ee)},K=this.#r;switch(K.status){case"pending":e.queryHash===s.queryHash&&A(K);break;case"fulfilled":(q.status==="error"||q.data!==K.value)&&k();break;case"rejected":(q.status!=="error"||q.error!==K.reason)&&k();break}}return q}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#d=this.#t),Tf(t,e))return;this.#s=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(c=>{const f=c;return this.#s[f]!==e[f]&&u.has(f)})};this.#E({listeners:s()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function KC(e,t){return En(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ov(e,t){return KC(e,t)||e.state.data!==void 0&&Of(e,t,t.refetchOnMount)}function Of(e,t,s){if(En(t.enabled,e)!==!1&&Gi(t.staleTime,e)!=="static"){const a=typeof s=="function"?s(e):s;return a==="always"||a!==!1&&Ed(e,t)}return!1}function jv(e,t,s,a){return(e!==t||En(a.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Ed(e,s)}function Ed(e,t){return En(t.enabled,e)!==!1&&e.isStaleByTime(Gi(t.staleTime,e))}function FC(e,t){return!Tf(e.getCurrentResult(),t)}function Dv(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const p=async()=>{let g=!1;const v=E=>{PC(E,()=>t.signal,()=>g=!0)},b=rw(t.options,t.fetchOptions),w=async(E,T,O)=>{if(g)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:T,direction:O?"backward":"forward",meta:t.options.meta};return v(Q),Q})(),C=await b(N),{maxPages:z}=t.options,$=O?BC:LC;return{pages:$(E.pages,C,z),pageParams:$(E.pageParams,T,z)}};if(o&&u.length){const E=o==="backward",T=E?YC:Nv,O={pages:u,pageParams:c},R=T(a,O);f=await w(O,R,E)}else{const E=e??u.length;do{const T=d===0?c[0]??a.initialPageParam:Nv(a,f);if(d>0&&T==null)break;f=await w(f,T),d++}while(d<E)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=p}}}function Nv(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function YC(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var QC=class extends cw{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||XC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=uw({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#i({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)t();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,s);const c=await this.options.onMutate?.(e,s);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#i({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,s)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,e,this.state.context,s)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,s)}catch(c){Promise.reject(c)}throw this.#i({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nt.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function XC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JC=class extends vo{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new QC({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Hl(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Hl(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Hl(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Hl(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Tv(t,s))}findAll(e={}){return this.getAll().filter(t=>Tv(e,t))}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ft))))}};function Hl(e){return e.options.scope?.id}var WC=class extends vo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??wd(a,t);let u=this.get(o);return u||(u=new $C({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Ev(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Ev(e,s)):t}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ZC=class{#e;#t;#n;#s;#i;#o;#r;#a;constructor(e={}){this.#e=e.queryCache||new WC,this.#t=e.mutationCache||new JC,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#r=Sd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=lu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#r?.(),this.#r=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Gi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,c=kC(t,u);if(c!==void 0)return this.#e.build(this,a).setData(c,{...s,manual:!0})}setQueriesData(e,t,s){return Nt.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Nt.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Nt.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Nt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(Ft).catch(Ft)}invalidateQueries(e,t={}){return Nt.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Nt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,s);return s.throwOnError||(u=u.catch(Ft)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(Ft)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Gi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ft).catch(Ft)}fetchInfiniteQuery(e){return e.behavior=Dv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ft).catch(Ft)}ensureInfiniteQueryData(e){return e.behavior=Dv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(eo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{to(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#i.set(eo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{to(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_d&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fw=x.createContext(void 0),eA=e=>{const t=x.useContext(fw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tA=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(fw.Provider,{value:e,children:t})),dw=x.createContext(!1),nA=()=>x.useContext(dw);dw.Provider;function iA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sA=x.createContext(iA()),aA=()=>x.useContext(sA),rA=(e,t,s)=>{const a=s?.state.error&&typeof e.throwOnError=="function"?ow(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},oA=e=>{x.useEffect(()=>{e.clearReset()},[e])},lA=({result:e,errorResetBoundary:t,throwOnError:s,query:a,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(o&&e.data===void 0||ow(s,[e.error,a])),uA=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...o)=>s(a(...o)):s(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cA=(e,t)=>e.isLoading&&e.isFetching&&!t,hA=(e,t)=>e?.suspense&&t.isPending,kv=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function fA(e,t,s){const a=nA(),o=aA(),u=eA(),c=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const f=u.getQueryCache().get(c.queryHash);c._optimisticResults=a?"isRestoring":"optimistic",uA(c),rA(c,o,f),oA(o);const d=!u.getQueryCache().get(c.queryHash),[p]=x.useState(()=>new t(u,c)),g=p.getOptimisticResult(c),v=!a&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const w=v?p.subscribe(Nt.batchCalls(b)):Ft;return p.updateResult(),w},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),x.useEffect(()=>{p.setOptions(c)},[c,p]),hA(c,g))throw kv(c,p,o);if(lA({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:f,suspense:c.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!Os&&cA(g,a)&&(d?kv(c,p,o):f?.promise)?.catch(Ft).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?g:p.trackResult(g)}function dA(e,t){return fA(e,GC)}const mw=x.createContext({title:"QuartettNation",setTitle:()=>{},backTo:null,setBackTo:()=>{},customContent:null,setCustomContent:()=>{}}),mA=({children:e})=>{const[t,s]=x.useState("QuartettNation"),[a,o]=x.useState(null),[u,c]=x.useState(null);return S.jsx(mw.Provider,{value:{title:t,setTitle:s,backTo:a,setBackTo:o,customContent:u,setCustomContent:c},children:e})},Ia=()=>x.useContext(mw),Qe=({children:e,variant:t="primary",size:s="md",loading:a=!1,disabled:o=!1,fullWidth:u=!1,onClick:c,type:f="button",className:d="",...p})=>{const g=["btn",`btn-${t}`,`btn-${s}`,u&&"btn-full",a&&"btn-loading",d].filter(Boolean).join(" ");return S.jsxs("button",{type:f,className:g,disabled:o||a,onClick:c,...p,children:[a&&S.jsx("span",{className:"btn-spinner"}),S.jsx("span",{className:a?"btn-text-hidden":"",children:e})]})},Cs=({label:e,error:t,disabled:s=!1,fullWidth:a=!0,className:o="",...u})=>S.jsxs("div",{className:`input-wrapper ${a?"input-full":""} ${o}`,children:[e&&S.jsx("label",{className:"input-label",children:e}),S.jsx("input",{className:`input-field ${t?"input-error":""}`,disabled:s,...u}),t&&S.jsx("span",{className:"input-error-text",children:t})]}),pA=({open:e,onClose:t,title:s,children:a})=>(x.useEffect(()=>{const o=u=>{u.key==="Escape"&&t?.()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[e,t]),e?S.jsx("div",{className:"modal-overlay",onClick:t,children:S.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[s&&S.jsx("h3",{className:"modal-title",children:s}),S.jsx("button",{className:"modal-close",onClick:t,children:""})]}),S.jsx("div",{className:"modal-body",children:a})]})}):null),gA=({size:e="md",className:t=""})=>S.jsx("div",{className:`spinner spinner-${e} ${t}`}),pw=({icon:e="",message:t="Nothing here yet",children:s})=>S.jsxs("div",{className:"empty-state",children:[S.jsx("span",{className:"empty-icon",children:e}),S.jsx("p",{className:"empty-message",children:t}),s]});const yA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),Mv=e=>{const t=vA(e);return t.charAt(0).toUpperCase()+t.slice(1)},gw=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),bA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _A=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:c,...f},d)=>x.createElement("svg",{ref:d,...wA,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:gw("lucide",o),...!u&&!bA(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,g])=>x.createElement(p,g)),...Array.isArray(u)?u:[u]]));const bo=(e,t)=>{const s=x.forwardRef(({className:a,...o},u)=>x.createElement(_A,{ref:u,iconNode:t,className:gw(`lucide-${yA(Mv(e))}`,`lucide-${e}`,a),...o}));return s.displayName=Mv(e),s};const SA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yw=bo("arrow-left",SA);const EA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],TA=bo("grid-3x3",EA);const xA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],CA=bo("list",xA);const AA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],RA=bo("pencil",AA);const OA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jA=bo("trash-2",OA),DA=({children:e})=>{const t=di(),s=Va(),{title:a,Jl:o,backTo:u,customContent:c}=Ia(),f=t.pathname==="/"&&!u,d=()=>{typeof u=="function"?u():s(typeof u=="string"?u:-1)};return S.jsxs("div",{className:"app-container",children:[S.jsxs("header",{className:"app-header",children:[f?S.jsxs(li,{to:"/",className:"logo",children:["Quartett",S.jsx("span",{children:"Nation"})]}):S.jsxs("div",{className:"header-dynamic",children:[u&&S.jsxs(Qe,{variant:"ghost",size:"sm",onClick:d,className:"header-back-btn",children:[S.jsx(yw,{size:20,className:"header-back-icon"}),"Back"]}),S.jsx("h2",{className:`header-title gradient-text ${u?"with-back":""}`,children:a})]}),c]}),S.jsx("main",{className:"app-main",children:e}),S.jsx("footer",{className:"app-footer",children:S.jsxs("nav",{className:"bottom-nav",children:[S.jsx(li,{to:"/",className:t.pathname==="/"?"active":"",children:"Home"}),S.jsx(li,{to:"/create",className:t.pathname==="/create"?"active":"",children:"Create"}),S.jsx(li,{to:"/collection",className:t.pathname==="/collection"?"active":"",children:"Decks"})]})})]})};function wu(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}function NA(e,t,s,a){function o(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function f(g){try{p(a.next(g))}catch(v){c(v)}}function d(g){try{p(a.throw(g))}catch(v){c(v)}}function p(g){g.done?u(g.value):o(g.value).then(f,d)}p((a=a.apply(e,t||[])).next())})}const kA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Td extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class MA extends Td{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uv extends Td{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lv extends Td{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jf||(jf={}));class UA{constructor(t,{headers:s={},customFetch:a,region:o=jf.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=kA(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return NA(this,arguments,void 0,function*(s,a={}){var o;let u,c;try{const{headers:f,method:d,body:p,signal:g,timeout:v}=a;let b={},{region:w}=a;w||(w=this.region);const E=new URL(`${this.url}/${s}`);w&&w!=="any"&&(b["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let T;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(b["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(b["Content-Type"]="application/json",T=JSON.stringify(p)):T=p;let O=g;v&&(c=new AbortController,u=setTimeout(()=>c.abort(),v),g?(O=c.signal,g.addEventListener("abort",()=>c.abort())):O=c.signal);const R=yield this.fetch(E.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:T,signal:O}).catch($=>{throw new MA($)}),N=R.headers.get("x-relay-error");if(N&&N==="true")throw new Uv(R);if(!R.ok)throw new Lv(R);let C=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),z;return C==="application/json"?z=yield R.json():C==="application/octet-stream"||C==="application/pdf"?z=yield R.blob():C==="text/event-stream"?z=R:C==="multipart/form-data"?z=yield R.formData():z=yield R.text(),{data:z,error:null,response:R}}catch(f){return{data:null,error:f,response:f instanceof Lv||f instanceof Uv?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var LA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},BA=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,d=null,p=u.status,g=u.statusText;if(u.ok){var v,b;if(s.method!=="HEAD"){var w;const R=await u.text();R===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((w=s.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=R:f=JSON.parse(R))}const T=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&O&&O.length>1&&(d=parseInt(O[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const T=await u.text();try{c=JSON.parse(T),Array.isArray(c)&&u.status===404&&(f=[],c=null,p=200,g="OK")}catch{u.status===404&&T===""?(p=204,g="No Content"):c={message:T}}if(c&&s.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&s.shouldThrowOnError)throw new LA(c)}return{error:c,data:f,count:d,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let f="";const d=u?.cause;if(d){var p,g,v,b;const E=(p=d?.message)!==null&&p!==void 0?p:"",T=(g=d?.code)!==null&&g!==void 0?g:"";f=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(b=d?.name)!==null&&b!==void 0?b:"Error"}: ${E}`,T&&(f+=` (${T})`),d?.stack&&(f+=`
${d.stack}`)}else{var w;f=(w=u?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},PA=class extends BA{select(e){let t=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var c;const f=[e?"analyze":null,t?"verbose":null,s?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Bv=new RegExp("[,()]");var Ta=class extends PA{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Bv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}notIn(e,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Bv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${u}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}},zA=class{constructor(e,{headers:t={},schema:s,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=a}select(e,t){const{head:s=!1,count:a}=t??{},o=s?"HEAD":"GET";let u=!1;const c=(e??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new Ta({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var a;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ta({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:a,defaultToNull:o=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(f.length>0){const d=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ta({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:t}={}){var s;const a="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Ta({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ta({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},VA=class vw{constructor(t,{headers:s={},schema:a,fetch:o}={}){this.url=t,this.headers=new Headers(s),this.schemaName=a,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zA(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:o=!1,count:u}={}){var c;let f;const d=new URL(`${this.url}/rpc/${t}`);let p;a||o?(f=a?"HEAD":"GET",Object.entries(s).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{d.searchParams.append(v,b)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new Ta({method:f,url:d,headers:g,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class IA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qA="2.89.0",HA=`realtime-js/${qA}`,bw="1.0.0",$A="2.0.0",Pv=bw,Df=1e4,GA=1e3,KA=100;var qi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qi||(qi={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var Mn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mn||(Mn={}));var Nf;(function(e){e.websocket="websocket"})(Nf||(Nf={}));var ws;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ws||(ws={}));class FA{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,a){var o,u;const c=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",d=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+f.length+c.length+p.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(w),T=0;E.setUint8(T++,this.KINDS.userBroadcastPush),E.setUint8(T++,d.length),E.setUint8(T++,f.length),E.setUint8(T++,c.length),E.setUint8(T++,p.length),E.setUint8(T++,v.length),E.setUint8(T++,s),Array.from(d,R=>E.setUint8(T++,R.charCodeAt(0))),Array.from(f,R=>E.setUint8(T++,R.charCodeAt(0))),Array.from(c,R=>E.setUint8(T++,R.charCodeAt(0))),Array.from(p,R=>E.setUint8(T++,R.charCodeAt(0))),Array.from(v,R=>E.setUint8(T++,R.charCodeAt(0)));var O=new Uint8Array(w.byteLength+a.byteLength);return O.set(new Uint8Array(w),0),O.set(new Uint8Array(a),w.byteLength),O.buffer}decode(t,s){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return s(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,c,f,d]=a;return s({join_ref:o,ref:u,topic:c,event:f,payload:d})}return s({})}_binaryDecode(t){const s=new DataView(t),a=s.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,o)}_decodeUserBroadcast(t,s,a){const o=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),f=s.getUint8(4);let d=this.HEADER_LENGTH+4;const p=a.decode(t.slice(d,d+o));d=d+o;const g=a.decode(t.slice(d,d+u));d=d+u;const v=a.decode(t.slice(d,d+c));d=d+c;const b=t.slice(d,t.byteLength),w=f===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,E={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>s.includes(a)))}}class ww{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ke||(Ke={}));const zv=(e,t,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=YA(c,e,t,o),u),{}):{}},YA=(e,t,s,a)=>{const o=t.find(f=>f.name===e),u=o?.type,c=s[e];return u&&!a.includes(u)?_w(u,c):kf(c)},_w=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return WA(t,s)}switch(e){case Ke.bool:return QA(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return XA(t);case Ke.json:case Ke.jsonb:return JA(t);case Ke.timestamp:return ZA(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return kf(t);default:return kf(t)}},kf=e=>e,QA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},JA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},WA=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let u;const c=e.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>_w(t,f))}return e},ZA=e=>typeof e=="string"?e.replace(" ","T"):e,Sw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qh{constructor(t,s,a={},o=Df){this.channel=t,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vv||(Vv={}));class Kr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,o,u,c),this.pendingDiffs.forEach(d=>{this.state=Kr.syncDiff(this.state,d,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Kr.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,o){const u=this.cloneDeep(t),c=this.transformState(s),f={},d={};return this.map(u,(p,g)=>{c[p]||(d[p]=g)}),this.map(c,(p,g)=>{const v=u[p];if(v){const b=g.map(O=>O.presence_ref),w=v.map(O=>O.presence_ref),E=g.filter(O=>w.indexOf(O.presence_ref)<0),T=v.filter(O=>b.indexOf(O.presence_ref)<0);E.length>0&&(f[p]=E),T.length>0&&(d[p]=T)}else f[p]=g}),this.syncDiff(u,{joins:f,leaves:d},a,o)}static syncDiff(t,s,a,o){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(f,d)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(d),g.length>0){const v=t[f].map(w=>w.presence_ref),b=g.filter(w=>v.indexOf(w.presence_ref)<0);t[f].unshift(...b)}a(f,g,d)}),this.map(c,(f,d)=>{let p=t[f];if(!p)return;const g=d.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=p,o(f,p,d),p.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const o=t[a];return"metas"in o?s[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Iv||(Iv={}));var Fr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fr||(Fr={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class Aa{constructor(t,s={config:{}},a){var o,u;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new ww(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Kr(this),this.broadcastEndpointURL=Sw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:c,presence:f,private:d}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Fr.PRESENCE]&&this.bindings[Fr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(oi.CHANNEL_ERROR,w)),this._onClose(()=>t?.(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(oi.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(E=T?.length)!==null&&E!==void 0?E:0,R=[];for(let N=0;N<O;N++){const C=T[N],{filter:{event:z,schema:$,table:Q,filter:q}}=C,A=w&&w[N];if(A&&A.event===z&&Aa.isFilterValueEqual(A.schema,$)&&Aa.isFilterValueEqual(A.table,Q)&&Aa.isFilterValueEqual(A.filter,q))R.push(Object.assign(Object.assign({},C),{id:A.id}));else{this.unsubscribe(),this.state=yt.errored,t?.(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(oi.SUBSCRIBED);return}}).receive("error",w=>{this.state=yt.errored,t?.(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===yt.joined&&t===Fr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let d=f.statusText;try{const p=await f.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(t,s={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,d;const p=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Qh(this,Mn.leave,{},t),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),c}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Qh(this,t,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KA){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var o,u;const c=t.toLocaleLowerCase(),{close:f,error:d,leave:p,join:g}=Mn;if(a&&[f,d,p,g].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,s,a);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var E,T,O;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(T=w.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(w=>w.callback(b,a)):(u=this.bindings[c])===null||u===void 0||u.filter(w=>{var E,T,O,R,N,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const z=w.id,$=(E=w.filter)===null||E===void 0?void 0:E.event;return z&&((T=s.ids)===null||T===void 0?void 0:T.includes(z))&&($==="*"||$?.toLocaleLowerCase()===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const z=(N=(R=w?.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return z==="*"||z===((C=s?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:T,table:O,commit_timestamp:R,type:N,errors:C}=E;b=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:R,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(E))}w.callback(b,a)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const o=t.toLocaleLowerCase(),u={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&Aa.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mn.close,{},t)}_onError(t){this._on(Mn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=zv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=zv(t.columns,t.old_record)),s}}const Xh=()=>{},$l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eR=[1e3,2e3,5e3,1e4],tR=1e4,nR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iR{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Df,this.transport=null,this.heartbeatIntervalMs=$l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xh,this.ref=0,this.reconnectTimer=null,this.vsn=Pv,this.logger=Xh,this.conn=null,this.sendBuffer=[],this.serializer=new FA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Nf.websocket}`,this.httpEndpoint=Sw(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return ws.Connecting;case qi.open:return ws.Open;case qi.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new Aa(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:a,payload:o,ref:u}=t,c=()=>{this.encode(t,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${s} ${a} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GA,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},$l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:u,ref:c}=s,f=c?`(${c})`:"",d=u.status||"";this.log("receive",`${d} ${a} ${o} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qi.open||this.conn.readyState===qi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${a}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([nR],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,a=!1;if(t)s=t,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:HA};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Mn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new ww(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,o,u,c,f,d,p,g,v,b,w;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Df,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:$l.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Xh,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:Pv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>eR[E-1]||tR),this.vsn){case bw:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((E,T)=>T(JSON.stringify(E))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((E,T)=>T(JSON.parse(E)));break;case $A:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var no=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sR(e,t,s){const a=new URL(t,e);if(s)for(const[o,u]of Object.entries(s))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function aR(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function rR(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:o,body:u,headers:c}){const f=sR(e.baseUrl,a,o),d=await aR(e.auth),p=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...d,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!p.ok){const w=v?b:void 0,E=w?.error;throw new no(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:p.status,headers:p.headers,data:b}}}}function Gl(e){return e.join("")}var oR=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Gl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const s={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gl(e.namespace)}`}),!0}catch(t){if(t instanceof no&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(s){if(s instanceof no&&s.status===409)return;throw s}}};function ga(e){return e.join("")}var lR=class{constructor(e,t="",s){this.client=e,this.prefix=t,this.accessDelegation=s}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(e,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ga(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(s){if(s instanceof no&&s.status===404)return!1;throw s}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(s){if(s instanceof no&&s.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw s}}},uR=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=rR({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new oR(this.client,t),this.tableOps=new lR(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},_u=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cR=class extends _u{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mf=class extends _u{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const xd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hR=()=>Response,Uf=e=>{if(Array.isArray(e))return e.map(s=>Uf(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Uf(a)}),t},fR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dR=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function mR(e,t){if(io(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(e){var t=mR(e,"string");return io(t)=="symbol"?t:t+""}function gR(e,t,s){return(t=pR(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,a)}return s}function me(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(s),!0).forEach(function(a){gR(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qv(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}const Jh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},yR=async(e,t,s)=>{e instanceof await hR()&&!s?.noResolveJson?e.json().then(a=>{const o=e.status||500,u=a?.statusCode||o+"";t(new cR(Jh(a),o,u))}).catch(a=>{t(new Mf(Jh(a),a))}):t(new Mf(Jh(e),e))},vR=(e,t,s,a)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!a?o:(fR(a)?(o.headers=me({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),me(me({},o),s))};async function wo(e,t,s,a,o,u){return new Promise((c,f)=>{e(s,vR(t,a,o,u)).then(d=>{if(!d.ok)throw d;return a?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>yR(d,f,a))})}async function so(e,t,s,a){return wo(e,"GET",t,s,a)}async function kn(e,t,s,a,o){return wo(e,"POST",t,a,o,s)}async function Lf(e,t,s,a,o){return wo(e,"PUT",t,a,o,s)}async function bR(e,t,s,a){return wo(e,"HEAD",t,me(me({},s),{},{noResolveJson:!0}),a)}async function Cd(e,t,s,a,o){return wo(e,"DELETE",t,a,o,s)}var wR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};let Ew;Ew=Symbol.toStringTag;var _R=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ew]="BlobDownloadBuilder",this.promise=null}asStream(){return new wR(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};const SR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ER=class{constructor(e,t={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=xd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,s,a){var o=this;try{let u;const c=me(me({},Hv),a);let f=me(me({},o.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),d&&u.append("metadata",o.encodeMetadata(d)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),d&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(d))):(u=s,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,d&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(d))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(f=me(me({},f),a.headers));const p=o._removeEmptyFolders(t),g=o._getFinalPath(p),v=await(e=="PUT"?Lf:kn)(o.fetch,`${o.url}/object/${g}`,u,me({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async upload(e,t,s){return this.uploadOrUpdate("POST",e,t,s)}async uploadToSignedUrl(e,t,s,a){var o=this;const u=o._removeEmptyFolders(e),c=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let d;const p=me({upsert:Hv.upsert},a),g=me(me({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",p.cacheControl)):(d=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:u,fullPath:(await Lf(o.fetch,f.toString(),d,{headers:g})).Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(et(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var s=this;try{let a=s._getFinalPath(e);const o=me({},s.headers);t?.upsert&&(o["x-upsert"]="true");const u=await kn(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(s.url+u.url),f=c.searchParams.get("token");if(!f)throw new _u("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async update(e,t,s){return this.uploadOrUpdate("PUT",e,t,s)}async move(e,t,s){var a=this;try{return{data:await kn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async copy(e,t,s){var a=this;try{return{data:{path:(await kn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,s){var a=this;try{let o=a._getFinalPath(e),u=await kn(a.fetch,`${a.url}/object/sign/${o}`,me({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:a.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${a.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,s){var a=this;try{const o=await kn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>me(me({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}download(e,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),c=()=>so(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new _R(c,this.shouldThrowOnError)}async info(e){var t=this;const s=t._getFinalPath(e);try{return{data:Uf(await so(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const s=t._getFinalPath(e);try{return await bR(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a)&&a instanceof Mf){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const s=this._getFinalPath(e),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(e){var t=this;try{return{data:await Cd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async list(e,t,s){var a=this;try{const o=me(me(me({},SR),t),{},{prefix:e||""});return{data:await kn(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},s),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async listV2(e,t){var s=this;try{const a=me({},e);return{data:await kn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},t),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Tw="2.89.0",xw={"X-Client-Info":`storage-js/${Tw}`};var TR=class{constructor(e,t={},s,a){this.shouldThrowOnError=!1;const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=me(me({},xw),t),this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const s=t.listBucketOptionsToQueryString(e);return{data:await so(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async getBucket(e){var t=this;try{return{data:await so(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async createBucket(e,t={public:!1}){var s=this;try{return{data:await kn(s.fetch,`${s.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var s=this;try{return{data:await Lf(s.fetch,`${s.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await kn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await Cd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},xR=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},xw),t),this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await kn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async listBuckets(e){var t=this;try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const a=s.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await so(t.fetch,o,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await Cd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}from(e){var t=this;if(!dR(e))throw new _u("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new uR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(d){if(a)throw d;return{data:null,error:d}}}}})}};const Ad={"X-Client-Info":`storage-js/${Tw}`,"Content-Type":"application/json"};var Cw=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function an(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Wh=class extends Cw{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},CR=class extends Cw{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Rd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$v=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RR=async(e,t,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!s?.noResolveJson){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||a+"";t(new Wh($v(u),a,c))}).catch(()=>{const u=a+"";t(new Wh(o.statusText||`HTTP ${a} error`,a,u))});else{const u=a+"";t(new Wh(o.statusText||`HTTP ${a} error`,a,u))}}else t(new CR($v(e),e))},OR=(e,t,s,a)=>{const o={method:e,headers:t?.headers||{}};return a?(AR(a)?(o.headers=me({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,me(me({},o),s)):o};async function jR(e,t,s,a,o,u){return new Promise((c,f)=>{e(s,OR(t,a,o,u)).then(d=>{if(!d.ok)throw d;if(a?.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>RR(d,f,a))})}async function rn(e,t,s,a,o){return jR(e,"POST",t,a,o,s)}var DR=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},Ad),t),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async getIndex(e,t){var s=this;try{return{data:await rn(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(an(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async deleteIndex(e,t){var s=this;try{return{data:await rn(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(an(a))return{data:null,error:a};throw a}}},NR=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},Ad),t),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async getVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await rn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async queryVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}},kR=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},Ad),t),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async getBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async listBuckets(e={}){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}},MR=class extends kR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,s=this;return t().call(s,e)}async getBucket(e){var t=()=>super.getBucket,s=this;return t().call(s,e)}async listBuckets(e={}){var t=()=>super.listBuckets,s=this;return t().call(s,e)}async deleteBucket(e){var t=()=>super.deleteBucket,s=this;return t().call(s,e)}},UR=class extends DR{constructor(e,t,s,a){super(e,t,a),this.vectorBucketName=s}async createIndex(e){var t=()=>super.createIndex,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,e)}index(e){return new LR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},LR=class extends NR{constructor(e,t,s,a,o){super(e,t,o),this.vectorBucketName=s,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(e){var t=()=>super.getVectors,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,s=this;return t().call(s,me(me({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},BR=class extends TR{constructor(e,t={},s,a){super(e,t,s,a)}from(e){return new ER(this.url,this.headers,e,this.fetch)}get vectors(){return new MR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xR(this.url+"/iceberg",this.headers,this.fetch)}};const Aw="2.89.0",xa=30*1e3,Bf=3,Zh=Bf*xa,PR="http://localhost:9999",zR="supabase.auth.token",VR={"X-Client-Info":`gotrue-js/${Aw}`},Pf="X-Supabase-Api-Version",Rw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qR=600*1e3;class ao extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HR extends ao{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function $R(e){return oe(e)&&e.name==="AuthApiError"}class _s extends ao{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class mi extends ao{constructor(t,s,a,o){super(t,a,o),this.name=s,this.status=a}}class sn extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GR(e){return oe(e)&&e.name==="AuthSessionMissingError"}class ya extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kl extends mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fl extends mi{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KR(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gv extends mi{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class FR extends mi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zf extends mi{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ef(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class Kv extends mi{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Vf extends mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fv=` 	
\r=`.split(""),YR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fv.length;t+=1)e[Fv[t].charCodeAt(0)]=-2;for(let t=0;t<uu.length;t+=1)e[uu[t].charCodeAt(0)]=t;return e})();function Yv(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(uu[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(uu[a]),t.queuedBits-=6}}function Ow(e,t,s){const a=YR[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qv(e){const t=[],s=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{JR(c,a,s)};for(let c=0;c<e.length;c+=1)Ow(e.charCodeAt(c),o,u);return t.join("")}function QR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XR(e,t){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}QR(a,t)}}function JR(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ka(e){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Ow(e.charCodeAt(o),s,a);return new Uint8Array(t)}function WR(e){const t=[];return XR(e,s=>t.push(s)),new Uint8Array(t)}function Es(e){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};return e.forEach(o=>Yv(o,s,a)),Yv(null,s,a),t.join("")}function ZR(e){return Math.round(Date.now()/1e3)+e}function e1(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},jw=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function t1(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return s.searchParams.forEach((a,o)=>{t[o]=a}),t}const Dw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),n1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ca=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},gs=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ot=async(e,t)=>{await e.removeItem(t)};class Su{constructor(){this.promise=new Su.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Su.promiseConstructor=Promise;function tf(e){const t=e.split(".");if(t.length!==3)throw new Vf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!IR.test(t[a]))throw new Vf("JWT not in base64url format");return{header:JSON.parse(Qv(t[0])),payload:JSON.parse(Qv(t[1])),signature:ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function i1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function s1(e,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function a1(e){return("0"+e.toString(16)).substr(-2)}function r1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,a1).join("")}async function o1(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function l1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await o1(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function va(e,t,s=!1){const a=r1();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await Ca(e,`${t}-code-verifier`,o);const u=await l1(a);return[u,a===u?"plain":"s256"]}const u1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c1(e){const t=e.headers.get(Pf);if(!t||!t.match(u1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function h1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function f1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ba(e){if(!d1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nf(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m1(e,t){return new Proxy(e,{get:(s,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,a,o)}})}function Xv(e){return JSON.parse(JSON.stringify(e))}const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p1=[502,503,504];async function Jv(e){var t;if(!n1(e))throw new zf(vs(e),0);if(p1.includes(e.status))throw new zf(vs(e),e.status);let s;try{s=await e.json()}catch(u){throw new _s(vs(u),u)}let a;const o=c1(e);if(o&&o.getTime()>=Rw["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Kv(vs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new sn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Kv(vs(s),e.status,s.weak_password.reasons);throw new HR(vs(s),e.status||500,a)}const g1=(e,t,s,a)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function de(e,t,s,a){var o;const u=Object.assign({},a?.headers);u[Pf]||(u[Pf]=Rw["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await y1(e,t,s+f,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(d):{data:Object.assign({},d),error:null}}async function y1(e,t,s,a,o,u){const c=g1(t,a,o,u);let f;try{f=await e(s,Object.assign({},c))}catch(d){throw console.error(d),new zf(vs(d),0)}if(f.ok||await Jv(f),a?.noResolveJson)return f;try{return await f.json()}catch(d){await Jv(d)}}function Dn(e){var t;let s=null;w1(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=ZR(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:a},error:null}}function Wv(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $i(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v1(e){return{data:e,error:null}}function b1(e){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u}=e,c=wu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u},d=Object.assign({},c);return{data:{properties:f,user:d},error:null}}function Zv(e){return e}function w1(e){return e.access_token&&e.refresh_token&&e.expires_in}const sf=["global","local","others"];class _1{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=Dw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=sf[0]){if(sf.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sf.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:$i})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=wu(t,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:b1,redirectTo:s?.redirectTo})}catch(s){if(oe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$i})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,o,u,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},g=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Zv});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ba(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$i})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ba(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:$i})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){ba(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:$i})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ba(t.userId);try{const{data:s,error:a}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ba(t.userId),ba(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,o,u,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},g=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Zv});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}}function e0(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const wa={debug:!!(globalThis&&jw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class S1 extends Nw{}async function E1(e,t,s){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await s()}finally{wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new S1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wa.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function T1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function x1(e){return parseInt(e,16)}function C1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function A1(e){var t;const{chainId:s,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:d,resources:p,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=kw(e.address),E=g?`${g}://${a}`:a,T=e.statement?`${e.statement}
`:"",O=`${E} wants you to sign in with your Ethereum account:
${w}

${T}`;let R=`URI: ${v}
Version: ${b}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),f&&(R+=`
Not Before: ${f.toISOString()}`),d&&(R+=`
Request ID: ${d}`),p){let N=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}R+=N}return`${O}
${R}`}class mt extends Error{constructor({message:t,code:s,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class cu extends mt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function R1({error:e,options:t}){var s,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(Mw(c)){if(u.rp.id!==c)return new mt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function O1({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Mw(a)){if(s.rpId!==a)return new mt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class j1{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const D1=new j1;function N1(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:a}=e,o=wu(e,["challenge","user","excludeCredentials"]),u=ka(t).buffer,c=Object.assign(Object.assign({},s),{id:ka(s.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const p=a[d];f.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:ka(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function k1(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,a=wu(e,["challenge","allowCredentials"]),o=ka(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const f=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ka(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function M1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:Es(new Uint8Array(e.response.attestationObject)),clientDataJSON:Es(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e,a=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Es(new Uint8Array(o.authenticatorData)),clientDataJSON:Es(new Uint8Array(o.clientDataJSON)),signature:Es(new Uint8Array(o.signature)),userHandle:o.userHandle?Es(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function t0(){var e,t;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function L1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",t)}:{data:null,error:new cu("Empty credential response",t)}}catch(t){return{data:null,error:R1({error:t,options:e})}}}async function B1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",t)}:{data:null,error:new cu("Empty credential response",t)}}catch(t){return{data:null,error:O1({error:t,options:e})}}}const P1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},z1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hu(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of e)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))a[u]=c;else if(s(c))a[u]=c;else if(t(c)){const f=a[u];t(f)?a[u]=hu(f,c):a[u]=hu(c)}else a[u]=c}return a}function V1(e,t){return hu(P1,e,t||{})}function I1(e,t){return hu(z1,e,t||{})}class q1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:o},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!c)return{data:null,error:f};const d=o??D1.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=V1(c.webauthn.credential_options.publicKey,u?.create),{data:g,error:v}=await L1({publicKey:p,signal:d});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=I1(c.webauthn.credential_options.publicKey,u?.request),{data:g,error:v}=await B1(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:d}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new _s("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new ao("rpId is required for WebAuthn authentication")};try{if(!t0())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:s,rpOrigins:a,credential_response:d.credential_response}})}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new _s("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new ao("rpId is required for WebAuthn registration")};try{if(!t0())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:d,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:u});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:s,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new _s("Unexpected error in register",c)}}}}T1();const H1={url:PR,storageKey:zR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function n0(e,t,s){return await s()}const _a={};class ro{get jwks(){var t,s;return(s=(t=_a[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){_a[this.storageKey]=Object.assign(Object.assign({},_a[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=_a[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_a[this.storageKey]=Object.assign(Object.assign({},_a[this.storageKey]),{cachedAt:t})}constructor(t){var s,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},H1),t);if(this.storageKey=u.storageKey,this.instanceID=(s=ro.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,ro.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&jt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new _1({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Dw(u.fetch),this.lock=u.lock||n0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&jt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=E1:this.lock=n0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:jw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=e0(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},a="none";if(jt()&&(s=t1(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),jt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),KR(u)){const d=(t=u.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return oe(s)?this._returnResult({error:s}):this._returnResult({error:new _s("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,o;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Dn}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,a,o;try{let u;if("email"in t){const{email:g,password:v,options:b}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await va(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Dn})}else if("phone"in t){const{phone:g,password:v,options:b}=t;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Dn})}else throw new Kl("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:f}=t;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wv})}else if("phone"in t){const{phone:u,password:c,options:f}=t;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wv})}else throw new Kl("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new ya;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,o,u,c,f,d,p,g,v,b;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:T,wallet:O,statement:R,options:N}=t;let C;if(jt())if(typeof O=="object")C=O;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")C=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=O}const z=new URL((s=N?.url)!==null&&s!==void 0?s:window.location.href),$=await C.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=kw($[0]);let q=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!q){const k=await C.request({method:"eth_chainId"});q=x1(k)}const A={domain:z.host,address:Q,statement:R,uri:z.href,version:"1",chainId:q,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=A1(A),E=await C.request({method:"personal_sign",params:[C1(w),Q]})}try{const{data:T,error:O}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dn});if(O)throw O;if(!T||!T.session||!T.user){const R=new ya;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:O})}catch(T){if(oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var s,a,o,u,c,f,d,p,g,v,b,w;let E,T;if("message"in t)E=t.message,T=t.signature;else{const{chain:O,wallet:R,statement:N,options:C}=t;let z;if(jt())if(typeof R=="object")z=R;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))z=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=R}const $=new URL((s=C?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const Q=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),N?{statement:N}:null));let q;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")q=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)q=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)E=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),T=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(a=C?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Q=await z.signMessage(new TextEncoder().encode(E),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Q}}try{const{data:O,error:R}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Es(T)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Dn});if(R)throw R;if(!O||!O.session||!O.user){const N=new ya;return this._returnResult({data:{user:null,session:null},error:N})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:R})}catch(O){if(oe(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(t){const s=await gs(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new FR;const{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Dn});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new ya;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:a,token:o,access_token:u,nonce:c}=t,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Dn}),{data:d,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const g=new ya;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,a,o,u,c;try{if("email"in t){const{email:f,options:d}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await va(this.storage,this.storageKey));const{error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:d}=t,{data:p,error:g}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(u=d?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Kl("You must provide either an email or phone number.")}catch(f){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,a;try{let o,u;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Dn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,a,o,u,c;try{let f=null,d=null;this.flowType==="pkce"&&([f,d]=await va(this.storage,this.storageKey));const p=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:v1});return!((u=p.data)===null||u===void 0)&&u.url&&jt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new sn;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:c}=await de(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:c,error:f}=await de(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Kl("You must provide either an email or phone number and a type")}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await gs(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=nf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=m1(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$i}):await this._useSession(async s=>{var a,o,u;const{data:c,error:f}=s;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:$i})})}catch(s){if(oe(s))return GR(s)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new sn;const c=o.session;let f=null,d=null;this.flowType==="pkce"&&t.email!=null&&([f,d]=await va(this.storage,this.storageKey));const{data:p,error:g}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:d}),jwt:c.access_token,xform:$i});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sn;const s=Date.now()/1e3;let a=s,o=!0,u=null;const{payload:c}=tf(t.access_token);if(c.exp&&(a=c.exp,o=a<=s),o){const{data:f,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:d}=await this._getUser(t.access_token);if(d)throw d;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:c,error:f}=s;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new sn;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!jt())throw new Fl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gv("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:d,token_type:p}=t;if(!u||!f||!c||!p)throw new Fl("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let b=g+v;d&&(b=parseInt(d));const w=b-g;w*1e3<=xa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const E=b-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,g);const{data:T,error:O}=await this._getUser(u);if(O)throw O;const R={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:b,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({error:u});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!($R(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=e1(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,o;try{const{data:{session:u},error:c}=s;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await va(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:o}=await this._useSession(async u=>{var c,f,d,p,g;const{data:v,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return jt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(oe(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:u}}=s;if(o)throw o;const{options:c,provider:f,token:d,access_token:p,nonce:g}=t,v=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:d,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Dn}),{data:b,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ya}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:c}=s;if(c)throw c;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await s1(async o=>(o>0&&await i1(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&ef(u)&&Date.now()+c-a<xa})}catch(a){if(this._debug(s,"error",a),oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),jt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await gs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Ca(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:nf()}else if(o&&!o.user&&!o.user){const c=await gs(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Ot(this.storage,this.storageKey+"-user"),await Ca(this.storage,this.storageKey,o)):o.user=nf()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Zh;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Zh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),ef(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Su;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new sn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),oe(u)){const c={data:null,error:u};return ef(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(d){u.push(d)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Ca(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const u=Xv(o);await Ca(this.storage,this.storageKey,u)}else{const o=Xv(s);await Ca(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/xa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xa}ms, refresh threshold is ${Bf} ticks`),o<=Bf&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Nw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await va(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;return u?this._returnResult({data:null,error:u}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:p}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&d.type==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?M1(t.webauthn.credential_response):U1(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:d}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:d}))})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:N1(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:k1(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=tf(a.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new sn})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new sn});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&jt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new sn});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&jt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new sn})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sn})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(f=>f.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+qR>o)return a;const{data:u,error:c}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});a=w.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:d}}=tf(a);s?.allowExpired||h1(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:u,header:o,signature:c},error:null}}const g=f1(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,WR(`${f}.${d}`)))throw new Vf("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}}ro.nextInstanceID={};const $1=ro,G1="2.89.0";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const K1={"X-Client-Info":`supabase-js-${$r}/${G1}`},F1={headers:K1},Y1={schema:"public"},Q1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X1={};function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function J1(e,t){if(oo(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1(e){var t=J1(e,"string");return oo(t)=="symbol"?t:t+""}function Z1(e,t,s){return(t=W1(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i0(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,a)}return s}function st(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?i0(Object(s),!0).forEach(function(a){Z1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i0(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}const eO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tO=()=>Headers,nO=(e,t,s)=>{const a=eO(s),o=tO();return async(u,c)=>{var f;const d=(f=await t())!==null&&f!==void 0?f:e;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),a(u,st(st({},c),{},{headers:p}))}};function iO(e){return e.endsWith("/")?e:e+"/"}function sO(e,t){var s,a;const{db:o,auth:u,realtime:c,global:f}=e,{db:d,auth:p,realtime:g,global:v}=t,b={db:st(st({},d),o),auth:st(st({},p),u),realtime:st(st({},g),c),storage:{},global:st(st(st({},v),f),{},{headers:st(st({},(s=v?.headers)!==null&&s!==void 0?s:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function aO(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var rO=class extends $1{constructor(e){super(e)}},oO=class{constructor(e,t,s){var a,o;this.supabaseUrl=e,this.supabaseKey=t;const u=aO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Y1,realtime:X1,auth:st(st({},Q1),{},{storageKey:c}),global:F1},d=sO(s??{},f);if(this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=d.auth)!==null&&p!==void 0?p:{},this.headers,d.global.fetch)}this.fetch=nO(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new VA(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new BR(this.storageUrl.href,this.headers,this.fetch,s?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new UA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,s;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,storageKey:u,flowType:c,lock:f,debug:d,throwOnError:p},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rO({url:this.authUrl.href,headers:st(st({},b),g),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,flowType:c,lock:f,debug:d,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iR(this.realtimeUrl.href,st(st({},e),{},{params:st(st({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lO=(e,t,s)=>new oO(e,t,s);function uO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}uO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cO="https://mntjgtdsmjnbbkzcuaar.supabase.co",hO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1udGpndGRzbWpuYmJremN1YWFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0NzIwNjEsImV4cCI6MjA4MzA0ODA2MX0.u6n95TXr1TeLpvcd1VnYNHXJhqfllOAWLhXqbGMjCh8",bt=lO(cO,hO),Uw=x.createContext({}),qa=()=>x.useContext(Uw),fO=({children:e})=>{const[t,s]=x.useState(null),[a,o]=x.useState(!0);x.useEffect(()=>{bt.auth.getSession().then(({data:{session:d}})=>{s(d?.user??null),o(!1)});const{data:{subscription:f}}=bt.auth.onAuthStateChange((d,p)=>{s(p?.user??null),o(!1)});return()=>f.unsubscribe()},[]);const c={user:t,loading:a,signOut:async()=>{await bt.auth.signOut()}};return S.jsx(Uw.Provider,{value:c,children:!a&&e})},dO=()=>{const{setTitle:e,setBackTo:t}=Ia(),{user:s,signOut:a}=qa();x.useEffect(()=>{e("QuartettNation"),t(null)},[]);const o=async()=>{try{await a()}catch(c){console.error("Error signing out:",c)}},u=s?s.user_metadata?.full_name||s.email?.split("@")[0]||"User":"Guest";return S.jsxs("div",{className:"page-view app-card centered home-view",children:[S.jsxs("div",{className:"home-hero-section",children:[S.jsx("h1",{className:"hero-title gradient-text",children:"Challenge your friends"}),S.jsx("p",{className:"hero-subtitle",children:"Generate unique Top Trump decks using AI."})]}),S.jsxs("div",{className:"auth-status-card",children:[S.jsxs("div",{className:"home-user-info",children:[S.jsx("span",{className:"home-user-label",children:"Currently playing as:"}),S.jsx("h3",{className:`home-user-name ${s?"authenticated":""}`,children:u}),s&&S.jsx("span",{className:"home-user-email",children:s.email})]}),s?S.jsx(Qe,{variant:"secondary",onClick:o,size:"sm",children:"Log Out"}):S.jsx(li,{to:"/auth",children:S.jsx(Qe,{variant:"secondary",size:"sm",children:"Log In / Sign Up"})})]}),S.jsxs("div",{className:"action-buttons",children:[S.jsx(li,{to:"/create",className:"btn btn-primary home-action-btn",children:"Create New Deck"}),S.jsx(li,{to:"/collection",className:"btn btn-secondary home-action-btn",children:"My Collection"})]}),S.jsx("div",{className:"recent-games",children:S.jsx(pw,{message:"No active games."})})]})},mO="modulepreload",pO=function(e){return"/QuartettNation/"+e},s0={},gO=function(t,s,a){let o=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=f?.nonce||f?.getAttribute("nonce");o=p(s.map(g=>{if(g=pO(g),g in s0)return;s0[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":mO,v||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((E,T)=>{w.addEventListener("load",E),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return o.then(f=>{for(const d of f||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},yO=({deck:e,updateDeck:t,onNext:s})=>{const a=e.categories||[],o=(c,f,d)=>{const p=[...a];p[c]={...p[c],[f]:d},t({categories:p})},u=c=>{const f=[...a];f[c]={...f[c],higherWins:!f[c].higherWins},t({categories:f})};return S.jsxs("div",{className:"category-review",children:[S.jsx("p",{style:{color:"var(--text-light)",opacity:.7,marginBottom:"1rem",fontSize:"0.9rem"},children:'Verify the categories. Click "High" to toggle if a higher value wins.'}),S.jsx("div",{className:"modern-list",children:a.map((c,f)=>S.jsxs("div",{className:"modern-list-item",children:[S.jsx("div",{className:"category-inputs",children:S.jsx(Cs,{value:c.name,onChange:d=>o(f,"name",d.target.value),placeholder:"Name",fullWidth:!0,className:"category-input-override"})}),S.jsx(Qe,{variant:c.higherWins?"primary":"secondary",size:"sm",onClick:()=>u(f),className:"toggle-btn-override",children:c.higherWins?"High Wins":"Low Wins"})]},f))}),S.jsx("div",{className:"review-actions",children:S.jsx(Qe,{variant:"primary",onClick:s,children:"Next: Card Names"})})]})},vO=({deck:e,updateDeck:t,onNext:s})=>{const a=e.cards||[],o=(u,c)=>{const f=[...a];f[u]={...f[u],name:c},t({cards:f})};return S.jsxs("div",{className:"card-name-review",children:[S.jsx("p",{style:{color:"var(--text-light)",opacity:.7,marginBottom:"1rem",fontSize:"0.9rem"},children:"Review all 32 card names. Click on any name to edit it."}),S.jsx("div",{className:"modern-list",children:a.map((u,c)=>S.jsxs("div",{className:"modern-list-item",children:[S.jsxs("span",{className:"index",style:{color:"var(--text-ink)",opacity:.7,minWidth:"30px",fontSize:"0.8rem"},children:["#",c+1]}),S.jsx(Cs,{value:u.name,onChange:f=>o(c,f.target.value),fullWidth:!0,className:"card-name-input-override"})]},c))}),S.jsx("div",{className:"review-actions",children:S.jsx(Qe,{variant:"primary",onClick:s,children:"Next: Images"})})]})},bO="https://commons.wikimedia.org/w/api.php",wO=3;let af=0;const If=[],Lw=()=>{if(af>=wO||If.length===0)return;const{task:e,resolve:t,reject:s}=If.shift();af++,e().then(t).catch(s).finally(()=>{af--,Lw()})},_O=e=>(...t)=>new Promise((s,a)=>{If.push({task:()=>e(...t),resolve:s,reject:a}),Lw()}),SO=e=>e,EO=async(e,t)=>{const s=async o=>{const c=new URLSearchParams({action:"query",format:"json",generator:"search",gsrsearch:o,gsrnamespace:"6",gsrlimit:50,prop:"imageinfo",iiprop:"url|extmetadata|dimensions|thumburl",iiurlwidth:640,origin:"*"});console.log(`Searching Wikimedia for: "${o}"`);try{const f=await fetch(`${bO}?${c.toString()}`);if(f.status===429)return await new Promise(p=>setTimeout(p,2e3)),s(o);const d=await f.json();return!d.query||!d.query.pages?[]:Object.values(d.query.pages).map(p=>{const g=p.imageinfo?p.imageinfo[0]:null;if(!g)return null;const v=g.thumburl||g.url;let b="Unknown",w="CC BY-SA";return g.extmetadata&&(g.extmetadata.Artist&&(b=g.extmetadata.Artist.value.replace(/<[^>]*>?/gm,"")),g.extmetadata.LicenseShortName&&(w=g.extmetadata.LicenseShortName.value)),{id:p.pageid,title:p.title.replace("File:",""),url:v,original_url:g.url,attribution:`${w} / ${b}`}}).filter(p=>{if(!p)return!1;const g=p.original_url.toLowerCase();return[".jpg",".jpeg",".png",".webp"].some(b=>g.endsWith(b))})}catch(f){return console.error("Wikimedia Search Error:",f),[]}};return(await s(e)).slice(0,t)},Bw=(e,t=5)=>{const s=SO(e);return s?_O(EO)(s,t):Promise.resolve([])},TO="https://api.openverse.org/v1",xO=async(e,t=10)=>{console.log(`Searching Openverse (Public) for: "${e}"`);const s=new URLSearchParams({q:e,page_size:Math.max(t,20),format:"json",license_type:"commercial,modification",license:"BY,BY-SA,CC0,PDM,BY-NC,BY-NC-SA"});try{const a=await fetch(`${TO}/images/?${s.toString()}`);if(!a.ok)return console.error(`Openverse API Error: ${a.status}`,await a.text()),[];const o=await a.json();return o.results?o.results.map(u=>({id:u.id,title:u.title,url:u.url,thumbnail:u.thumbnail,attribution:`${u.license.toUpperCase()} ${u.license_version||""} / ${u.creator||"Unknown"}`,source:"openverse"})).slice(0,t):[]}catch(a){return console.error("Openverse Search Fetch Error:",a),[]}},CO=({deck:e,updateDeck:t,onSave:s,currentIndex:a=0,onNavigate:o,isModal:u=!1})=>{const[c,f]=x.useState({x:0,y:0,scale:1}),[d,p]=x.useState(!1),[g,v]=x.useState({x:0,y:0}),[b,w]=x.useState(""),[E,T]=x.useState("wikimedia"),[O,R]=x.useState({...e.cards[a]}),[N,C]=x.useState(!1),z=x.useRef(null),$=x.useRef(null),Q=x.useRef(a);if(x.useEffect(()=>{Q.current!==a?(R({...e.cards[a]}),C(!1),e.cards[a].image_settings?f(e.cards[a].image_settings):f({x:0,y:0,scale:1}),Q.current=a):N||R(W=>({...e.cards[a]}))},[a,e.cards,N]),!e||!e.cards||!e.cards[a])return S.jsx("div",{className:"p-4 text-red-500",children:"Error: Card not found"});const{data:q=[],isLoading:A}=dA({queryKey:["images",E,e.cards[a].name],queryFn:async()=>{const L=e.cards[a];return E==="wikimedia"?Bw(L.name,20):E==="openverse"?xO(L.name,20):[]},staleTime:1e3*60*60,refetchOnWindowFocus:!1}),k=L=>{p(!0),v({x:L.clientX-c.x,y:L.clientY-c.y}),L.target.setPointerCapture(L.pointerId)},K=L=>{if(d){const W={...c,x:L.clientX-g.x,y:L.clientY-g.y};f(W),C(!0)}},ee=L=>{p(!1),L.target.releasePointerCapture(L.pointerId)};x.useEffect(()=>{const L=$.current;if(!L)return;const W=Z=>{Z.preventDefault();const re=Z.deltaY*-.001;f(j=>{const V=Math.min(Math.max(.5,j.scale+re),3);return{...j,scale:V}}),C(!0)};return L.addEventListener("wheel",W,{passive:!1}),()=>L.removeEventListener("wheel",W)},[]);const te=L=>{R(W=>({...W,image_url:L.url,attribution_text:L.attribution})),f({x:0,y:0,scale:1}),C(!0)},pe=(L,W)=>{R(Z=>{const re={...Z.values,[L]:W};return{...Z,values:re}}),C(!0)},Re=()=>{const L=[...e.cards];L[a]={...O,image_settings:{...c}},t({cards:L}),C(!1)},Le=()=>{a<e.cards.length-1?o(a+1):s()},G=()=>{a>0&&o(a-1)};return S.jsxs("div",{className:"card-studio",children:[S.jsx("div",{className:"studio-header",children:S.jsx("p",{className:"studio-hint",children:"Drag image to position. Click values to edit."})}),S.jsx("div",{className:"studio-stage",children:S.jsx("div",{className:"studio-card-frame card-scene",children:S.jsx("div",{className:"card-inner",children:S.jsxs("div",{className:"card-face card-front",style:{position:"relative"},children:[S.jsxs("div",{className:"card-top-section",children:[e.theme&&S.jsx("div",{className:"deck-name",children:e.theme}),S.jsx("h3",{className:"card-name",children:O.name})]}),S.jsxs("div",{ref:$,className:"card-image-wrapper studio-interactive-image",onPointerDown:k,onPointerMove:K,onPointerUp:ee,style:{touchAction:"none",cursor:d?"grabbing":"grab"},children:[S.jsx("img",{ref:z,src:O.image_url,alt:"Card Subject",className:"card-image",style:{transform:`translate(${c.x}px, ${c.y}px) scale(${c.scale})`,transformOrigin:"center",pointerEvents:"none"},draggable:!1}),S.jsx("div",{className:"card-attribution",children:O.attribution_text||"Public Domain"})]}),S.jsx("div",{className:"card-content",children:S.jsx("div",{className:"card-stats",children:e.categories.map((L,W)=>{let Z=L.name,re=L.unit;if(!re){const V=L.name.match(/^(.+?)\s*\[(.*?)\]$/);V&&(Z=V[1].trim(),re=V[2].trim())}const j=O.values?O.values[L.name]:"";return S.jsxs("div",{className:"stat-row",children:[S.jsx("span",{className:"stat-label",children:Z}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx("input",{className:"studio-stat-input",value:j,onChange:V=>pe(L.name,V.target.value),onKeyDown:V=>V.stopPropagation()}),re&&S.jsx("span",{className:"stat-unit",children:re})]})]},W)})})})]})})})}),S.jsxs("div",{className:"studio-controls",children:[S.jsxs("div",{className:"alternatives-strip",children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[S.jsx("h4",{children:"Alternatives"}),S.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:S.jsxs("select",{value:E,onChange:L=>T(L.target.value),style:{background:"var(--surface-alt)",border:"1px solid var(--glass-border)",color:"var(--text-ink)",padding:"4px",borderRadius:"4px"},children:[S.jsx("option",{value:"wikimedia",children:"Wikimedia (Commons)"}),S.jsx("option",{value:"openverse",children:"Openverse (Creative Commons)"})]})})]}),S.jsx("div",{className:"thumbnails",children:A?S.jsx(gA,{size:"sm"}):q.map((L,W)=>S.jsx("img",{src:L.url,className:O.image_url===L.url?"active":"",onClick:()=>te(L),alt:"alt"},W))})]}),S.jsx("div",{className:"custom-url-section",style:{marginTop:"8px"},children:S.jsx(Cs,{placeholder:"Custom Image URL... (Enter to apply)",value:b,onChange:L=>w(L.target.value),onBlur:()=>{b&&(te({url:b,attribution:"Custom URL"}),w(""))},onKeyDown:L=>{L.key==="Enter"&&b&&(te({url:b,attribution:"Custom URL"}),w(""))},fullWidth:!0})})]}),S.jsxs("div",{className:"studio-nav",children:[S.jsx(Qe,{onClick:G,disabled:a===0||N,variant:"secondary",children:" Previous"}),S.jsx(Qe,{onClick:Re,variant:"primary",disabled:!N,children:"Save Changes"}),S.jsx(Qe,{onClick:Le,disabled:a===e.cards.length-1&&!u||N,variant:"secondary",children:u&&a===e.cards.length-1?"Done":a===e.cards.length-1?"Finish":"Next "})]})]})},a0=()=>S.jsxs("div",{className:"card-back-content",children:[S.jsx("div",{className:"card-back-logo",children:"QUARTETT"}),S.jsx("div",{className:"card-back-sub",children:"NATION"})]}),Eu=({card:e,categories:t,compact:s=!1,onCategorySelect:a,isSelectable:o=!1,deckName:u,faceDown:c=!1,enableFlip:f=!1,flipped:d=null})=>{const[p,g]=Ba.useState(!1),v=d!==null?d:p;if(c&&!f&&d===null)return S.jsx("div",{className:`card-scene ${s?"compact":""}`,children:S.jsx("div",{className:"card-face card-back",style:{position:"relative",transform:"none"},children:S.jsx(a0,{})})});if(!e)return null;const b=()=>{f&&d===null&&g(!p)},w=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"card-top-section",children:[u&&S.jsx("div",{className:"deck-name",children:u}),S.jsx("h3",{className:"card-name",children:e.name})]}),S.jsxs("div",{className:"card-image-wrapper",children:[S.jsx("img",{src:e.image_url||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' fill='%231f2937'/%3E%3Ctext x='50%25' y='50%25' font-family='sans-serif' font-size='48' fill='%236b7280' text-anchor='middle' dy='.3em'%3ENo Image%3C/text%3E%3C/svg%3E",alt:e.name,className:"card-image",style:e.image_settings?{transform:`translate(${e.image_settings.x}px, ${e.image_settings.y}px) scale(${e.image_settings.scale})`,transformOrigin:"center"}:{}}),S.jsx("div",{className:"card-attribution",children:e.attribution_text||"Public Domain"})]}),S.jsx("div",{className:"card-content",children:S.jsx("div",{className:"card-stats",children:t.map((E,T)=>{let O=E.name,R=E.unit;if(!R){const C=E.name.match(/^(.+?)\s*\[(.*?)\]$/);C&&(O=C[1].trim(),R=C[2].trim())}const N=e.values?e.values[E.name]:e.attributes?e.attributes[E.name]:"-";return S.jsxs("div",{className:`stat-row ${o?"selectable":""}`,onClick:C=>{v||o&&a&&(C.stopPropagation(),a(E.name))},children:[S.jsx("span",{className:"stat-label",children:O}),S.jsxs("span",{className:"stat-value",children:[N,R&&S.jsxs("span",{className:"stat-unit",children:[" ",R]})]})]},T)})})})]});return S.jsx("div",{className:`card-scene ${s?"compact":""} ${f?"clickable":""}`,onClick:f?b:void 0,children:S.jsxs("div",{className:`card-inner ${v?"is-flipped":""}`,children:[S.jsx("div",{className:"card-face card-front",children:w}),S.jsx("div",{className:"card-face card-back",children:S.jsx(a0,{})})]})})},AO=({card:e,index:t,onEdit:s,onImageLoaded:a,categories:o,deckName:u})=>{const c=Ba.useRef(!1);return x.useEffect(()=>{e.image_url||c.current||e.name&&(c.current=!0,Bw(e.name,1).then(f=>{f.length>0&&a(t,{image_url:f[0].url,attribution_text:f[0].attribution})}).catch(console.error).finally(()=>c.current=!1))},[e.image_url,e.name]),S.jsxs("div",{className:"review-card-wrapper",children:[S.jsx(Eu,{card:e,categories:o,deckName:u,compact:!1,enableFlip:!0}),S.jsx(Qe,{className:"card-edit-btn","aria-label":"Edit Card",onClick:f=>{f.stopPropagation(),s(t)},variant:"secondary",size:"sm",style:{position:"absolute",top:"var(--spacing-xs)",right:"var(--spacing-xs)",zIndex:10,padding:"4px",minHeight:"unset"},children:S.jsx(RA,{size:16})})]})},RO=({deck:e,updateDeck:t,updateCard:s,onSave:a})=>{const[o,u]=x.useState(null),c=p=>{u(p)},f=(p,g)=>{s(p,g)},d=()=>{u(null)};return S.jsxs(S.Fragment,{children:[S.jsx(pA,{open:o!==null,onClose:()=>u(null),title:o!==null?`Edit Card (${o+1}/${e.cards.length})`:"Edit Card",children:o!==null&&S.jsx(CO,{deck:e,currentIndex:o,onNavigate:u,updateDeck:t,onSave:d,isModal:!0})}),S.jsxs("div",{className:"image-grid-review",children:[S.jsx("p",{className:"hint-text",children:"Review your cards. Click the pen icon to edit images or stats."}),S.jsx("div",{className:"modern-list",children:e.cards.map((p,g)=>S.jsx(AO,{card:p,index:g,onEdit:c,onImageLoaded:f,categories:e.categories,deckName:e.theme},g))}),S.jsx("div",{className:"review-actions",children:S.jsx(Qe,{variant:"primary",onClick:a,fullWidth:!0,children:"Finish Deck"})})]})]})};var r0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(r0||(r0={}));var o0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(o0||(o0={}));var l0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(l0||(l0={}));const u0=["user","model","function","system"];var c0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(c0||(c0={}));var h0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(h0||(h0={}));var f0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(f0||(f0={}));var d0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(d0||(d0={}));var Yr;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Yr||(Yr={}));var m0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(m0||(m0={}));var p0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(p0||(p0={}));var g0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(g0||(g0={}));class Ut extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Sa extends Ut{constructor(t,s){super(t),this.response=s}}class Pw extends Ut{constructor(t,s,a,o){super(t),this.status=s,this.statusText=a,this.errorDetails=o}}class Ki extends Ut{}class zw extends Ut{}const OO="https://generativelanguage.googleapis.com",jO="v1beta",DO="0.24.1",NO="genai-js";var js;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(js||(js={}));class kO{constructor(t,s,a,o,u){this.model=t,this.task=s,this.apiKey=a,this.stream=o,this.requestOptions=u}toString(){var t,s;const a=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||jO;let u=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||OO}/${a}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function MO(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${NO}/${DO}`),t.join(" ")}async function UO(e){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",MO(e.requestOptions)),s.append("x-goog-api-key",e.apiKey);let a=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(o){throw new Ki(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${o.message}`)}for(const[o,u]of a.entries()){if(o==="x-goog-api-key")throw new Ki(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Ki(`Header name ${o} can only be set using the apiClient field`);s.append(o,u)}}return s}async function LO(e,t,s,a,o,u){const c=new kO(e,t,s,a,u);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},VO(u)),{method:"POST",headers:await UO(c),body:o})}}async function _o(e,t,s,a,o,u={},c=fetch){const{url:f,fetchOptions:d}=await LO(e,t,s,a,o,u);return BO(f,d,c)}async function BO(e,t,s=fetch){let a;try{a=await s(e,t)}catch(o){PO(o,e)}return a.ok||await zO(a,e),a}function PO(e,t){let s=e;throw s.name==="AbortError"?(s=new zw(`Request aborted when fetching ${t.toString()}: ${e.message}`),s.stack=e.stack):e instanceof Pw||e instanceof Ki||(s=new Ut(`Error fetching from ${t.toString()}: ${e.message}`),s.stack=e.stack),s}async function zO(e,t){let s="",a;try{const o=await e.json();s=o.error.message,o.error.details&&(s+=` ${JSON.stringify(o.error.details)}`,a=o.error.details)}catch{}throw new Pw(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${s}`,e.status,e.statusText,a)}function VO(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const s=new AbortController;e?.timeout>=0&&setTimeout(()=>s.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}function Od(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),tu(e.candidates[0]))throw new Sa(`${Hi(e)}`,e);return IO(e)}else if(e.promptFeedback)throw new Sa(`Text not available. ${Hi(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),tu(e.candidates[0]))throw new Sa(`${Hi(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),y0(e)[0]}else if(e.promptFeedback)throw new Sa(`Function call not available. ${Hi(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),tu(e.candidates[0]))throw new Sa(`${Hi(e)}`,e);return y0(e)}else if(e.promptFeedback)throw new Sa(`Function call not available. ${Hi(e)}`,e)},e}function IO(e){var t,s,a,o;const u=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const c of(o=(a=e.candidates)===null||a===void 0?void 0:a[0].content)===null||o===void 0?void 0:o.parts)c.text&&u.push(c.text),c.executableCode&&u.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&u.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function y0(e){var t,s,a,o;const u=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const c of(o=(a=e.candidates)===null||a===void 0?void 0:a[0].content)===null||o===void 0?void 0:o.parts)c.functionCall&&u.push(c.functionCall);if(u.length>0)return u}const qO=[Yr.RECITATION,Yr.SAFETY,Yr.LANGUAGE];function tu(e){return!!e.finishReason&&qO.includes(e.finishReason)}function Hi(e){var t,s,a;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((s=e.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((a=e.candidates)===null||a===void 0)&&a[0]){const u=e.candidates[0];tu(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function lo(e){return this instanceof lo?(this.v=e,this):new lo(e)}function HO(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(e,t||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(b){a[b]&&(o[b]=function(w){return new Promise(function(E,T){u.push([b,w,E,T])>1||f(b,w)})})}function f(b,w){try{d(a[b](w))}catch(E){v(u[0][3],E)}}function d(b){b.value instanceof lo?Promise.resolve(b.value.v).then(p,g):v(u[0][2],b)}function p(b){f("next",b)}function g(b){f("throw",b)}function v(b,w){b(w),u.shift(),u.length&&f(u[0][0],u[0][1])}}const v0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function $O(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=FO(t),[a,o]=s.tee();return{stream:KO(a),response:GO(o)}}async function GO(e){const t=[],s=e.getReader();for(;;){const{done:a,value:o}=await s.read();if(a)return Od(YO(t));t.push(o)}}function KO(e){return HO(this,arguments,function*(){const s=e.getReader();for(;;){const{value:a,done:o}=yield lo(s.read());if(o)break;yield yield lo(Od(a))}})}function FO(e){const t=e.getReader();return new ReadableStream({start(a){let o="";return u();function u(){return t.read().then(({value:c,done:f})=>{if(f){if(o.trim()){a.error(new Ut("Failed to parse stream"));return}a.close();return}o+=c;let d=o.match(v0),p;for(;d;){try{p=JSON.parse(d[1])}catch{a.error(new Ut(`Error parsing JSON response: "${d[1]}"`));return}a.enqueue(p),o=o.substring(d[0].length),d=o.match(v0)}return u()}).catch(c=>{let f=c;throw f.stack=c.stack,f.name==="AbortError"?f=new zw("Request aborted when reading from the stream"):f=new Ut("Error reading from the stream"),f})}}})}function YO(e){const t=e[e.length-1],s={promptFeedback:t?.promptFeedback};for(const a of e){if(a.candidates){let o=0;for(const u of a.candidates)if(s.candidates||(s.candidates=[]),s.candidates[o]||(s.candidates[o]={index:o}),s.candidates[o].citationMetadata=u.citationMetadata,s.candidates[o].groundingMetadata=u.groundingMetadata,s.candidates[o].finishReason=u.finishReason,s.candidates[o].finishMessage=u.finishMessage,s.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){s.candidates[o].content||(s.candidates[o].content={role:u.content.role||"user",parts:[]});const c={};for(const f of u.content.parts)f.text&&(c.text=f.text),f.functionCall&&(c.functionCall=f.functionCall),f.executableCode&&(c.executableCode=f.executableCode),f.codeExecutionResult&&(c.codeExecutionResult=f.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),s.candidates[o].content.parts.push(c)}o++}a.usageMetadata&&(s.usageMetadata=a.usageMetadata)}return s}async function Vw(e,t,s,a){const o=await _o(t,js.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),a);return $O(o)}async function Iw(e,t,s,a){const u=await(await _o(t,js.GENERATE_CONTENT,e,!1,JSON.stringify(s),a)).json();return{response:Od(u)}}function qw(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function uo(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const s of e)typeof s=="string"?t.push({text:s}):t.push(s);return QO(t)}function QO(e){const t={role:"user",parts:[]},s={role:"function",parts:[]};let a=!1,o=!1;for(const u of e)"functionResponse"in u?(s.parts.push(u),o=!0):(t.parts.push(u),a=!0);if(a&&o)throw new Ut("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!o)throw new Ut("No content is provided for sending chat message.");return a?t:s}function XO(e,t){var s;let a={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(s=t?.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const o=e.generateContentRequest!=null;if(e.contents){if(o)throw new Ki("CountTokensRequest must have one of contents or generateContentRequest, not both.");a.contents=e.contents}else if(o)a=Object.assign(Object.assign({},a),e.generateContentRequest);else{const u=uo(e);a.contents=[u]}return{generateContentRequest:a}}function b0(e){let t;return e.contents?t=e:t={contents:[uo(e)]},e.systemInstruction&&(t.systemInstruction=qw(e.systemInstruction)),t}function JO(e){return typeof e=="string"||Array.isArray(e)?{content:uo(e)}:e}const w0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],WO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ZO(e){let t=!1;for(const s of e){const{role:a,parts:o}=s;if(!t&&a!=="user")throw new Ut(`First content should be with role 'user', got ${a}`);if(!u0.includes(a))throw new Ut(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(u0)}`);if(!Array.isArray(o))throw new Ut("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Ut("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const f of o)for(const d of w0)d in f&&(u[d]+=1);const c=WO[a];for(const f of w0)if(!c.includes(f)&&u[f]>0)throw new Ut(`Content with role '${a}' can't contain '${f}' part`);t=!0}}function _0(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const s=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const a of s.parts)if(a===void 0||Object.keys(a).length===0||a.text!==void 0&&a.text==="")return!1;return!0}const S0="SILENT_ERROR";class ej{constructor(t,s,a,o={}){this.model=s,this.params=a,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,a?.history&&(ZO(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var a,o,u,c,f,d;await this._sendPromise;const p=uo(t),g={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),s);let b;return this._sendPromise=this._sendPromise.then(()=>Iw(this._apiKey,this.model,g,v)).then(w=>{var E;if(_0(w.response)){this._history.push(p);const T=Object.assign({parts:[],role:"model"},(E=w.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(T)}else{const T=Hi(w.response);T&&console.warn(`sendMessage() was unsuccessful. ${T}. Inspect response object for details.`)}b=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,b}async sendMessageStream(t,s={}){var a,o,u,c,f,d;await this._sendPromise;const p=uo(t),g={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),s),b=Vw(this._apiKey,this.model,g,v);return this._sendPromise=this._sendPromise.then(()=>b).catch(w=>{throw new Error(S0)}).then(w=>w.response).then(w=>{if(_0(w)){this._history.push(p);const E=Object.assign({},w.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=Hi(w);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(w=>{w.message!==S0&&console.error(w)}),b}}async function tj(e,t,s,a){return(await _o(t,js.COUNT_TOKENS,e,!1,JSON.stringify(s),a)).json()}async function nj(e,t,s,a){return(await _o(t,js.EMBED_CONTENT,e,!1,JSON.stringify(s),a)).json()}async function ij(e,t,s,a){const o=s.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await _o(t,js.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),a)).json()}class E0{constructor(t,s,a={}){this.apiKey=t,this._requestOptions=a,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=qw(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var a;const o=b0(t),u=Object.assign(Object.assign({},this._requestOptions),s);return Iw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},o),u)}async generateContentStream(t,s={}){var a;const o=b0(t),u=Object.assign(Object.assign({},this._requestOptions),s);return Vw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},o),u)}startChat(t){var s;return new ej(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const a=XO(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),s);return tj(this.apiKey,this.model,a,o)}async embedContent(t,s={}){const a=JO(t),o=Object.assign(Object.assign({},this._requestOptions),s);return nj(this.apiKey,this.model,a,o)}async batchEmbedContents(t,s={}){const a=Object.assign(Object.assign({},this._requestOptions),s);return ij(this.apiKey,this.model,t,a)}}class sj{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new Ut("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new E0(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,a){if(!t.name)throw new Ki("Cached content must contain a `name` field.");if(!t.model)throw new Ki("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const c of o)if(s?.[c]&&t[c]&&s?.[c]!==t[c]){if(c==="model"){const f=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,d=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(f===d)continue}throw new Ki(`Different value for "${c}" specified in modelParams (${s[c]}) and cachedContent (${t[c]})`)}const u=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new E0(this.apiKey,u,a)}}var nu={exports:{}};var aj=nu.exports,T0;function rj(){return T0||(T0=1,(function(e,t){((s,a)=>{e.exports=a()})(aj,function s(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},o,u=!a.document&&!!a.postMessage,c=a.IS_PAPA_WORKER||!1,f={},d=0,p={};function g(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var K=$(k);K.chunkSize=parseInt(K.chunkSize),k.step||k.chunk||(K.chunkSize=null),this._handle=new T(K),(this._handle.streamer=this)._config=K}).call(this,A),this.parseChunk=function(k,K){var ee=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ee){let pe=this._config.newline;pe||(te=this._config.quoteChar||'"',pe=this._handle.guessLineEndings(k,te)),k=[...k.split(pe).slice(ee)].join(pe)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(te=this._config.beforeFirstChunk(k))!==void 0&&(k=te),this.isFirstChunk=!1,this._halted=!1;var ee=this._partialLine+k,te=(this._partialLine="",this._handle.parse(ee,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=te.meta.cursor,ee=(this._finished||(this._partialLine=ee.substring(k-this._baseIndex),this._baseIndex=k),te&&te.data&&(this._rowCount+=te.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)a.postMessage({results:te,workerId:p.WORKER_ID,finished:ee});else if(q(this._config.chunk)&&!K){if(this._config.chunk(te,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=te=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(te.data),this._completeResults.errors=this._completeResults.errors.concat(te.errors),this._completeResults.meta=te.meta),this._completed||!ee||!q(this._config.complete)||te&&te.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ee||te&&te.meta.paused||this._nextChunk(),te}this._halted=!0},this._sendError=function(k){q(this._config.error)?this._config.error(k):c&&this._config.error&&a.postMessage({workerId:p.WORKER_ID,error:k,finished:!1})}}function v(A){var k;(A=A||{}).chunkSize||(A.chunkSize=p.RemoteChunkSize),g.call(this,A),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),u||(k.onload=Q(this._chunkLoaded,this),k.onerror=Q(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var K,ee=this._config.downloadRequestHeaders;for(K in ee)k.setRequestHeader(K,ee[K])}var te;this._config.chunkSize&&(te=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+te));try{k.send(this._config.downloadRequestBody)}catch(pe){this._chunkError(pe.message)}u&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(K=>(K=K.getResponseHeader("Content-Range"))!==null?parseInt(K.substring(K.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(K){K=k.statusText||K,this._sendError(new Error(K))}}function b(A){(A=A||{}).chunkSize||(A.chunkSize=p.LocalChunkSize),g.call(this,A);var k,K,ee=typeof FileReader<"u";this.stream=function(te){this._input=te,K=te.slice||te.webkitSlice||te.mozSlice,ee?((k=new FileReader).onload=Q(this._chunkLoaded,this),k.onerror=Q(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var te=this._input,pe=(this._config.chunkSize&&(pe=Math.min(this._start+this._config.chunkSize,this._input.size),te=K.call(te,this._start,pe)),k.readAsText(te,this._config.encoding));ee||this._chunkLoaded({target:{result:pe}})},this._chunkLoaded=function(te){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(te.target.result)},this._chunkError=function(){this._sendError(k.error)}}function w(A){var k;g.call(this,A=A||{}),this.stream=function(K){return k=K,this._nextChunk()},this._nextChunk=function(){var K,ee;if(!this._finished)return K=this._config.chunkSize,k=K?(ee=k.substring(0,K),k.substring(K)):(ee=k,""),this._finished=!k,this.parseChunk(ee)}}function E(A){g.call(this,A=A||{});var k=[],K=!0,ee=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(te){this._input=te,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ee&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):K=!0},this._streamData=Q(function(te){try{k.push(typeof te=="string"?te:te.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(pe){this._streamError(pe)}},this),this._streamError=Q(function(te){this._streamCleanUp(),this._sendError(te)},this),this._streamEnd=Q(function(){this._streamCleanUp(),ee=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(A){var k,K,ee,te,pe=Math.pow(2,53),Re=-pe,Le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,W=0,Z=0,re=!1,j=!1,V=[],F={data:[],errors:[],meta:{}};function ne(he){return A.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function se(){if(F&&ee&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),ee=!1),A.skipEmptyLines&&(F.data=F.data.filter(function(Ve){return!ne(Ve)})),le()){let Ve=function(rt,je){q(A.transformHeader)&&(rt=A.transformHeader(rt,je)),V.push(rt)};var be=Ve;if(F)if(Array.isArray(F.data[0])){for(var he=0;le()&&he<F.data.length;he++)F.data[he].forEach(Ve);F.data.splice(0,1)}else F.data.forEach(Ve)}function ce(Ve,rt){for(var je=A.header?{}:[],De=0;De<Ve.length;De++){var _e=De,wt=Ve[De],wt=((Oe,Ie)=>(Ze=>(A.dynamicTypingFunction&&A.dynamicTyping[Ze]===void 0&&(A.dynamicTyping[Ze]=A.dynamicTypingFunction(Ze)),(A.dynamicTyping[Ze]||A.dynamicTyping)===!0))(Oe)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((Ze=>{if(Le.test(Ze)&&(Ze=parseFloat(Ze),Re<Ze&&Ze<pe))return 1})(Ie)?parseFloat(Ie):G.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(_e=A.header?De>=V.length?"__parsed_extra":V[De]:_e,wt=A.transform?A.transform(wt,_e):wt);_e==="__parsed_extra"?(je[_e]=je[_e]||[],je[_e].push(wt)):je[_e]=wt}return A.header&&(De>V.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+De,Z+rt):De<V.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+De,Z+rt)),je}var ze;F&&(A.header||A.dynamicTyping||A.transform)&&(ze=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(ce),ze=F.data.length):F.data=ce(F.data,0),A.header&&F.meta&&(F.meta.fields=V),Z+=ze)}function le(){return A.header&&V.length===0}function ve(he,ce,ze,be){he={type:he,code:ce,message:ze},be!==void 0&&(he.row=be),F.errors.push(he)}q(A.step)&&(te=A.step,A.step=function(he){F=he,le()?se():(se(),F.data.length!==0&&(W+=he.data.length,A.preview&&W>A.preview?K.abort():(F.data=F.data[0],te(F,L))))}),this.parse=function(he,ce,ze){var be=A.quoteChar||'"',be=(A.newline||(A.newline=this.guessLineEndings(he,be)),ee=!1,A.delimiter?q(A.delimiter)&&(A.delimiter=A.delimiter(he),F.meta.delimiter=A.delimiter):((be=((Ve,rt,je,De,_e)=>{var wt,Oe,Ie,Ze;_e=_e||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var Ln=0;Ln<_e.length;Ln++){for(var un,Xi=_e[Ln],Ue=0,cn=0,ot=0,Et=(Ie=void 0,new R({comments:De,delimiter:Xi,newline:rt,preview:10}).parse(Ve)),zt=0;zt<Et.data.length;zt++)je&&ne(Et.data[zt])?ot++:(un=Et.data[zt].length,cn+=un,Ie===void 0?Ie=un:0<un&&(Ue+=Math.abs(un-Ie),Ie=un));0<Et.data.length&&(cn/=Et.data.length-ot),(Oe===void 0||Ue<=Oe)&&(Ze===void 0||Ze<cn)&&1.99<cn&&(Oe=Ue,wt=Xi,Ze=cn)}return{successful:!!(A.delimiter=wt),bestDelimiter:wt}})(he,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=be.bestDelimiter:(ee=!0,A.delimiter=p.DefaultDelimiter),F.meta.delimiter=A.delimiter),$(A));return A.preview&&A.header&&be.preview++,k=he,K=new R(be),F=K.parse(k,ce,ze),se(),re?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,K.abort(),k=q(A.chunk)?"":k.substring(K.getCharIndex())},this.resume=function(){L.streamer._halted?(re=!1,L.streamer.parseChunk(k,!0)):setTimeout(L.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,K.abort(),F.meta.aborted=!0,q(A.complete)&&A.complete(F),k=""},this.guessLineEndings=function(Ve,be){Ve=Ve.substring(0,1048576);var be=new RegExp(O(be)+"([^]*?)"+O(be),"gm"),ze=(Ve=Ve.replace(be,"")).split("\r"),be=Ve.split(`
`),Ve=1<be.length&&be[0].length<ze[0].length;if(ze.length===1||Ve)return`
`;for(var rt=0,je=0;je<ze.length;je++)ze[je][0]===`
`&&rt++;return rt>=ze.length/2?`\r
`:"\r"}}function O(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(A){var k=(A=A||{}).delimiter,K=A.newline,ee=A.comments,te=A.step,pe=A.preview,Re=A.fastMode,Le=null,G=!1,L=A.quoteChar==null?'"':A.quoteChar,W=L;if(A.escapeChar!==void 0&&(W=A.escapeChar),(typeof k!="string"||-1<p.BAD_DELIMITERS.indexOf(k))&&(k=","),ee===k)throw new Error("Comment character same as delimiter");ee===!0?ee="#":(typeof ee!="string"||-1<p.BAD_DELIMITERS.indexOf(ee))&&(ee=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var Z=0,re=!1;this.parse=function(j,V,F){if(typeof j!="string")throw new Error("Input must be a string");var ne=j.length,se=k.length,le=K.length,ve=ee.length,he=q(te),ce=[],ze=[],be=[],Ve=Z=0;if(!j)return Ue();if(Re||Re!==!1&&j.indexOf(L)===-1){for(var rt=j.split(K),je=0;je<rt.length;je++){if(be=rt[je],Z+=be.length,je!==rt.length-1)Z+=K.length;else if(F)return Ue();if(!ee||be.substring(0,ve)!==ee){if(he){if(ce=[],Ze(be.split(k)),cn(),re)return Ue()}else Ze(be.split(k));if(pe&&pe<=je)return ce=ce.slice(0,pe),Ue(!0)}}return Ue()}for(var De=j.indexOf(k,Z),_e=j.indexOf(K,Z),wt=new RegExp(O(W)+O(L),"g"),Oe=j.indexOf(L,Z);;)if(j[Z]===L)for(Oe=Z,Z++;;){if((Oe=j.indexOf(L,Oe+1))===-1)return F||ze.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:Z}),un();if(Oe===ne-1)return un(j.substring(Z,Oe).replace(wt,L));if(L===W&&j[Oe+1]===W)Oe++;else if(L===W||Oe===0||j[Oe-1]!==W){De!==-1&&De<Oe+1&&(De=j.indexOf(k,Oe+1));var Ie=Ln((_e=_e!==-1&&_e<Oe+1?j.indexOf(K,Oe+1):_e)===-1?De:Math.min(De,_e));if(j.substr(Oe+1+Ie,se)===k){be.push(j.substring(Z,Oe).replace(wt,L)),j[Z=Oe+1+Ie+se]!==L&&(Oe=j.indexOf(L,Z)),De=j.indexOf(k,Z),_e=j.indexOf(K,Z);break}if(Ie=Ln(_e),j.substring(Oe+1+Ie,Oe+1+Ie+le)===K){if(be.push(j.substring(Z,Oe).replace(wt,L)),Xi(Oe+1+Ie+le),De=j.indexOf(k,Z),Oe=j.indexOf(L,Z),he&&(cn(),re))return Ue();if(pe&&ce.length>=pe)return Ue(!0);break}ze.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:Z}),Oe++}}else if(ee&&be.length===0&&j.substring(Z,Z+ve)===ee){if(_e===-1)return Ue();Z=_e+le,_e=j.indexOf(K,Z),De=j.indexOf(k,Z)}else if(De!==-1&&(De<_e||_e===-1))be.push(j.substring(Z,De)),Z=De+se,De=j.indexOf(k,Z);else{if(_e===-1)break;if(be.push(j.substring(Z,_e)),Xi(_e+le),he&&(cn(),re))return Ue();if(pe&&ce.length>=pe)return Ue(!0)}return un();function Ze(ot){ce.push(ot),Ve=Z}function Ln(ot){var Et=0;return Et=ot!==-1&&(ot=j.substring(Oe+1,ot))&&ot.trim()===""?ot.length:Et}function un(ot){return F||(ot===void 0&&(ot=j.substring(Z)),be.push(ot),Z=ne,Ze(be),he&&cn()),Ue()}function Xi(ot){Z=ot,Ze(be),be=[],_e=j.indexOf(K,Z)}function Ue(ot){if(A.header&&!V&&ce.length&&!G){var Et=ce[0],zt=Object.create(null),Ka=new Set(Et);let Fa=!1;for(let pi=0;pi<Et.length;pi++){let hn=Et[pi];if(zt[hn=q(A.transformHeader)?A.transformHeader(hn,pi):hn]){let Cn,kt=zt[hn];for(;Cn=hn+"_"+kt,kt++,Ka.has(Cn););Ka.add(Cn),Et[pi]=Cn,zt[hn]++,Fa=!0,(Le=Le===null?{}:Le)[Cn]=hn}else zt[hn]=1,Et[pi]=hn;Ka.add(hn)}Fa&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:ce,errors:ze,meta:{delimiter:k,linebreak:K,aborted:re,truncated:!!ot,cursor:Ve+(V||0),renamedHeaders:Le}}}function cn(){te(Ue()),ce=[],ze=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return Z}}function N(A){var k=A.data,K=f[k.workerId],ee=!1;if(k.error)K.userError(k.error,k.file);else if(k.results&&k.results.data){var te={abort:function(){ee=!0,C(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(q(K.userStep)){for(var pe=0;pe<k.results.data.length&&(K.userStep({data:k.results.data[pe],errors:k.results.errors,meta:k.results.meta},te),!ee);pe++);delete k.results}else q(K.userChunk)&&(K.userChunk(k.results,te,k.file),delete k.results)}k.finished&&!ee&&C(k.workerId,k.results)}function C(A,k){var K=f[A];q(K.userComplete)&&K.userComplete(k),K.terminate(),delete f[A]}function z(){throw new Error("Not implemented.")}function $(A){if(typeof A!="object"||A===null)return A;var k,K=Array.isArray(A)?[]:{};for(k in A)K[k]=$(A[k]);return K}function Q(A,k){return function(){A.apply(k,arguments)}}function q(A){return typeof A=="function"}return p.parse=function(A,k){var K=(k=k||{}).dynamicTyping||!1;if(q(K)&&(k.dynamicTypingFunction=K,K={}),k.dynamicTyping=K,k.transform=!!q(k.transform)&&k.transform,!k.worker||!p.WORKERS_SUPPORTED)return K=null,p.NODE_STREAM_INPUT,typeof A=="string"?(A=(ee=>ee.charCodeAt(0)!==65279?ee:ee.slice(1))(A),K=new(k.download?v:w)(k)):A.readable===!0&&q(A.read)&&q(A.on)?K=new E(k):(a.File&&A instanceof File||A instanceof Object)&&(K=new b(k)),K.stream(A);(K=(()=>{var ee;return!!p.WORKERS_SUPPORTED&&(ee=(()=>{var te=a.URL||a.webkitURL||null,pe=s.toString();return p.BLOB_URL||(p.BLOB_URL=te.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",pe,")();"],{type:"text/javascript"})))})(),(ee=new a.Worker(ee)).onmessage=N,ee.id=d++,f[ee.id]=ee)})()).userStep=k.step,K.userChunk=k.chunk,K.userComplete=k.complete,K.userError=k.error,k.step=q(k.step),k.chunk=q(k.chunk),k.complete=q(k.complete),k.error=q(k.error),delete k.worker,K.postMessage({input:A,config:k,workerId:K.id})},p.unparse=function(A,k){var K=!1,ee=!0,te=",",pe=`\r
`,Re='"',Le=Re+Re,G=!1,L=null,W=!1,Z=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||p.BAD_DELIMITERS.filter(function(V){return k.delimiter.indexOf(V)!==-1}).length||(te=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(K=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(G=k.skipEmptyLines),typeof k.newline=="string"&&(pe=k.newline),typeof k.quoteChar=="string"&&(Re=k.quoteChar),typeof k.header=="boolean"&&(ee=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");L=k.columns}k.escapeChar!==void 0&&(Le=k.escapeChar+Re),k.escapeFormulae instanceof RegExp?W=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(O(Re),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return re(null,A,G);if(typeof A[0]=="object")return re(L||Object.keys(A[0]),A,G)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||L),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),re(A.fields||[],A.data||[],G);throw new Error("Unable to serialize unrecognized input");function re(V,F,ne){var se="",le=(typeof V=="string"&&(V=JSON.parse(V)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(V)&&0<V.length),ve=!Array.isArray(F[0]);if(le&&ee){for(var he=0;he<V.length;he++)0<he&&(se+=te),se+=j(V[he],he);0<F.length&&(se+=pe)}for(var ce=0;ce<F.length;ce++){var ze=(le?V:F[ce]).length,be=!1,Ve=le?Object.keys(F[ce]).length===0:F[ce].length===0;if(ne&&!le&&(be=ne==="greedy"?F[ce].join("").trim()==="":F[ce].length===1&&F[ce][0].length===0),ne==="greedy"&&le){for(var rt=[],je=0;je<ze;je++){var De=ve?V[je]:je;rt.push(F[ce][De])}be=rt.join("").trim()===""}if(!be){for(var _e=0;_e<ze;_e++){0<_e&&!Ve&&(se+=te);var wt=le&&ve?V[_e]:_e;se+=j(F[ce][wt],_e)}ce<F.length-1&&(!ne||0<ze&&!Ve)&&(se+=pe)}}return se}function j(V,F){var ne,se;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(se=!1,W&&typeof V=="string"&&W.test(V)&&(V="'"+V,se=!0),ne=V.toString().replace(Z,Le),(se=se||K===!0||typeof K=="function"&&K(V,F)||Array.isArray(K)&&K[F]||((le,ve)=>{for(var he=0;he<ve.length;he++)if(-1<le.indexOf(ve[he]))return!0;return!1})(ne,p.BAD_DELIMITERS)||-1<ne.indexOf(te)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?Re+ne+Re:ne)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!u&&!!a.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=R,p.ParserHandle=T,p.NetworkStreamer=v,p.FileStreamer=b,p.StringStreamer=w,p.ReadableStreamStreamer=E,a.jQuery&&((o=a.jQuery).fn.parse=function(A){var k=A.config||{},K=[];return this.each(function(pe){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var Re=0;Re<this.files.length;Re++)K.push({file:this.files[Re],inputElem:this,instanceConfig:o.extend({},k)})}),ee(),this;function ee(){if(K.length===0)q(A.complete)&&A.complete();else{var pe,Re,Le,G,L=K[0];if(q(A.before)){var W=A.before(L.file,L.inputElem);if(typeof W=="object"){if(W.action==="abort")return pe="AbortError",Re=L.file,Le=L.inputElem,G=W.reason,void(q(A.error)&&A.error({name:pe},Re,Le,G));if(W.action==="skip")return void te();typeof W.config=="object"&&(L.instanceConfig=o.extend(L.instanceConfig,W.config))}else if(W==="skip")return void te()}var Z=L.instanceConfig.complete;L.instanceConfig.complete=function(re){q(Z)&&Z(re,L.file,L.inputElem),te()},p.parse(L.file,L.instanceConfig)}}function te(){K.splice(0,1),ee()}}),c&&(a.onmessage=function(A){A=A.data,p.WORKER_ID===void 0&&A&&(p.WORKER_ID=A.workerId),typeof A.input=="string"?a.postMessage({workerId:p.WORKER_ID,results:p.parse(A.input,A.config),finished:!0}):(a.File&&A.input instanceof File||A.input instanceof Object)&&(A=p.parse(A.input,A.config))&&a.postMessage({workerId:p.WORKER_ID,results:A,finished:!0})}),(v.prototype=Object.create(g.prototype)).constructor=v,(b.prototype=Object.create(g.prototype)).constructor=b,(w.prototype=Object.create(w.prototype)).constructor=w,(E.prototype=Object.create(g.prototype)).constructor=E,p})})(nu)),nu.exports}var oj=rj();const lj=zb(oj),uj="AIzaSyBtSNJRSetfoJqWDv8Nag0SqQYeZ0bCwOU";let qf=null;qf=new sj(uj);const jd="The AI output did not match the expected format. Please try a slightly different input.";function Hw(){return localStorage.getItem("selectedModel")||"gemma-3-27b-it"}const Dd=async e=>{if(!qf)throw new Error("API Key missing");const t=Hw(),s=qf.getGenerativeModel({model:t});console.log("AI Prompt:",e);try{const o=(await s.generateContent(e)).response.text();return console.log("AI Response:",o),o.replace(/```csv/g,"").replace(/```/g,"").trim()}catch(a){throw console.error("AI Error:",a),a.message?.includes("429")?new Error("Quota Exceeded. Please wait a minute and try again."):a}},cj=(e,t=",")=>lj.parse(e,{delimiter:t,skipEmptyLines:!0,trimHeaders:!0}).data;async function hj(e){const t=`
Theme: "${e}"

Task:
Create exactly 4 categories for numeric attributes of items of the given theme.
Each category MUST include either a unit or "out of 10" in brackets if applicable. No explanation.

Format Example:
Top Speed [km/h], Weight [kg], Power [hp], 0-100 Time [s]
`,s=await Dd(t),a=s.split(",").map(u=>u.trim()).filter(u=>u.length>0);if(a.length!==4)throw console.error(`Invalid categories count (${a.length}/4):`,s),new Error(jd);return a.map(u=>({name:u,higherWins:!0}))}async function $w(e,t,s=32){const a=`
Task: Generate exactly ${s} unique entries in a list of ${e}.
Return a simple line-break separated list. No explanation.

Example:
Item 1
Item 2
Item 3
`,o=await Dd(a),u=o.split(`
`).map(c=>c.replace(/^[\d]+[.)\-]\s*/,"").trim()).filter(c=>c.length>0).slice(0,s);if(u.length!==s)throw console.error(`Invalid card names count (${u.length}/${s}):`,o),new Error(jd);return{cardNames:u}}async function Gw(e,t,s){const o=`Name,${t.map(g=>g.name).join(",")}`,u=s.map(g=>{const v=new Array(t.length).fill("?").join(",");return`${g},${v}`}).join(`
`),c=`
Theme: "${e}"
Task: Fill in the missing values ('?') in the CSV table below. No explanation.

Rules:
1. Stats: Provide numeric values only for the categories.
2. Return the COMPLETE filled CSV table, keeping the same header and row order.

CSV Template to Fill:
${o}
${u}
`,f=await Dd(c),d=cj(f,","),p=[];for(const g of d){if(g.length<2)continue;const v=g[0]?.trim();if(!v||v==="Name")continue;const b={};t.forEach((w,E)=>{const T=g[1+E],O=String(T).replace(/[^\d.-]/g,""),R=parseFloat(O);b[w.name]=isNaN(R)?0:R}),p.push({name:v,values:b})}if(p.length===0)throw console.error("Invalid card details format (no cards parsed):",f),new Error(jd);return{cards:p}}const fj=Object.freeze(Object.defineProperty({__proto__:null,generateCardDetails:Gw,generateCardNames:$w,generateCategories:hj,getSelectedModel:Hw},Symbol.toStringTag,{value:"Module"})),dj=({initialPartialDeck:e,onSave:t,onCancel:s,theme:a,targetCount:o=32})=>{const[u,c]=x.useState(1),[f,d]=x.useState(e),[p,g]=x.useState(!1),[v,b]=x.useState(""),{setTitle:w,setBackTo:E}=Ia();Ba.useEffect(()=>{w({1:"Review Categories",2:"Review Card Names",3:"Edit Images"}[u]),E(u===1?()=>s:()=>()=>c(u-1))},[u,w,E,s]);const T=C=>{d(z=>({...z,...C}))},O=(C,z)=>{d($=>{const Q=[...$.cards];return Q[C]={...Q[C],...z},{...$,cards:Q}})},R=async()=>{g(!0),b("Generating Card Names...");try{const z=(await $w(a,f.categories,o)).cardNames.map(($,Q)=>({index:Q+1,name:$,values:{}}));T({cards:z}),c(2)}catch(C){alert("Error generating names: "+C.message)}finally{g(!1)}},N=async()=>{g(!0),b("Generating Stats...");try{const C=await Gw(a,f.categories,f.cards.map(z=>z.name));T({cards:C.cards}),c(3)}catch(C){alert("Error generating details: "+C.message)}finally{g(!1)}};return p?S.jsxs("div",{className:"deck-review-loading",children:[S.jsx("div",{className:"spinner"}),S.jsx("h3",{children:v})]}):S.jsx("div",{className:"deck-review-container",children:S.jsxs("div",{className:"review-content",children:[S.jsxs("div",{className:"step-indicator",style:{textAlign:"center",marginBottom:"var(--spacing-md)",fontSize:"0.9rem"},children:["Step ",u,"/3"]}),u===1&&S.jsx(yO,{deck:f,updateDeck:T,onNext:R}),u===2&&S.jsx(vO,{deck:f,updateDeck:T,onNext:N}),u===3&&S.jsx(RO,{deck:f,updateDeck:T,updateCard:O,onSave:()=>t(f)})]})})};async function mj(e){if(!e)return[];const{data:t,error:s}=await bt.from("decks").select("*, cards(count)").eq("created_by",e).order("created_at",{ascending:!1});if(s)throw s;const{data:a,error:o}=await bt.from("deck_access").select("deck:decks(*, cards(count))").eq("user_id",e);if(o)throw o;const u=a.map(f=>({...f.deck,isShared:!0}));return[...t||[],...u].sort((f,d)=>new Date(d.created_at)-new Date(f.created_at))}async function pj(e,t){const{data:s}=await bt.from("decks").select("created_by").eq("id",e).single();if(s&&s.created_by===t)return;const{error:a}=await bt.from("deck_access").upsert({deck_id:e,user_id:t,access_level:"read",last_accessed_at:new Date},{onConflict:"user_id, deck_id"});a&&console.error("Error granting deck access:",a)}async function Kw(e){const{data:t,error:s}=await bt.from("decks").select("*, cards(*)").eq("id",e).single();if(s)throw s;return t.cards&&t.cards.sort((a,o)=>a.name.localeCompare(o.name)),t}async function gj(e,t,s){const{data:a,error:o}=await bt.from("decks").insert({name:e.name,theme:e.theme,categories:e.categories,created_by:s}).select().single();if(o)throw o;const u=t.map(f=>({deck_id:a.id,name:f.name,image_url:f.image_url,attribution_text:f.attribution_text,attributes:f.values||f.attributes})),{error:c}=await bt.from("cards").insert(u);if(c)throw c;return a}async function yj(e,t){const{data:s}=await bt.from("decks").select("created_by").eq("id",e).single();if(s&&s.created_by&&s.created_by!==t)throw new Error("Unauthorized: You do not own this deck.");const{error:a}=await bt.from("decks").delete().eq("id",e);if(a)throw a}const vj=()=>{const[e,t]=x.useState(""),[s,a]=x.useState(32),[o,u]=x.useState(!1),[c,f]=x.useState(null),[d,p]=x.useState(null),[g,v]=x.useState(!1),b=Va(),{user:w}=qa(),{setTitle:E,setBackTo:T}=Ia();x.useEffect(()=>{g||(E("Create Deck"),T("/"))},[g]);const O=x.useCallback(async C=>{try{if(!w)throw new Error("You must be logged in to save a deck.");await gj({name:C.deckName,theme:C.theme,categories:C.categories},C.cards,w.id),alert("Deck saved successfully!"),v(!1),p(null),b("/collection")}catch(z){console.error("Error saving deck:",z),alert("Failed to save deck: "+z.message)}},[w,b]),R=async()=>{if(e.trim()){u(!0),f(null);try{console.log("Starting progressive generation...");const{generateCategories:C}=await gO(async()=>{const{generateCategories:$}=await Promise.resolve().then(()=>fj);return{generateCategories:$}},[]),z=await C(e);console.log("Categories generated:",z),p({deckName:e,theme:e,categories:z,cards:[]}),v(!0)}catch(C){console.error("Deck Generation Failed:",C),f(C.message||"Failed to generate deck")}finally{u(!1)}}},N=x.useCallback(()=>{v(!1),p(null)},[]);return S.jsxs("div",{className:"page-view app-card",children:[!g&&S.jsx("div",{style:{height:"var(--spacing-md)"}})," ",d?g?S.jsx(dj,{initialPartialDeck:d,theme:e,targetCount:s,onSave:O,onCancel:N}):null:S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"input-group",children:S.jsx(Cs,{label:"Deck Theme",placeholder:"e.g. Vintage Supercars, Marvel Heroes...",value:e,onChange:C=>t(C.target.value),disabled:o})}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Number of Cards"}),S.jsx("div",{className:"size-selector",style:{display:"flex"},children:[12,16,24,32].map(C=>S.jsx(Qe,{variant:s===C?"primary":"secondary",onClick:()=>a(C),style:{flex:1},disabled:o,size:"sm",children:C},C))})]}),c&&S.jsx("div",{className:"error-message",style:{color:"var(--danger)",fontSize:"0.9rem"},children:c}),S.jsx(Qe,{variant:"primary",onClick:R,disabled:o||!e.trim(),loading:o,fullWidth:!0,children:o?"Generating...":"Generate with AI"})]})]})};async function bj(e,t,s){const{data:a,error:o}=await bt.from("games").insert({host_deck_id:e,status:"lobby",game_state:{players:[{id:t,name:s,isHost:!0,hand:[],cardsWon:[]}],pot:[],chat:[]}}).select().single();if(o)throw o;return a}function wj(e,t){const s=bt.channel(`game:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${e}`},a=>{t(a)}).subscribe(a=>{console.log(`[GameService] Subscription status for ${e}:`,a)});return()=>{bt.removeChannel(s)}}async function Yl(e,t,s=null){const a={game_state:t};s&&(a.status=s);const{error:o}=await bt.from("games").update(a).eq("id",e);o&&console.error("Sync Error:",o)}const _j=({deckId:e,onBack:t})=>{const[s,a]=x.useState(null),[o,u]=x.useState(!0),[c,f]=x.useState("grid");return x.useEffect(()=>{(async()=>{try{const p=await Kw(e);a(p)}catch(p){console.error(p)}finally{u(!1)}})()},[e]),o?S.jsx("div",{className:"p-4 text-center",children:"Loading deck details..."}):s?S.jsxs("div",{className:"page-view app-card",children:[S.jsxs("div",{className:"detail-header",children:[S.jsxs(Qe,{variant:"ghost",size:"sm",onClick:t,className:"back-btn",children:[S.jsx(yw,{size:16})," Back"]}),S.jsxs("div",{className:"view-toggles",children:[S.jsx("button",{className:`toggle-btn ${c==="grid"?"active":""}`,onClick:()=>f("grid"),title:"Card View",children:S.jsx(TA,{size:20})}),S.jsx("button",{className:`toggle-btn ${c==="table"?"active":""}`,onClick:()=>f("table"),title:"Table View",children:S.jsx(CA,{size:20})})]})]}),S.jsx("h2",{className:"deck-title gradient-text",children:s.name}),c==="grid"?S.jsx("div",{className:"modern-list",children:s.cards.map(d=>S.jsx(Eu,{card:d,categories:s.categories,deckName:s.name,enableFlip:!0},d.id))}):S.jsx("div",{className:"table-container",children:S.jsxs("table",{className:"stats-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Name"}),s.categories.map((d,p)=>{const g=d.name.match(/^(.+?)\s*\[(.*?)\]$/),v=g?g[1].trim():d.name,b=g?g[2].trim():d.unit;return S.jsxs("th",{children:[v," ",S.jsx("span",{className:"th-unit",children:b})]},p)})]})}),S.jsx("tbody",{children:s.cards.map(d=>S.jsxs("tr",{children:[S.jsx("td",{className:"card-name-cell",children:d.name}),s.categories.map((p,g)=>S.jsx("td",{children:(d.values&&d.values[p.name])??(d.attributes&&d.attributes[p.name])??"-"},g))]},d.id))})]})})]}):S.jsx("div",{className:"p-4 text-center",children:"Deck not found"})},Sj=()=>{const[e,t]=x.useState([]),[s,a]=x.useState(!0),[o,u]=x.useState(null),c=Va(),{setTitle:f,setBackTo:d}=Ia(),{user:p}=qa();x.useEffect(()=>{p&&g()},[p]),x.useEffect(()=>{o||(f("My Collection"),d("/"))},[o]);const g=async()=>{try{const T=await mj(p.id);t(T)}catch(T){console.error("Error fetching decks:",T)}finally{a(!1)}},v=async(T,O)=>{if(T.stopPropagation(),window.confirm("Are you sure you want to delete this deck? This action cannot be undone."))try{await yj(O,p.id),t(R=>R.filter(N=>N.id!==O))}catch(R){console.error("Error deleting deck:",R),alert("Failed to delete deck: "+R.message)}};if(o)return S.jsx(_j,{deckId:o,onBack:()=>u(null)});const b=e.filter(T=>!T.isShared),w=e.filter(T=>T.isShared),E=({items:T,title:O})=>S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsx("h3",{style:{color:"var(--text-light)",opacity:.7,marginBottom:"1rem",textTransform:"uppercase",fontSize:"0.9rem",letterSpacing:"0.05em"},children:O}),S.jsx("div",{className:"modern-list",children:T.map(R=>{const N=!R.isShared;return S.jsxs("div",{className:"modern-list-item",children:[S.jsxs("div",{className:"deck-info",onClick:()=>u(R.id),style:{cursor:"pointer",flex:1},children:[S.jsx("h3",{children:R.name}),S.jsx("p",{style:{color:"var(--text-ink)",opacity:.7,fontSize:"0.85rem",margin:"4px 0"},children:R.categories?.map(C=>C.name).join("  ")}),S.jsxs("div",{className:"deck-meta",style:{color:"var(--text-ink)",opacity:.7,display:"flex",gap:"12px",fontSize:"0.8rem"},children:[S.jsxs("span",{children:[R.cards?.[0]?.count||0," Cards"]}),S.jsx("span",{children:new Date(R.created_at).toLocaleDateString()}),R.isShared&&S.jsx("span",{style:{color:"var(--text-gold)",fontWeight:"bold"},children:"Shared"})]})]}),S.jsxs("div",{className:"deck-actions",children:[N&&S.jsx(Qe,{variant:"ghost",size:"sm",onClick:C=>v(C,R.id),title:"Delete Deck",style:{color:"var(--danger)"},children:S.jsx(jA,{size:16})}),S.jsx(Qe,{variant:"secondary",size:"sm",onClick:C=>{C.stopPropagation(),u(R.id)},children:"View"}),S.jsx(Qe,{variant:"primary",size:"sm",onClick:async C=>{C.stopPropagation();try{const z=p.user_metadata?.full_name||p.email?.split("@")[0]||"Player",$=await bj(R.id,p.id,`${z} (Host)`);c(`/game/${$.id}`)}catch(z){console.error(z),alert("Failed to create game")}},children:"Play"})]})]},R.id)})})]});return S.jsx("div",{className:"page-view app-card",children:s?S.jsx("div",{className:"loading",children:"Loading decks..."}):e.length===0?S.jsx(pw,{message:"You haven't created any decks yet.",children:S.jsx(Qe,{variant:"primary",onClick:()=>c("/create"),style:{marginTop:"16px"},children:"Create Deck"})}):S.jsxs(S.Fragment,{children:[b.length>0&&S.jsx(E,{items:b,title:"My Decks"}),w.length>0&&S.jsx(E,{items:w,title:"Shared with Me"})]})})};function Ej(e,t,s){let a={...e};const o=a.players.map(w=>({...w,hand:[...w.hand]}));let u=[...a.pot];a.pot=[];const c=t.categories.find(w=>w.name===s),f=c?c.higherWins:!0;let d=o.filter(w=>!w.eliminated);d.length<2&&a.winner;let p=null,g=[],v=[];for(;!p;){const w=d.filter(C=>C.hand.length>0);if(w.length===0)break;if(w.length===1){p=w[0];break}d=w;const E=d.map(C=>{const z=C.hand[0],$=z.attributes?z.attributes[s]:z.values?z.values[s]:0,Q=parseFloat($)||0;return{playerId:C.id,playerName:C.name,card:z,value:Q,playerRef:C}}),T=E.map(C=>C.card);u.push(...T),E.forEach(C=>{C.playerRef.hand.shift()});const O=f?1:-1;E.sort((C,z)=>(z.value-C.value)*O);const R=E[0].value,N=E.filter(C=>C.value===R);g=E,v.push({winner:N.length===1?N[0].playerId:null,cardsPlayed:E.map(C=>({playerId:C.playerId,playerName:C.playerName,card:C.card,value:C.value}))}),N.length===1?p=N[0].playerRef:d=N.map(C=>C.playerRef)}p?(p.hand.push(...u),a.warMode=!1,a.warParticipants=null,a.turnPlayerId=p.id,a.lastRound={category:s,winner:p.id,winnerName:p.name,warHistory:v,cardsPlayed:g.map(w=>({playerId:w.playerId,playerName:w.playerName,card:w.card}))}):(a.warMode=!1,a.turnPlayerId=null,a.lastRound={category:s,winner:null,winnerName:null,warHistory:v,cardsPlayed:g.map(w=>({playerId:w.playerId,playerName:w.playerName,card:w.card}))}),a.players=o,a.pot=[],a.players.forEach(w=>{w.hand.length===0&&(w.eliminated=!0)});const b=a.players.filter(w=>!w.eliminated);return b.length===1?(a.winner=b[0],a.status="completed"):b.length===0&&(a.status="completed",a.winner={name:"No One (Draw)"}),a.status!=="completed"&&(!a.turnPlayerId||a.players.find(w=>w.id===a.turnPlayerId)?.eliminated)&&(a.turnPlayerId=b[0]?.id),a}function Tj(e,t){const s=[...t];for(let c=s.length-1;c>0;c--){const f=Math.floor(Math.random()*(c+1));[s[c],s[f]]=[s[f],s[c]]}const a=e.map(c=>({...c,hand:[],cardsWon:[],eliminated:!1})),o=Math.floor(s.length/a.length);a.forEach((c,f)=>{const d=f*o,p=d+o;c.hand=s.slice(d,p)});const u=s.slice(a.length*o);return{players:a,pot:u,turnPlayerId:a[0].id,warMode:!1,lastRound:null,winner:null,status:"active"}}function xj(e,t){let s={...e};const a=s.players.findIndex(c=>c.id===t);if(a===-1)return s;const o={...s.players[a]};s.pot=[...s.pot,...o.hand],o.hand=[],o.eliminated=!0,s.players=[...s.players],s.players[a]=o;const u=s.players.filter(c=>!c.eliminated);return u.length===1&&(s.winner=u[0],s.status="completed"),s.turnPlayerId===t&&s.status!=="completed"&&(s.turnPlayerId=u[0]?.id),s}function Cj(e){const{user:t}=qa(),[s,a]=x.useState(sessionStorage.getItem("qn_player_id")),o=t?t.id:s,[u,c]=x.useState(null),[f,d]=x.useState("loading"),[p,g]=x.useState(null),[v,b]=x.useState(null),w=u?.players?.[0]?.id===o,E=u?.players?.find(z=>z.id===o),T=u?.turnPlayerId===o;u?.warMode,x.useEffect(()=>{if(!t&&!s){const z=crypto.randomUUID();console.log(`[useGame] Generated new Guest ID: ${z}`),sessionStorage.setItem("qn_player_id",z),a(z)}},[t,s]),x.useEffect(()=>{if(!e)return;(async()=>{const{data:Q,error:q}=await bt.from("games").select("*").eq("id",e).single();if(q){g(q.message);return}if(c(Q.game_state),d(Q.status),Q.host_deck_id){const A=await Kw(Q.host_deck_id);b(A)}})();const $=wj(e,Q=>{console.log("[useGame] Received Update:",Q),Q.new&&(c(Q.new.game_state),d(Q.new.status))});return()=>$()},[e]);const O=async z=>{if(!e||!o){console.error("[useGame] Join aborted: Missing gameId or playerId",{gameId:e,playerId:o});return}if(console.log(`[useGame] Joining game ${e} with name ${z}`),u?.players?.find($=>$.id===o)){console.warn(`[useGame] Player ${o} already in game`);return}try{const $=u?.players||[];if(console.log("[useGame] Current players:",$),$.length>=4)throw new Error("Lobby Full");const Q={id:o,name:z,isHost:!1,hand:[],cardsWon:[]},q={...u,players:[...$,Q]};await Yl(e,q),console.log("[useGame] Join successful")}catch($){console.error("[useGame] Join Failed:",$),g($.message)}},R=async()=>{if(!w||!v)return;const z=Tj(u.players,v.cards),$={...u,...z};await Yl(e,$,"active")},N=async z=>{if(T)try{const $=Ej(u,v,z),Q=$.winner?"completed":"active";await Yl(e,$,Q)}catch($){console.error("Game Logic Error:",$)}},C=async()=>{if(!(!u||!E)&&window.confirm("Are you sure you want to surrender? You will be eliminated from the game."))try{const z=xj(u,E.id),$=z.winner?"completed":"active";await Yl(e,z,$)}catch(z){console.error("Concede Error:",z)}};return{gameState:u,status:f,myPlayer:E,isHost:w,isMyTurn:T,players:u?.players||[],deck:v,actions:{join:O,start:R,playTurn:N,concede:C},error:p}}const Aj=({matchId:e,players:t,isHost:s,onStart:a})=>{const[o,u]=Ba.useState("Copy Link"),c=async()=>{try{await navigator.clipboard.writeText(window.location.href),u("Copied!"),setTimeout(()=>u("Copy Link"),2e3)}catch(f){console.error("Failed to copy class",f);const d=document.createElement("textarea");d.value=window.location.href,document.body.appendChild(d),d.select(),document.execCommand("Copy"),d.remove(),u("Copied!"),setTimeout(()=>u("Copy Link"),2e3)}};return S.jsxs("div",{className:"page-view app-card centered lobby-card",children:[S.jsxs("div",{className:"lobby-header lobby-header-reset",children:[S.jsx("p",{className:"lobby-subtitle lobby-subtitle-reset",children:"Waiting for players to join..."}),S.jsxs("div",{className:"match-id-container",children:[S.jsx("span",{className:"match-code-label",children:"LINK:"}),S.jsx("code",{className:"match-code",children:window.location.href}),S.jsx(Qe,{variant:"secondary",size:"sm",onClick:c,children:o})]})]}),S.jsx("div",{className:"modern-grid",children:[0,1,2,3].map(f=>{const d=t[f];return S.jsx("div",{className:`player-slot ${d?"occupied":"empty"}`,children:d?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"player-avatar",children:""}),S.jsx("div",{className:"player-name",children:d.name}),S.jsxs("div",{className:"player-label",children:["Player ",f+1]})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"player-avatar player-avatar-placeholder",children:"?"}),S.jsx("div",{className:"open-slot-text",children:"Slot Open"}),S.jsxs("div",{className:"player-label",children:["Player ",f+1]})]})},f)})}),S.jsx("div",{className:"lobby-footer",children:s?S.jsx(Qe,{variant:"primary",size:"lg",className:"btn-glow",disabled:t.length<2,onClick:a,children:t.length<2?"Waiting for players...":"Start Game"}):S.jsx("div",{className:"waiting-pulse",children:"Waiting for host to start the game..."})})]})},Nd=x.createContext({});function kd(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Md=typeof window<"u",Fw=Md?x.useLayoutEffect:x.useEffect,Tu=x.createContext(null);function Ud(e,t){e.indexOf(t)===-1&&e.push(t)}function Ld(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const hi=(e,t,s)=>s>t?t:s<e?e:s;let Bd=()=>{};const fi={},Yw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Qw(e){return typeof e=="object"&&e!==null}const Xw=e=>/^0[^.\s]+$/u.test(e);function Pd(e){let t;return()=>(t===void 0&&(t=e()),t)}const xn=e=>e,Rj=(e,t)=>s=>t(e(s)),So=(...e)=>e.reduce(Rj),co=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class zd{constructor(){this.subscriptions=[]}add(t){return Ud(this.subscriptions,t),()=>Ld(this.subscriptions,t)}notify(t,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,a);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const In=e=>e*1e3,Tn=e=>e/1e3;function Jw(e,t){return t?e*(1e3/t):0}const Ww=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Oj=1e-7,jj=12;function Dj(e,t,s,a,o){let u,c,f=0;do c=t+(s-t)/2,u=Ww(c,a,o)-e,u>0?s=c:t=c;while(Math.abs(u)>Oj&&++f<jj);return c}function Eo(e,t,s,a){if(e===t&&s===a)return xn;const o=u=>Dj(u,0,1,e,s);return u=>u===0||u===1?u:Ww(o(u),t,a)}const Zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e_=e=>t=>1-e(1-t),t_=Eo(.33,1.53,.69,.99),Vd=e_(t_),n_=Zw(Vd),i_=e=>(e*=2)<1?.5*Vd(e):.5*(2-Math.pow(2,-10*(e-1))),Id=e=>1-Math.sin(Math.acos(e)),s_=e_(Id),a_=Zw(Id),Nj=Eo(.42,0,1,1),kj=Eo(0,0,.58,1),r_=Eo(.42,0,.58,1),Mj=e=>Array.isArray(e)&&typeof e[0]!="number",o_=e=>Array.isArray(e)&&typeof e[0]=="number",Uj={linear:xn,easeIn:Nj,easeInOut:r_,easeOut:kj,circIn:Id,circInOut:a_,circOut:s_,backIn:Vd,backInOut:n_,backOut:t_,anticipate:i_},Lj=e=>typeof e=="string",x0=e=>{if(o_(e)){Bd(e.length===4);const[t,s,a,o]=e;return Eo(t,s,a,o)}else if(Lj(e))return Uj[e];return e},Ql=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bj(e,t){let s=new Set,a=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(p.schedule(g),e()),g(f)}const p={schedule:(g,v=!1,b=!1)=>{const E=b&&o?s:a;return v&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(f=g,o){u=!0;return}o=!0,[s,a]=[a,s],s.forEach(d),s.clear(),o=!1,u&&(u=!1,p.process(g))}};return p}const Pj=40;function l_(e,t){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,c=Ql.reduce((C,z)=>(C[z]=Bj(u),C),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:g,update:v,preRender:b,render:w,postRender:E}=c,T=()=>{const C=fi.useManualTiming?o.timestamp:performance.now();s=!1,fi.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(C-o.timestamp,Pj),1)),o.timestamp=C,o.isProcessing=!0,f.process(o),d.process(o),p.process(o),g.process(o),v.process(o),b.process(o),w.process(o),E.process(o),o.isProcessing=!1,s&&t&&(a=!1,e(T))},O=()=>{s=!0,a=!0,o.isProcessing||e(T)};return{schedule:Ql.reduce((C,z)=>{const $=c[z];return C[z]=(Q,q=!1,A=!1)=>(s||O(),$.schedule(Q,q,A)),C},{}),cancel:C=>{for(let z=0;z<Ql.length;z++)c[Ql[z]].cancel(C)},state:o,steps:c}}const{schedule:Je,cancel:Fi,state:Dt,steps:rf}=l_(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let iu;function zj(){iu=void 0}const Yt={now:()=>(iu===void 0&&Yt.set(Dt.isProcessing||fi.useManualTiming?Dt.timestamp:performance.now()),iu),set:e=>{iu=e,queueMicrotask(zj)}},u_=e=>t=>typeof t=="string"&&t.startsWith(e),c_=u_("--"),Vj=u_("var(--"),qd=e=>Vj(e)?Ij.test(e.split("/*")[0].trim()):!1,Ij=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ha={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ho={...Ha,transform:e=>hi(0,1,e)},Xl={...Ha,default:1},Qr=e=>Math.round(e*1e5)/1e5,Hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qj(e){return e==null}const Hj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$d=(e,t)=>s=>!!(typeof s=="string"&&Hj.test(s)&&s.startsWith(e)||t&&!qj(s)&&Object.prototype.hasOwnProperty.call(s,t)),h_=(e,t,s)=>a=>{if(typeof a!="string")return a;const[o,u,c,f]=a.match(Hd);return{[e]:parseFloat(o),[t]:parseFloat(u),[s]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},$j=e=>hi(0,255,e),of={...Ha,transform:e=>Math.round($j(e))},Ts={test:$d("rgb","red"),parse:h_("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+of.transform(e)+", "+of.transform(t)+", "+of.transform(s)+", "+Qr(ho.transform(a))+")"};function Gj(e){let t="",s="",a="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const Hf={test:$d("#"),parse:Gj,transform:Ts.transform},To=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ii=To("deg"),qn=To("%"),ge=To("px"),Kj=To("vh"),Fj=To("vw"),C0={...qn,parse:e=>qn.parse(e)/100,transform:e=>qn.transform(e*100)},Ra={test:$d("hsl","hue"),parse:h_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+qn.transform(Qr(t))+", "+qn.transform(Qr(s))+", "+Qr(ho.transform(a))+")"},pt={test:e=>Ts.test(e)||Hf.test(e)||Ra.test(e),parse:e=>Ts.test(e)?Ts.parse(e):Ra.test(e)?Ra.parse(e):Hf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ts.transform(e):Ra.transform(e),getAnimatableNone:e=>{const t=pt.parse(e);return t.alpha=0,pt.transform(t)}},Yj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qj(e){return isNaN(e)&&typeof e=="string"&&(e.match(Hd)?.length||0)+(e.match(Yj)?.length||0)>0}const f_="number",d_="color",Xj="var",Jj="var(",A0="${}",Wj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fo(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},o=[];let u=0;const f=t.replace(Wj,d=>(pt.test(d)?(a.color.push(u),o.push(d_),s.push(pt.parse(d))):d.startsWith(Jj)?(a.var.push(u),o.push(Xj),s.push(d)):(a.number.push(u),o.push(f_),s.push(parseFloat(d))),++u,A0)).split(A0);return{values:s,split:f,indexes:a,types:o}}function m_(e){return fo(e).values}function p_(e){const{split:t,types:s}=fo(e),a=t.length;return o=>{let u="";for(let c=0;c<a;c++)if(u+=t[c],o[c]!==void 0){const f=s[c];f===f_?u+=Qr(o[c]):f===d_?u+=pt.transform(o[c]):u+=o[c]}return u}}const Zj=e=>typeof e=="number"?0:pt.test(e)?pt.getAnimatableNone(e):e;function eD(e){const t=m_(e);return p_(e)(t.map(Zj))}const Yi={test:Qj,parse:m_,createTransformer:p_,getAnimatableNone:eD};function lf(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function tD({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let o=0,u=0,c=0;if(!t)o=u=c=s;else{const f=s<.5?s*(1+t):s+t-s*t,d=2*s-f;o=lf(d,f,e+1/3),u=lf(d,f,e),c=lf(d,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:a}}function fu(e,t){return s=>s>0?t:e}const tt=(e,t,s)=>e+(t-e)*s,uf=(e,t,s)=>{const a=e*e,o=s*(t*t-a)+a;return o<0?0:Math.sqrt(o)},nD=[Hf,Ts,Ra],iD=e=>nD.find(t=>t.test(e));function R0(e){const t=iD(e);if(!t)return!1;let s=t.parse(e);return t===Ra&&(s=tD(s)),s}const O0=(e,t)=>{const s=R0(e),a=R0(t);if(!s||!a)return fu(e,t);const o={...s};return u=>(o.red=uf(s.red,a.red,u),o.green=uf(s.green,a.green,u),o.blue=uf(s.blue,a.blue,u),o.alpha=tt(s.alpha,a.alpha,u),Ts.transform(o))},$f=new Set(["none","hidden"]);function sD(e,t){return $f.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function aD(e,t){return s=>tt(e,t,s)}function Gd(e){return typeof e=="number"?aD:typeof e=="string"?qd(e)?fu:pt.test(e)?O0:lD:Array.isArray(e)?g_:typeof e=="object"?pt.test(e)?O0:rD:fu}function g_(e,t){const s=[...e],a=s.length,o=e.map((u,c)=>Gd(u)(u,t[c]));return u=>{for(let c=0;c<a;c++)s[c]=o[c](u);return s}}function rD(e,t){const s={...e,...t},a={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(a[o]=Gd(e[o])(e[o],t[o]));return o=>{for(const u in a)s[u]=a[u](o);return s}}function oD(e,t){const s=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][a[u]],f=e.values[c]??0;s[o]=f,a[u]++}return s}const lD=(e,t)=>{const s=Yi.createTransformer(t),a=fo(e),o=fo(t);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?$f.has(e)&&!o.values.length||$f.has(t)&&!a.values.length?sD(e,t):So(g_(oD(a,o),o.values),s):fu(e,t)};function y_(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?tt(e,t,s):Gd(e)(e,t)}const uD=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Je.update(t,s),stop:()=>Fi(t),now:()=>Dt.isProcessing?Dt.timestamp:Yt.now()}},v_=(e,t,s=10)=>{let a="";const o=Math.max(Math.round(t/s),2);for(let u=0;u<o;u++)a+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},du=2e4;function Kd(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<du;)t+=s,a=e.next(t);return t>=du?1/0:t}function cD(e,t=100,s){const a=s({...e,keyframes:[0,t]}),o=Math.min(Kd(a),du);return{type:"keyframes",ease:u=>a.next(o*u).value/t,duration:Tn(o)}}const hD=5;function b_(e,t,s){const a=Math.max(t-hD,0);return Jw(s-e(a),t-a)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cf=.001;function fD({duration:e=at.duration,bounce:t=at.bounce,velocity:s=at.velocity,mass:a=at.mass}){let o,u,c=1-t;c=hi(at.minDamping,at.maxDamping,c),e=hi(at.minDuration,at.maxDuration,Tn(e)),c<1?(o=p=>{const g=p*c,v=g*e,b=g-s,w=Gf(p,c),E=Math.exp(-v);return cf-b/w*E},u=p=>{const v=p*c*e,b=v*s+s,w=Math.pow(c,2)*Math.pow(p,2)*e,E=Math.exp(-v),T=Gf(Math.pow(p,2),c);return(-o(p)+cf>0?-1:1)*((b-w)*E)/T}):(o=p=>{const g=Math.exp(-p*e),v=(p-s)*e+1;return-cf+g*v},u=p=>{const g=Math.exp(-p*e),v=(s-p)*(e*e);return g*v});const f=5/e,d=mD(o,u,f);if(e=In(e),isNaN(d))return{stiffness:at.stiffness,damping:at.damping,duration:e};{const p=Math.pow(d,2)*a;return{stiffness:p,damping:c*2*Math.sqrt(a*p),duration:e}}}const dD=12;function mD(e,t,s){let a=s;for(let o=1;o<dD;o++)a=a-e(a)/t(a);return a}function Gf(e,t){return e*Math.sqrt(1-t*t)}const pD=["duration","bounce"],gD=["stiffness","damping","mass"];function j0(e,t){return t.some(s=>e[s]!==void 0)}function yD(e){let t={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...e};if(!j0(e,gD)&&j0(e,pD))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),o=a*a,u=2*hi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:at.mass,stiffness:o,damping:u}}else{const s=fD(e);t={...t,...s,mass:at.mass},t.isResolvedFromDuration=!0}return t}function mu(e=at.visualDuration,t=at.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:o}=s;const u=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:d,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:w}=yD({...s,velocity:-Tn(s.velocity||0)}),E=b||0,T=p/(2*Math.sqrt(d*g)),O=c-u,R=Tn(Math.sqrt(d/g)),N=Math.abs(O)<5;a||(a=N?at.restSpeed.granular:at.restSpeed.default),o||(o=N?at.restDelta.granular:at.restDelta.default);let C;if(T<1){const $=Gf(R,T);C=Q=>{const q=Math.exp(-T*R*Q);return c-q*((E+T*R*O)/$*Math.sin($*Q)+O*Math.cos($*Q))}}else if(T===1)C=$=>c-Math.exp(-R*$)*(O+(E+R*O)*$);else{const $=R*Math.sqrt(T*T-1);C=Q=>{const q=Math.exp(-T*R*Q),A=Math.min($*Q,300);return c-q*((E+T*R*O)*Math.sinh(A)+$*O*Math.cosh(A))/$}}const z={calculatedDuration:w&&v||null,next:$=>{const Q=C($);if(w)f.done=$>=v;else{let q=$===0?E:0;T<1&&(q=$===0?In(E):b_(C,$,Q));const A=Math.abs(q)<=a,k=Math.abs(c-Q)<=o;f.done=A&&k}return f.value=f.done?c:Q,f},toString:()=>{const $=Math.min(Kd(z),du),Q=v_(q=>z.next($*q).value,$,30);return $+"ms "+Q},toTransition:()=>{}};return z}mu.applyToOptions=e=>{const t=cD(e,100,mu);return e.ease=t.ease,e.duration=In(t.duration),e.type="keyframes",e};function Kf({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:d,restDelta:p=.5,restSpeed:g}){const v=e[0],b={done:!1,value:v},w=A=>f!==void 0&&A<f||d!==void 0&&A>d,E=A=>f===void 0?d:d===void 0||Math.abs(f-A)<Math.abs(d-A)?f:d;let T=s*t;const O=v+T,R=c===void 0?O:c(O);R!==O&&(T=R-v);const N=A=>-T*Math.exp(-A/a),C=A=>R+N(A),z=A=>{const k=N(A),K=C(A);b.done=Math.abs(k)<=p,b.value=b.done?R:K};let $,Q;const q=A=>{w(b.value)&&($=A,Q=mu({keyframes:[b.value,E(b.value)],velocity:b_(C,A,b.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return q(0),{calculatedDuration:null,next:A=>{let k=!1;return!Q&&$===void 0&&(k=!0,z(A),q(A)),$!==void 0&&A>=$?Q.next(A-$):(!k&&z(A),b)}}}function vD(e,t,s){const a=[],o=s||fi.mix||y_,u=e.length-1;for(let c=0;c<u;c++){let f=o(e[c],e[c+1]);if(t){const d=Array.isArray(t)?t[c]||xn:t;f=So(d,f)}a.push(f)}return a}function bD(e,t,{clamp:s=!0,ease:a,mixer:o}={}){const u=e.length;if(Bd(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=vD(t,a,o),d=f.length,p=g=>{if(c&&g<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const b=co(e[v],e[v+1],g);return f[v](b)};return s?g=>p(hi(e[0],e[u-1],g)):p}function wD(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const o=co(0,t,a);e.push(tt(s,1,o))}}function _D(e){const t=[0];return wD(t,e.length-1),t}function SD(e,t){return e.map(s=>s*t)}function ED(e,t){return e.map(()=>t||r_).splice(0,e.length-1)}function Xr({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const o=Mj(a)?a.map(x0):x0(a),u={done:!1,value:t[0]},c=SD(s&&s.length===t.length?s:_D(t),e),f=bD(c,t,{ease:Array.isArray(o)?o:ED(t,o)});return{calculatedDuration:e,next:d=>(u.value=f(d),u.done=d>=e,u)}}const TD=e=>e!==null;function Fd(e,{repeat:t,repeatType:s="loop"},a,o=1){const u=e.filter(TD),f=o<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||a===void 0?u[f]:a}const xD={decay:Kf,inertia:Kf,tween:Xr,keyframes:Xr,spring:mu};function w_(e){typeof e.type=="string"&&(e.type=xD[e.type])}class Yd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const CD=e=>e/100;class Qd extends Yd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Yt.now()&&this.tick(Yt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;w_(t);const{type:s=Xr,repeat:a=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:f}=t;const d=s||Xr;d!==Xr&&typeof f[0]!="number"&&(this.mixKeyframes=So(CD,y_(f[0],f[1])),f=[0,100]);const p=d({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Kd(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=p}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:w,type:E,onUpdate:T,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const R=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?R<0:R>o;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,z=a;if(v){const A=Math.min(this.currentTime,o)/f;let k=Math.floor(A),K=A%1;!K&&A>=1&&(K=1),K===1&&k--,k=Math.min(k,v+1),k%2&&(b==="reverse"?(K=1-K,w&&(K-=w/f)):b==="mirror"&&(z=c)),C=hi(0,1,K)*f}const $=N?{done:!1,value:g[0]}:z.next(C);u&&($.value=u($.value));let{done:Q}=$;!N&&d!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return q&&E!==Kf&&($.value=Fd(g,this.options,O,this.speed)),T&&T($.value),q&&this.finish(),$}then(t,s){return this.finished.then(t,s)}get duration(){return Tn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Tn(t)}get time(){return Tn(this.currentTime)}set time(t){t=In(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Yt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=uD,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function AD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xs=e=>e*180/Math.PI,Ff=e=>{const t=xs(Math.atan2(e[1],e[0]));return Yf(t)},RD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ff,rotateZ:Ff,skewX:e=>xs(Math.atan(e[1])),skewY:e=>xs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Yf=e=>(e=e%360,e<0&&(e+=360),e),D0=Ff,N0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),k0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),OD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N0,scaleY:k0,scale:e=>(N0(e)+k0(e))/2,rotateX:e=>Yf(xs(Math.atan2(e[6],e[5]))),rotateY:e=>Yf(xs(Math.atan2(-e[2],e[0]))),rotateZ:D0,rotate:D0,skewX:e=>xs(Math.atan(e[4])),skewY:e=>xs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qf(e){return e.includes("scale")?1:0}function Xf(e,t){if(!e||e==="none")return Qf(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(s)a=OD,o=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=RD,o=f}if(!o)return Qf(t);const u=a[t],c=o[1].split(",").map(DD);return typeof u=="function"?u(c):c[u]}const jD=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Xf(s,t)};function DD(e){return parseFloat(e.trim())}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set($a),M0=e=>e===Ha||e===ge,ND=new Set(["x","y","z"]),kD=$a.filter(e=>!ND.has(e));function MD(e){const t=[];return kD.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const As={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xf(t,"x"),y:(e,{transform:t})=>Xf(t,"y")};As.translateX=As.x;As.translateY=As.y;const Rs=new Set;let Jf=!1,Wf=!1,Zf=!1;function __(){if(Wf){const e=Array.from(Rs).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const o=MD(a);o.length&&(s.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const o=s.get(a);o&&o.forEach(([u,c])=>{a.getValue(u)?.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Wf=!1,Jf=!1,Rs.forEach(e=>e.complete(Zf)),Rs.clear()}function S_(){Rs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wf=!0)})}function UD(){Zf=!0,S_(),__(),Zf=!1}class Xd{constructor(t,s,a,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Rs.add(this),Jf||(Jf=!0,Je.read(S_),Je.resolveKeyframes(__))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const f=a.readValue(s,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}AD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rs.delete(this)}cancel(){this.state==="scheduled"&&(Rs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LD=e=>e.startsWith("--");function BD(e,t,s){LD(t)?e.style.setProperty(t,s):e.style[t]=s}const PD=Pd(()=>window.ScrollTimeline!==void 0),zD={};function VD(e,t){const s=Pd(e);return()=>zD[t]??s()}const E_=VD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gr=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,U0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gr([0,.65,.55,1]),circOut:Gr([.55,0,1,.45]),backIn:Gr([.31,.01,.66,-.59]),backOut:Gr([.33,1.53,.69,.99])};function T_(e,t){if(e)return typeof e=="function"?E_()?v_(e,t):"ease-out":o_(e)?Gr(e):Array.isArray(e)?e.map(s=>T_(s,t)||U0.easeOut):U0[e]}function ID(e,t,s,{delay:a=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:d}={},p=void 0){const g={[t]:s};d&&(g.offset=d);const v=T_(f,o);Array.isArray(v)&&(g.easing=v);const b={delay:a,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(g,b)}function x_(e){return typeof e=="function"&&"applyToOptions"in e}function qD({type:e,...t}){return x_(e)&&E_()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class HD extends Yd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:d}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Bd(typeof t.type!="string");const p=qD(t);this.animation=ID(s,a,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Fd(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):BD(s,a,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Tn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Tn(t)}get time(){return Tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=In(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&PD()?(this.animation.timeline=t,xn):s(this)}}const C_={anticipate:i_,backInOut:n_,circInOut:a_};function $D(e){return e in C_}function GD(e){typeof e.ease=="string"&&$D(e.ease)&&(e.ease=C_[e.ease])}const L0=10;class KD extends HD{constructor(t){GD(t),w_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:o,element:u,...c}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new Qd({...c,autoplay:!1}),d=In(this.finishedTime??this.time);s.setWithVelocity(f.sample(d-L0).value,f.sample(d).value,L0),f.stop()}}const B0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yi.test(e)||e==="0")&&!e.startsWith("url("));function FD(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function YD(e,t,s,a){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=B0(o,t),f=B0(u,t);return!c||!f?!1:FD(e)||(s==="spring"||x_(s))&&a}function ed(e){e.duration=0,e.type="keyframes"}const QD=new Set(["opacity","clipPath","filter","transform"]),XD=Pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JD(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return XD()&&s&&QD.has(s)&&(s!=="transform"||!p)&&!d&&!a&&o!=="mirror"&&u!==0&&c!=="inertia"}const WD=40;class ZD extends Yd{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:d,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yt.now();const b={autoplay:t,delay:s,type:a,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:p,element:g,...v},w=g?.KeyframeResolver||Xd;this.keyframeResolver=new w(f,(E,T,O)=>this.onKeyframesResolved(E,T,b,!O),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:d,isHandoff:p,onUpdate:g}=a;this.resolvedAt=Yt.now(),YD(t,u,c,f)||((fi.instantAnimations||!d)&&g?.(Fd(t,a,s)),t[0]=t[t.length-1],ed(a),a.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>WD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},w=!p&&JD(b)?new KD({...b,element:b.motionValue.owner.current}):new Qd(b);w.finished.then(()=>this.notifyFinished()).catch(xn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),UD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const eN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tN(e){const t=eN.exec(e);if(!t)return[,];const[,s,a,o]=t;return[`--${s??a}`,o]}function A_(e,t,s=1){const[a,o]=tN(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const c=u.trim();return Yw(c)?parseFloat(c):c}return qd(o)?A_(o,t,s+1):o}function Jd(e,t){return e?.[t]??e?.default??e}const R_=new Set(["width","height","top","left","right","bottom",...$a]),nN={test:e=>e==="auto",parse:e=>e},O_=e=>t=>t.test(e),j_=[Ha,ge,qn,Ii,Fj,Kj,nN],P0=e=>j_.find(O_(e));function iN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xw(e):!0}const sN=new Set(["brightness","contrast","saturate","opacity"]);function aN(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Hd)||[];if(!a)return e;const o=s.replace(a,"");let u=sN.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+o+")"}const rN=/\b([a-z-]*)\(.*?\)/gu,td={...Yi,getAnimatableNone:e=>{const t=e.match(rN);return t?t.map(aN).join(" "):e}},z0={...Ha,transform:Math.round},oN={rotate:Ii,rotateX:Ii,rotateY:Ii,rotateZ:Ii,scale:Xl,scaleX:Xl,scaleY:Xl,scaleZ:Xl,skew:Ii,skewX:Ii,skewY:Ii,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:ho,originX:C0,originY:C0,originZ:ge},Wd={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...oN,zIndex:z0,fillOpacity:ho,strokeOpacity:ho,numOctaves:z0},lN={...Wd,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:td,WebkitFilter:td},D_=e=>lN[e];function N_(e,t){let s=D_(e);return s!==td&&(s=Yi),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const uN=new Set(["auto","none","0"]);function cN(e,t,s){let a=0,o;for(;a<e.length&&!o;){const u=e[a];typeof u=="string"&&!uN.has(u)&&fo(u).values.length&&(o=e[a]),a++}if(o&&s)for(const u of t)e[u]=N_(s,o)}class hN extends Xd{constructor(t,s,a,o,u){super(t,s,a,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),qd(p))){const g=A_(p,s.current);g!==void 0&&(t[d]=g),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!R_.has(a)||t.length!==2)return;const[o,u]=t,c=P0(o),f=P0(u);if(c!==f)if(M0(c)&&M0(f))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else As[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let o=0;o<t.length;o++)(t[o]===null||iN(t[o]))&&a.push(o);a.length&&cN(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=As[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(a,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,c=a[u];a[u]=As[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{t.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function fN(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const o=s?.[e]??a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const k_=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function M_(e){return Qw(e)&&"offsetHeight"in e}const V0=30,dN=e=>!isNaN(parseFloat(e));class mN{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const o=Yt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new zd);const a=this.events[t].add(s);return t==="change"?()=>{a(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>V0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,V0);return Jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(e,t){return new mN(e,t)}const{schedule:Zd}=l_(queueMicrotask,!1),Nn={x:!1,y:!1};function U_(){return Nn.x||Nn.y}function pN(e){return e==="x"||e==="y"?Nn[e]?null:(Nn[e]=!0,()=>{Nn[e]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function L_(e,t){const s=fN(e),a=new AbortController,o={passive:!0,...t,signal:a.signal};return[s,o,()=>a.abort()]}function I0(e){return!(e.pointerType==="touch"||U_())}function gN(e,t,s={}){const[a,o,u]=L_(e,s),c=f=>{if(!I0(f))return;const{target:d}=f,p=t(d,f);if(typeof p!="function"||!d)return;const g=v=>{I0(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return a.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const B_=(e,t)=>t?e===t?!0:B_(e,t.parentElement):!1,em=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vN(e){return yN.has(e.tagName)||e.tabIndex!==-1}const su=new WeakSet;function q0(e){return t=>{t.key==="Enter"&&e(t)}}function hf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bN=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=q0(()=>{if(su.has(s))return;hf(s,"down");const o=q0(()=>{hf(s,"up")}),u=()=>hf(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function H0(e){return em(e)&&!U_()}function wN(e,t,s={}){const[a,o,u]=L_(e,s),c=f=>{const d=f.currentTarget;if(!H0(f))return;su.add(d);const p=t(d,f),g=(w,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),su.has(d)&&su.delete(d),H0(w)&&typeof p=="function"&&p(w,{success:E})},v=w=>{g(w,d===window||d===document||s.useGlobalTarget||B_(d,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",b,o)};return a.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),M_(f)&&(f.addEventListener("focus",p=>bN(p,o)),!vN(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function P_(e){return Qw(e)&&"ownerSVGElement"in e}function _N(e){return P_(e)&&e.tagName==="svg"}const Lt=e=>!!(e&&e.getVelocity),SN=[...j_,pt,Yi],EN=e=>SN.find(O_(e)),tm=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TN(...e){return t=>{let s=!1;const a=e.map(o=>{const u=$0(o,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let o=0;o<a.length;o++){const u=a[o];typeof u=="function"?u():$0(e[o],null)}}}}function xN(...e){return x.useCallback(TN(...e),e)}class CN extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=M_(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AN({children:e,isPresent:t,anchorX:s,root:a}){const o=x.useId(),u=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext(tm),d=xN(u,e?.ref);return x.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:b,right:w}=c.current;if(t||!u.current||!p||!g)return;const E=s==="left"?`left: ${b}`:`right: ${w}`;u.current.dataset.motionPopId=o;const T=document.createElement("style");f&&(T.nonce=f);const O=a??document.head;return O.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{O.contains(T)&&O.removeChild(T)}},[t]),S.jsx(CN,{isPresent:t,childRef:u,sizeRef:c,children:x.cloneElement(e,{ref:d})})}const RN=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f,root:d})=>{const p=kd(ON),g=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:s,custom:o,onExitComplete:w=>{p.set(w,!0);for(const E of p.values())if(!E)return;a&&a()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[s,p,a]);return u&&v&&(b={...b}),x.useMemo(()=>{p.forEach((w,E)=>p.set(E,!1))},[s]),x.useEffect(()=>{!s&&!p.size&&a&&a()},[s]),c==="popLayout"&&(e=S.jsx(AN,{isPresent:s,anchorX:f,root:d,children:e})),S.jsx(Tu.Provider,{value:b,children:e})};function ON(){return new Map}function z_(e=!0){const t=x.useContext(Tu);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=t,u=x.useId();x.useEffect(()=>{if(e)return o(u)},[e]);const c=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,c]:[!0]}const Jl=e=>e.key||"";function G0(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const nd=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left",root:d})=>{const[p,g]=z_(c),v=x.useMemo(()=>G0(e),[e]),b=c&&!p?[]:v.map(Jl),w=x.useRef(!0),E=x.useRef(v),T=kd(()=>new Map),[O,R]=x.useState(v),[N,C]=x.useState(v);Fw(()=>{w.current=!1,E.current=v;for(let Q=0;Q<N.length;Q++){const q=Jl(N[Q]);b.includes(q)?T.delete(q):T.get(q)!==!0&&T.set(q,!1)}},[N,b.length,b.join("-")]);const z=[];if(v!==O){let Q=[...v];for(let q=0;q<N.length;q++){const A=N[q],k=Jl(A);b.includes(k)||(Q.splice(q,0,A),z.push(A))}return u==="wait"&&z.length&&(Q=z),C(G0(Q)),R(v),null}const{forceRender:$}=x.useContext(Nd);return S.jsx(S.Fragment,{children:N.map(Q=>{const q=Jl(Q),A=c&&!p?!1:v===N||b.includes(q),k=()=>{if(T.has(q))T.set(q,!0);else return;let K=!0;T.forEach(ee=>{ee||(K=!1)}),K&&($?.(),C(E.current),c&&g?.(),a&&a())};return S.jsx(RN,{isPresent:A,initial:!w.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:d,onExitComplete:A?void 0:k,anchorX:f,children:Q},q)})})},V_=x.createContext({strict:!1}),K0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},La={};for(const e in K0)La[e]={isEnabled:t=>K0[e].some(s=>!!t[s])};function jN(e){for(const t in e)La[t]={...La[t],...e[t]}}const DN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DN.has(e)}let I_=e=>!pu(e);function NN(e){typeof e=="function"&&(I_=t=>t.startsWith("on")?!pu(t):e(t))}try{NN(require("@emotion/is-prop-valid").default)}catch{}function kN(e,t,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(I_(o)||s===!0&&pu(o)||!t&&!pu(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}const xu=x.createContext({});function Cu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mo(e){return typeof e=="string"||Array.isArray(e)}const nm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],im=["initial",...nm];function Au(e){return Cu(e.animate)||im.some(t=>mo(e[t]))}function q_(e){return!!(Au(e)||e.variants)}function MN(e,t){if(Au(e)){const{initial:s,animate:a}=e;return{initial:s===!1||mo(s)?s:void 0,animate:mo(a)?a:void 0}}return e.inherit!==!1?t:{}}function UN(e){const{initial:t,animate:s}=MN(e,x.useContext(xu));return x.useMemo(()=>({initial:t,animate:s}),[F0(t),F0(s)])}function F0(e){return Array.isArray(e)?e.join(" "):e}function Y0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const s=Y0(e,t.target.x),a=Y0(e,t.target.y);return`${s}% ${a}%`}},LN={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,o=Yi.parse(e);if(o.length>5)return a;const u=Yi.createTransformer(e),c=typeof o[0]!="number"?1:0,f=s.x.scale*t.x,d=s.y.scale*t.y;o[0+c]/=f,o[1+c]/=d;const p=tt(f,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},id={borderRadius:{...qr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qr,borderTopRightRadius:qr,borderBottomLeftRadius:qr,borderBottomRightRadius:qr,boxShadow:LN};function H_(e,{layout:t,layoutId:s}){return Ga.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!id[e]||e==="opacity")}const BN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PN=$a.length;function zN(e,t,s){let a="",o=!0;for(let u=0;u<PN;u++){const c=$a[u],f=e[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||s){const p=k_(f,Wd[c]);if(!d){o=!1;const g=BN[c]||c;a+=`${g}(${p}) `}s&&(t[c]=p)}}return a=a.trim(),s?a=s(t,o?"":a):o&&(a="none"),a}function sm(e,t,s){const{style:a,vars:o,transformOrigin:u}=e;let c=!1,f=!1;for(const d in t){const p=t[d];if(Ga.has(d)){c=!0;continue}else if(c_(d)){o[d]=p;continue}else{const g=k_(p,Wd[d]);d.startsWith("origin")?(f=!0,u[d]=g):a[d]=g}}if(t.transform||(c||s?a.transform=zN(t,e.transform,s):a.transform&&(a.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:g=0}=u;a.transformOrigin=`${d} ${p} ${g}`}}const am=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $_(e,t,s){for(const a in t)!Lt(t[a])&&!H_(a,s)&&(e[a]=t[a])}function VN({transformTemplate:e},t){return x.useMemo(()=>{const s=am();return sm(s,t,e),Object.assign({},s.vars,s.style)},[t])}function IN(e,t){const s=e.style||{},a={};return $_(a,s,e),Object.assign(a,VN(e,t)),a}function qN(e,t){const s={},a=IN(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const HN={offset:"stroke-dashoffset",array:"stroke-dasharray"},$N={offset:"strokeDashoffset",array:"strokeDasharray"};function GN(e,t,s=1,a=0,o=!0){e.pathLength=1;const u=o?HN:$N;e[u.offset]=ge.transform(-a);const c=ge.transform(t),f=ge.transform(s);e[u.array]=`${c} ${f}`}function G_(e,{attrX:t,attrY:s,attrScale:a,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},d,p,g){if(sm(e,f,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),a!==void 0&&(v.scale=a),o!==void 0&&GN(v,o,u,c,!1)}const K_=()=>({...am(),attrs:{}}),F_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KN(e,t,s,a){const o=x.useMemo(()=>{const u=K_();return G_(u,t,F_(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};$_(u,e.style,e),o.style={...u,...o.style}}return o}const FN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rm(e){return typeof e!="string"||e.includes("-")?!1:!!(FN.indexOf(e)>-1||/[A-Z]/u.test(e))}function YN(e,t,s,{latestValues:a},o,u=!1){const f=(rm(e)?KN:qN)(t,a,o,e),d=kN(t,typeof e=="string",u),p=e!==x.Fragment?{...d,...f,ref:s}:{},{children:g}=t,v=x.useMemo(()=>Lt(g)?g.get():g,[g]);return x.createElement(e,{...p,children:v})}function Q0(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function om(e,t,s,a){if(typeof t=="function"){const[o,u]=Q0(a);t=t(s!==void 0?s:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Q0(a);t=t(s!==void 0?s:e.custom,o,u)}return t}function au(e){return Lt(e)?e.get():e}function QN({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,o){return{latestValues:XN(s,a,o,e),renderState:t()}}function XN(e,t,s,a){const o={},u=a(e,{});for(const b in u)o[b]=au(u[b]);let{initial:c,animate:f}=e;const d=Au(e),p=q_(e);t&&p&&!d&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let g=s?s.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!Cu(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const E=om(e,b[w]);if(E){const{transitionEnd:T,transition:O,...R}=E;for(const N in R){let C=R[N];if(Array.isArray(C)){const z=g?C.length-1:0;C=C[z]}C!==null&&(o[N]=C)}for(const N in T)o[N]=T[N]}}}return o}const Y_=e=>(t,s)=>{const a=x.useContext(xu),o=x.useContext(Tu),u=()=>QN(e,t,a,o);return s?u():kd(u)};function lm(e,t,s){const{style:a}=e,o={};for(const u in a)(Lt(a[u])||t.style&&Lt(t.style[u])||H_(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(o[u]=a[u]);return o}const JN=Y_({scrapeMotionValuesFromProps:lm,createRenderState:am});function Q_(e,t,s){const a=lm(e,t,s);for(const o in e)if(Lt(e[o])||Lt(t[o])){const u=$a.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[u]=e[o]}return a}const WN=Y_({scrapeMotionValuesFromProps:Q_,createRenderState:K_}),ZN=Symbol.for("motionComponentSymbol");function Oa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ek(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Oa(s)&&(s.current=a))},[t])}const um=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tk="framerAppearId",X_="data-"+um(tk),J_=x.createContext({});function nk(e,t,s,a,o){const{visualElement:u}=x.useContext(xu),c=x.useContext(V_),f=x.useContext(Tu),d=x.useContext(tm).reducedMotion,p=x.useRef(null);a=a||c.renderer,!p.current&&a&&(p.current=a(e,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,v=x.useContext(J_);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&ik(p.current,s,o,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{g&&b.current&&g.update(s,f)});const w=s[X_],E=x.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Fw(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),E.current=!1),g.enteringChildren=void 0)}),g}function ik(e,t,s,a){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:W_(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&Oa(f),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:d,layoutRoot:p})}function W_(e){if(e)return e.options.allowProjection!==!1?e.projection:W_(e.parent)}function ff(e,{forwardMotionProps:t=!1}={},s,a){s&&jN(s);const o=rm(e)?WN:JN;function u(f,d){let p;const g={...x.useContext(tm),...f,layoutId:sk(f)},{isStatic:v}=g,b=UN(f),w=o(f,v);if(!v&&Md){ak();const E=rk(g);p=E.MeasureLayout,b.visualElement=nk(e,w,g,a,E.ProjectionNode)}return S.jsxs(xu.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...g}):null,YN(e,f,ek(w,b.visualElement,d),w,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(u);return c[ZN]=e,c}function sk({layoutId:e}){const t=x.useContext(Nd).id;return t&&e!==void 0?t+"-"+e:e}function ak(e,t){x.useContext(V_).strict}function rk(e){const{drag:t,layout:s}=La;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function ok(e,t){if(typeof Proxy>"u")return ff;const s=new Map,a=(u,c)=>ff(u,c,e,t),o=(u,c)=>a(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?a:(s.has(c)||s.set(c,ff(c,void 0,e,t)),s.get(c))})}function Z_({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function lk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uk(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function df(e){return e===void 0||e===1}function sd({scale:e,scaleX:t,scaleY:s}){return!df(e)||!df(t)||!df(s)}function bs(e){return sd(e)||eS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eS(e){return X0(e.x)||X0(e.y)}function X0(e){return e&&e!=="0%"}function gu(e,t,s){const a=e-s,o=t*a;return s+o}function J0(e,t,s,a,o){return o!==void 0&&(e=gu(e,o,a)),gu(e,s,a)+t}function ad(e,t=0,s=1,a,o){e.min=J0(e.min,t,s,a,o),e.max=J0(e.max,t,s,a,o)}function tS(e,{x:t,y:s}){ad(e.x,t.translate,t.scale,t.originPoint),ad(e.y,s.translate,s.scale,s.originPoint)}const W0=.999999999999,Z0=1.0000000000001;function ck(e,t,s,a=!1){const o=s.length;if(!o)return;t.x=t.y=1;let u,c;for(let f=0;f<o;f++){u=s[f],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Da(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tS(e,c)),a&&bs(u.latestValues)&&Da(e,u.latestValues))}t.x<Z0&&t.x>W0&&(t.x=1),t.y<Z0&&t.y>W0&&(t.y=1)}function ja(e,t){e.min=e.min+t,e.max=e.max+t}function eb(e,t,s,a,o=.5){const u=tt(e.min,e.max,o);ad(e,t,s,u,a)}function Da(e,t){eb(e.x,t.x,t.scaleX,t.scale,t.originX),eb(e.y,t.y,t.scaleY,t.scale,t.originY)}function nS(e,t){return Z_(uk(e.getBoundingClientRect(),t))}function hk(e,t,s){const a=nS(e,s),{scroll:o}=t;return o&&(ja(a.x,o.offset.x),ja(a.y,o.offset.y)),a}const tb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Na=()=>({x:tb(),y:tb()}),nb=()=>({min:0,max:0}),vt=()=>({x:nb(),y:nb()}),rd={current:null},iS={current:!1};function fk(){if(iS.current=!0,!!Md)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rd.current=e.matches;e.addEventListener("change",t),t()}else rd.current=!1}const dk=new WeakMap;function mk(e,t,s){for(const a in t){const o=t[a],u=s[a];if(Lt(o))e.addValue(a,o);else if(Lt(u))e.addValue(a,Ua(o,{owner:e}));else if(u!==o)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(a);e.addValue(a,Ua(c!==void 0?c:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pk{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Yt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Je.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Au(s),this.isVariantNode=q_(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const w=v[b];d[b]!==void 0&&Lt(w)&&w.set(d[b])}}mount(t){this.current=t,dk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),iS.current||fk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Ga.has(t);a&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Je.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in La){const s=La[t];if(!s)continue;const{isEnabled:a,Feature:o}=s;if(!this.features[t]&&o&&a(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<ib.length;a++){const o=ib[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=mk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Ua(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Yw(a)||Xw(a))?a=parseFloat(a):!EN(a)&&Yi.test(s)&&(a=N_(t,s)),this.setBaseTarget(t,Lt(a)?a.get():a)),Lt(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=om(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Lt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new zd),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Zd.render(this.render)}}class sS extends pk{constructor(){super(...arguments),this.KeyframeResolver=hN}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function aS(e,{style:t,vars:s},a,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,a);for(c in s)u.setProperty(c,s[c])}function gk(e){return window.getComputedStyle(e)}class yk extends sS{constructor(){super(...arguments),this.type="html",this.renderInstance=aS}readValueFromInstance(t,s){if(Ga.has(s))return this.projection?.isProjecting?Qf(s):jD(t,s);{const a=gk(t),o=(c_(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return nS(t,s)}build(t,s,a){sm(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return lm(t,s,a)}}const rS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vk(e,t,s,a){aS(e,t,void 0,a);for(const o in t.attrs)e.setAttribute(rS.has(o)?o:um(o),t.attrs[o])}class bk extends sS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ga.has(s)){const a=D_(s);return a&&a.default||0}return s=rS.has(s)?s:um(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return Q_(t,s,a)}build(t,s,a){G_(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,o){vk(t,s,a,o)}mount(t){this.isSVGTag=F_(t.tagName),super.mount(t)}}const wk=(e,t)=>rm(e)?new bk(t):new yk(t,{allowProjection:e!==x.Fragment});function Ma(e,t,s){const a=e.getProps();return om(a,t,s!==void 0?s:a.custom,e)}const od=e=>Array.isArray(e);function _k(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ua(s))}function Sk(e){return od(e)?e[e.length-1]||0:e}function Ek(e,t){const s=Ma(e,t);let{transitionEnd:a={},transition:o={},...u}=s||{};u={...u,...a};for(const c in u){const f=Sk(u[c]);_k(e,c,f)}}function Tk(e){return!!(Lt(e)&&e.add)}function ld(e,t){const s=e.getValue("willChange");if(Tk(s))return s.add(t);if(!s&&fi.WillChange){const a=new fi.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function oS(e){return e.props[X_]}const xk=e=>e!==null;function Ck(e,{repeat:t,repeatType:s="loop"},a){const o=e.filter(xk),u=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Ak={type:"spring",stiffness:500,damping:25,restSpeed:10},Rk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ok={type:"keyframes",duration:.8},jk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dk=(e,{keyframes:t})=>t.length>2?Ok:Ga.has(e)?e.startsWith("scale")?Rk(t[1]):Ak:jk;function Nk({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const cm=(e,t,s,a={},o,u)=>c=>{const f=Jd(a,e)||{},d=f.delay||a.delay||0;let{elapsed:p=0}=a;p=p-In(d);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:u?void 0:o};Nk(f)||Object.assign(g,Dk(e,g)),g.duration&&(g.duration=In(g.duration)),g.repeatDelay&&(g.repeatDelay=In(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ed(g),g.delay===0&&(v=!0)),(fi.instantAnimations||fi.skipAnimations)&&(v=!0,ed(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=Ck(g.keyframes,f);if(b!==void 0){Je.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new Qd(g):new ZD(g)};function kk({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function lS(e,t,{delay:s=0,transitionOverride:a,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...f}=t;a&&(u=a);const d=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const g in f){const v=e.getValue(g,e.latestValues[g]??null),b=f[g];if(b===void 0||p&&kk(p,g))continue;const w={delay:s,...Jd(u||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=oS(e);if(R){const N=window.MotionHandoffAnimation(R,g,Je);N!==null&&(w.startTime=N,T=!0)}}ld(e,g),v.start(cm(g,v,b,e.shouldReduceMotion&&R_.has(g)?{type:!1}:w,e,T));const O=v.animation;O&&d.push(O)}return c&&Promise.all(d).then(()=>{Je.update(()=>{c&&Ek(e,c)})}),d}function uS(e,t,s,a=0,o=1){const u=Array.from(e).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),c=e.size,f=(c-1)*a;return typeof s=="function"?s(u,c):o===1?u*a:f-u*a}function ud(e,t,s={}){const a=Ma(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const u=a?()=>Promise.all(lS(e,a,s)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=o;return Mk(e,t,d,p,g,v,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,p]=f==="beforeChildren"?[u,c]:[c,u];return d().then(()=>p())}else return Promise.all([u(),c(s.delay)])}function Mk(e,t,s=0,a=0,o=0,u=1,c){const f=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),f.push(ud(d,t,{...c,delay:s+(typeof a=="function"?0:a)+uS(e.variantChildren,d,a,o,u)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(f)}function Uk(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const o=t.map(u=>ud(e,u,s));a=Promise.all(o)}else if(typeof t=="string")a=ud(e,t,s);else{const o=typeof t=="function"?Ma(e,t,s.custom):t;a=Promise.all(lS(e,o,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function cS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const Lk=im.length;function hS(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?hS(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Lk;s++){const a=im[s],o=e.props[a];(mo(o)||o===!1)&&(t[a]=o)}return t}const Bk=[...nm].reverse(),Pk=nm.length;function zk(e){return t=>Promise.all(t.map(({animation:s,options:a})=>Uk(e,s,a)))}function Vk(e){let t=zk(e),s=sb(),a=!0;const o=d=>(p,g)=>{const v=Ma(e,g,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:w,...E}=v;p={...p,...E,...w}}return p};function u(d){t=d(e)}function c(d){const{props:p}=e,g=hS(e.parent)||{},v=[],b=new Set;let w={},E=1/0;for(let O=0;O<Pk;O++){const R=Bk[O],N=s[R],C=p[R]!==void 0?p[R]:g[R],z=mo(C),$=R===d?N.isActive:null;$===!1&&(E=O);let Q=C===g[R]&&C!==p[R]&&z;if(Q&&a&&e.manuallyAnimateOnMount&&(Q=!1),N.protectedKeys={...w},!N.isActive&&$===null||!C&&!N.prevProp||Cu(C)||typeof C=="boolean")continue;const q=Ik(N.prevProp,C);let A=q||R===d&&N.isActive&&!Q&&z||O>E&&z,k=!1;const K=Array.isArray(C)?C:[C];let ee=K.reduce(o(R),{});$===!1&&(ee={});const{prevResolvedValues:te={}}=N,pe={...te,...ee},Re=L=>{A=!0,b.has(L)&&(k=!0,b.delete(L)),N.needsAnimating[L]=!0;const W=e.getValue(L);W&&(W.liveStyle=!1)};for(const L in pe){const W=ee[L],Z=te[L];if(w.hasOwnProperty(L))continue;let re=!1;od(W)&&od(Z)?re=!cS(W,Z):re=W!==Z,re?W!=null?Re(L):b.add(L):W!==void 0&&b.has(L)?Re(L):N.protectedKeys[L]=!0}N.prevProp=C,N.prevResolvedValues=ee,N.isActive&&(w={...w,...ee}),a&&e.blockInitialAnimation&&(A=!1);const Le=Q&&q;A&&(!Le||k)&&v.push(...K.map(L=>{const W={type:R};if(typeof L=="string"&&a&&!Le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,re=Ma(Z,L);if(Z.enteringChildren&&re){const{delayChildren:j}=re.transition||{};W.delay=uS(Z.enteringChildren,e,j)}}return{animation:L,options:W}}))}if(b.size){const O={};if(typeof p.initial!="boolean"){const R=Ma(e,Array.isArray(p.initial)?p.initial[0]:p.initial);R&&R.transition&&(O.transition=R.transition)}b.forEach(R=>{const N=e.getBaseTarget(R),C=e.getValue(R);C&&(C.liveStyle=!0),O[R]=N??null}),v.push({animation:O})}let T=!!v.length;return a&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(T=!1),a=!1,T?t(v):Promise.resolve()}function f(d,p){if(s[d].isActive===p)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),s[d].isActive=p;const g=c(d);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=sb()}}}function Ik(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cS(t,e):!1}function ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sb(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class Qi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qk extends Qi{constructor(t){super(t),t.animationState||(t.animationState=Vk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hk=0;class $k extends Qi{constructor(){super(...arguments),this.id=Hk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Gk={animation:{Feature:qk},exit:{Feature:$k}};function po(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function xo(e){return{point:{x:e.pageX,y:e.pageY}}}const Kk=e=>t=>em(t)&&e(t,xo(t));function Jr(e,t,s,a){return po(e,t,Kk(s),a)}const fS=1e-4,Fk=1-fS,Yk=1+fS,dS=.01,Qk=0-dS,Xk=0+dS;function Pt(e){return e.max-e.min}function Jk(e,t,s){return Math.abs(e-t)<=s}function ab(e,t,s,a=.5){e.origin=a,e.originPoint=tt(t.min,t.max,e.origin),e.scale=Pt(s)/Pt(t),e.translate=tt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Fk&&e.scale<=Yk||isNaN(e.scale))&&(e.scale=1),(e.translate>=Qk&&e.translate<=Xk||isNaN(e.translate))&&(e.translate=0)}function Wr(e,t,s,a){ab(e.x,t.x,s.x,a?a.originX:void 0),ab(e.y,t.y,s.y,a?a.originY:void 0)}function rb(e,t,s){e.min=s.min+t.min,e.max=e.min+Pt(t)}function Wk(e,t,s){rb(e.x,t.x,s.x),rb(e.y,t.y,s.y)}function ob(e,t,s){e.min=t.min-s.min,e.max=e.min+Pt(t)}function yu(e,t,s){ob(e.x,t.x,s.x),ob(e.y,t.y,s.y)}function Sn(e){return[e("x"),e("y")]}const mS=({current:e})=>e?e.ownerDocument.defaultView:null,lb=(e,t)=>Math.abs(e-t);function Zk(e,t){const s=lb(e.x,t.x),a=lb(e.y,t.y);return Math.sqrt(s**2+a**2)}class pS{constructor(t,s,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=pf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=Zk(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!E)return;const{point:T}=b,{timestamp:O}=Dt;this.history.push({...T,timestamp:O});const{onStart:R,onMove:N}=this.handlers;w||(R&&R(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=mf(w,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=pf(b.type==="pointercancel"?this.lastMoveEventInfo:mf(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,R),T&&T(b,R)},!em(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=o||window;const f=xo(t),d=mf(f,this.transformPagePoint),{point:p}=d,{timestamp:g}=Dt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=s;v&&v(t,pf(d,this.history)),this.removeListeners=So(Jr(this.contextWindow,"pointermove",this.handlePointerMove),Jr(this.contextWindow,"pointerup",this.handlePointerUp),Jr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fi(this.updatePoint)}}function mf(e,t){return t?{point:t(e.point)}:e}function ub(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pf({point:e},t){return{point:e,delta:ub(e,gS(t)),offset:ub(e,eM(t)),velocity:tM(t,.1)}}function eM(e){return e[0]}function gS(e){return e[e.length-1]}function tM(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=gS(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>In(t)));)s--;if(!a)return{x:0,y:0};const u=Tn(o.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-a.x)/u,y:(o.y-a.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function nM(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?tt(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?tt(s,e,a.max):Math.min(e,s)),e}function cb(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function iM(e,{top:t,left:s,bottom:a,right:o}){return{x:cb(e.x,s,o),y:cb(e.y,t,a)}}function hb(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function sM(e,t){return{x:hb(e.x,t.x),y:hb(e.y,t.y)}}function aM(e,t){let s=.5;const a=Pt(e),o=Pt(t);return o>a?s=co(t.min,t.max-a,e.min):a>o&&(s=co(e.min,e.max-o,t.min)),hi(0,1,s)}function rM(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const cd=.35;function oM(e=cd){return e===!1?e=0:e===!0&&(e=cd),{x:fb(e,"left","right"),y:fb(e,"top","bottom")}}function fb(e,t,s){return{min:db(e,t),max:db(e,s)}}function db(e,t){return typeof e=="number"?e:e[t]||0}const lM=new WeakMap;class uM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(xo(v).point)},c=(v,b)=>{const{drag:w,dragPropagation:E,onDragStart:T}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pN(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sn(R=>{let N=this.getAxisMotionValue(R).get()||0;if(qn.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const z=C.layout.layoutBox[R];z&&(N=Pt(z)*(parseFloat(N)/100))}}this.originPoint[R]=N}),T&&Je.postRender(()=>T(v,b)),ld(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:T,onDrag:O}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=b;if(E&&this.currentDirection===null){this.currentDirection=cM(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,R),this.updateAxis("y",b.point,R),this.visualElement.render(),O&&O(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Sn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new pS(t,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:mS(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,o=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!a)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Je.postRender(()=>f(a,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:o}=this.getProps();if(!a||!Wl(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=nM(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Oa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=iM(a.layoutBox,t):this.constraints=!1,this.elastic=oM(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Sn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rM(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Oa(t))return!1;const a=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=hk(a,o.root,this.visualElement.getTransformPagePoint());let c=sM(o.layout.layoutBox,u);if(s){const f=s(lk(c));this.hasMutatedConstraints=!!f,f&&(c=Z_(f))}return c}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=Sn(g=>{if(!Wl(g,s,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const b=o?200:1e6,w=o?40:1e7,E={type:"inertia",velocity:a?t[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(p).then(f)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return ld(this.visualElement,t),a.start(cm(t,a,0,s,this.visualElement,!1))}stopAnimation(){Sn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Sn(s=>{const{drag:a}=this.getProps();if(!Wl(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(s);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[s];u.set(t[s]-tt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Oa(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Sn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();o[c]=aM({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Sn(c=>{if(!Wl(c,t,null))return;const f=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];f.set(tt(d,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;lM.set(this.visualElement,this);const t=this.visualElement.current,s=Jr(t,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();Oa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(a);const c=po(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Sn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=cd,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function Wl(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function cM(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class hM extends Qi{constructor(t){super(t),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new uM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mb=e=>(t,s)=>{e&&Je.postRender(()=>e(t,s))};class fM extends Qi{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(t){this.session=new pS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:mb(t),onStart:mb(s),onMove:a,onEnd:(u,c)=>{delete this.session,o&&Je.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Jr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gf=!1;class dM extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:u}=t;u&&(s.group&&s.group.add(u),a&&a.register&&o&&a.register(u),gf&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:o,isPresent:u}=this.props,{projection:c}=a;return c&&(c.isPresent=u,gf=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Je.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=t;gf=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yS(e){const[t,s]=z_(),a=x.useContext(Nd);return S.jsx(dM,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(J_),isPresent:t,safeToRemove:s})}function mM(e,t,s){const a=Lt(e)?e:Ua(e);return a.start(cm("",a,t,s)),a.animation}const pM=(e,t)=>e.depth-t.depth;class gM{constructor(){this.children=[],this.isDirty=!1}add(t){Ud(this.children,t),this.isDirty=!0}remove(t){Ld(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pM),this.isDirty=!1,this.children.forEach(t)}}function yM(e,t){const s=Yt.now(),a=({timestamp:o})=>{const u=o-s;u>=t&&(Fi(a),e(u-t))};return Je.setup(a,!0),()=>Fi(a)}const vS=["TopLeft","TopRight","BottomLeft","BottomRight"],vM=vS.length,pb=e=>typeof e=="string"?parseFloat(e):e,gb=e=>typeof e=="number"||ge.test(e);function bM(e,t,s,a,o,u){o?(e.opacity=tt(0,s.opacity??1,wM(a)),e.opacityExit=tt(t.opacity??1,0,_M(a))):u&&(e.opacity=tt(t.opacity??1,s.opacity??1,a));for(let c=0;c<vM;c++){const f=`border${vS[c]}Radius`;let d=yb(t,f),p=yb(s,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||gb(d)===gb(p)?(e[f]=Math.max(tt(pb(d),pb(p),a),0),(qn.test(p)||qn.test(d))&&(e[f]+="%")):e[f]=p}(t.rotate||s.rotate)&&(e.rotate=tt(t.rotate||0,s.rotate||0,a))}function yb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wM=bS(0,.5,s_),_M=bS(.5,.95,xn);function bS(e,t,s){return a=>a<e?0:a>t?1:s(co(e,t,a))}function vb(e,t){e.min=t.min,e.max=t.max}function jn(e,t){vb(e.x,t.x),vb(e.y,t.y)}function bb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wb(e,t,s,a,o){return e-=t,e=gu(e,1/s,a),o!==void 0&&(e=gu(e,1/o,a)),e}function SM(e,t=0,s=1,a=.5,o,u=e,c=e){if(qn.test(t)&&(t=parseFloat(t),t=tt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=tt(u.min,u.max,a);e===u&&(f-=t),e.min=wb(e.min,t,s,f,o),e.max=wb(e.max,t,s,f,o)}function _b(e,t,[s,a,o],u,c){SM(e,t[s],t[a],t[o],t.scale,u,c)}const EM=["x","scaleX","originX"],TM=["y","scaleY","originY"];function Sb(e,t,s,a){_b(e.x,t,EM,s?s.x:void 0,a?a.x:void 0),_b(e.y,t,TM,s?s.y:void 0,a?a.y:void 0)}function Eb(e){return e.translate===0&&e.scale===1}function wS(e){return Eb(e.x)&&Eb(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function xM(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function xb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _S(e,t){return xb(e.x,t.x)&&xb(e.y,t.y)}function Cb(e){return Pt(e.x)/Pt(e.y)}function Ab(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CM{constructor(){this.members=[]}add(t){Ud(this.members,t),t.scheduleRender()}remove(t){if(Ld(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AM(e,t,s){let a="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=s?.z||0;if((o||u||c)&&(a=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:w,skewY:E}=s;p&&(a=`perspective(${p}px) ${a}`),g&&(a+=`rotate(${g}deg) `),v&&(a+=`rotateX(${v}deg) `),b&&(a+=`rotateY(${b}deg) `),w&&(a+=`skewX(${w}deg) `),E&&(a+=`skewY(${E}deg) `)}const f=e.x.scale*t.x,d=e.y.scale*t.y;return(f!==1||d!==1)&&(a+=`scale(${f}, ${d})`),a||"none"}const yf=["","X","Y","Z"],RM=1e3;let OM=0;function vf(e,t,s,a){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),a&&(a[e]=0))}function SS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=oS(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Je,!(o||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&SS(a)}function ES({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(c={},f=t?.()){this.id=OM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NM),this.nodes.forEach(LM),this.nodes.forEach(BM),this.nodes.forEach(kM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new gM)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new zd),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=P_(c)&&!_N(c),this.instance=c;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),e){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{v=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=yM(b,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(jb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||qM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:O}=p.getProps(),R=!this.targetLayout||!_S(this.targetLayout,w),N=!v&&b;if(this.options.layoutRoot||this.resumeFrom||N||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Jd(E,"layout"),onPlay:T,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,N)}else v||jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ob);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UM),this.nodes.forEach(jM),this.nodes.forEach(DM)):this.nodes.forEach(Ob),this.clearAllSnapshots();const f=Yt.now();Dt.delta=hi(0,1e3/60,f-Dt.timestamp),Dt.timestamp=f,Dt.isProcessing=!0,rf.update.process(Dt),rf.preRender.process(Dt),rf.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MM),this.sharedNodes.forEach(zM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!wS(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||bs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),HM(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return vt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($M))){const{scroll:p}=this.root;p&&(ja(f.x,p.offset.x),ja(f.y,p.offset.y))}return f}removeElementScroll(c){const f=vt();if(jn(f,c),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&jn(f,c),ja(f.x,g.offset.x),ja(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const d=vt();jn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Da(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),bs(g.latestValues)&&Da(d,g.latestValues)}return bs(this.latestValues)&&Da(d,this.latestValues),d}removeTransform(c){const f=vt();jn(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!bs(p.latestValues))continue;sd(p.latestValues)&&p.updateSnapshot();const g=vt(),v=p.measurePageBox();jn(g,v),Sb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return bs(this.latestValues)&&Sb(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Dt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),tS(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sd(this.parent.latestValues)||eS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),yu(this.relativeTargetOrigin,f,d),jn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;jn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;ck(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bb(this.prevProjectionDelta.x,this.projectionDelta.x),bb(this.prevProjectionDelta.y,this.projectionDelta.y)),Wr(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Na(),this.projectionDelta=Na(),this.projectionDeltaWithTransform=Na()}setAnimationOrigin(c,f=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=Na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=vt(),w=d?d.source:void 0,E=this.layout?this.layout.source:void 0,T=w!==E,O=this.getStack(),R=!O||O.members.length<=1,N=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(IM));this.animationProgress=0;let C;this.mixTargetDelta=z=>{const $=z/1e3;Db(v.x,c.x,$),Db(v.y,c.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VM(this.relativeTarget,this.relativeTargetOrigin,b,$),C&&xM(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=vt()),jn(C,this.relativeTarget)),T&&(this.animationValues=g,bM(g,p,this.latestValues,$,N,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{ru.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ua(0)),this.currentAnimation=mM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:g}=c;if(!(!f||!d||!p)){if(this!==c&&this.layout&&p&&TS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||vt();const v=Pt(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const b=Pt(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}jn(f,d),Da(f,g),Wr(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new CM),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&vf("z",c,p,this.animationValues);for(let g=0;g<yf.length;g++)vf(`rotate${yf[g]}`,c,p,this.animationValues),vf(`skew${yf[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=au(f?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=au(f?.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=AM(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in id){if(g[E]===void 0)continue;const{correct:T,applyTo:O,isCSSVariable:R}=id[E],N=v==="none"?g[E]:T(g[E],p);if(O){const C=O.length;for(let z=0;z<C;z++)c[O[z]]=N}else R?this.options.visualElement.renderState.vars[E]=N:c[E]=N}this.options.layoutId&&(c.pointerEvents=p===this?au(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function jM(e){e.updateLayout()}function DM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Sn(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=Pt(v);v.min=s[g].min,v.max=v.min+b}):TS(o,t.layoutBox,s)&&Sn(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=Pt(s[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const c=Na();Wr(c,s,t.layoutBox);const f=Na();u?Wr(f,e.applyTransform(a,!0),t.measuredBox):Wr(f,s,t.layoutBox);const d=!wS(c);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const w=vt();yu(w,t.layoutBox,v.layoutBox);const E=vt();yu(E,s,b.layoutBox),_S(w,E)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function NM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MM(e){e.clearSnapshot()}function Rb(e){e.clearMeasurements()}function Ob(e){e.isLayoutDirty=!1}function UM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function LM(e){e.resolveTargetDelta()}function BM(e){e.calcProjection()}function PM(e){e.resetSkewAndRotation()}function zM(e){e.removeLeadSnapshot()}function Db(e,t,s){e.translate=tt(t.translate,0,s),e.scale=tt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Nb(e,t,s,a){e.min=tt(t.min,s.min,a),e.max=tt(t.max,s.max,a)}function VM(e,t,s,a){Nb(e.x,t.x,s.x,a),Nb(e.y,t.y,s.y,a)}function IM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qM={duration:.45,ease:[.4,0,.1,1]},kb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mb=kb("applewebkit/")&&!kb("chrome/")?Math.round:xn;function Ub(e){e.min=Mb(e.min),e.max=Mb(e.max)}function HM(e){Ub(e.x),Ub(e.y)}function TS(e,t,s){return e==="position"||e==="preserve-aspect"&&!Jk(Cb(t),Cb(s),.2)}function $M(e){return e!==e.root&&e.scroll?.wasRoot}const GM=ES({attachResizeListener:(e,t)=>po(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},xS=ES({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bf.current){const e=new GM({});e.mount(window),e.setOptions({layoutScroll:!0}),bf.current=e}return bf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KM={pan:{Feature:fM},drag:{Feature:hM,ProjectionNode:xS,MeasureLayout:yS}};function Lb(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,u=a[o];u&&Je.postRender(()=>u(t,xo(t)))}class FM extends Qi{mount(){const{current:t}=this.node;t&&(this.unmount=gN(t,(s,a)=>(Lb(this.node,a,"Start"),o=>Lb(this.node,o,"End"))))}unmount(){}}class YM extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=So(po(this.node.current,"focus",()=>this.onFocus()),po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bb(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),u=a[o];u&&Je.postRender(()=>u(t,xo(t)))}class QM extends Qi{mount(){const{current:t}=this.node;t&&(this.unmount=wN(t,(s,a)=>(Bb(this.node,a,"Start"),(o,{success:u})=>Bb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hd=new WeakMap,wf=new WeakMap,XM=e=>{const t=hd.get(e.target);t&&t(e)},JM=e=>{e.forEach(XM)};function WM({root:e,...t}){const s=e||document;wf.has(s)||wf.set(s,{});const a=wf.get(s),o=JSON.stringify(t);return a[o]||(a[o]=new IntersectionObserver(JM,{root:e,...t})),a[o]}function ZM(e,t,s){const a=WM(t);return hd.set(e,s),a.observe(e),()=>{hd.delete(e),a.unobserve(e)}}const e2={some:0,all:1};class t2 extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:u}=t,c={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:e2[o]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(d)};return ZM(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(n2(t,s))&&this.startObserver()}unmount(){}}function n2({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const i2={inView:{Feature:t2},tap:{Feature:QM},focus:{Feature:YM},hover:{Feature:FM}},s2={layout:{ProjectionNode:xS,MeasureLayout:yS}},a2={...Gk,...i2,...KM,...s2},Hr=ok(a2,wk),r2=({roundData:e,myPlayerId:t,onComplete:s})=>{const a=e.warHistory||[e],[o,u]=x.useState(0),[c,f]=x.useState("enter"),[d,p]=x.useState(!1);if(x.useEffect(()=>{u(0),f("enter"),p(!1)},[e]),x.useEffect(()=>{console.log("BattleOverlay: Sequence starting for history length:",a.length);let E=!0;return(async()=>{for(let O=0;O<a.length;O++){if(!E||(u(O),f("enter"),p(!1),await new Promise(N=>setTimeout(N,1e3)),!E)||(f("reveal"),await new Promise(N=>setTimeout(N,1500)),!E)||(f("compare"),await new Promise(N=>setTimeout(N,2e3)),!E))return;if(O===a.length-1)await new Promise(N=>setTimeout(N,1500));else{if(p(!0),await new Promise(N=>setTimeout(N,1500)),!E)return;f("exit"),await new Promise(N=>setTimeout(N,500))}}E&&(f("exit"),await new Promise(O=>setTimeout(O,500)),s&&s())})(),()=>{E=!1}},[e]),!e)return null;const g=a[o];if(!g||!g.cardsPlayed)return null;const v=g.winner,b=e.category,w=e.winnerName;return S.jsxs(Hr.div,{className:"battle-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsxs("div",{className:"battle-category",children:["Competition: ",S.jsx("span",{children:b}),a.length>1&&S.jsxs("div",{style:{fontSize:"0.6em",opacity:.8},children:["Round ",o+1," / ",a.length]})]}),S.jsx(nd,{mode:"wait",children:c!=="exit"&&S.jsx("div",{className:"battle-arena",children:g.cardsPlayed.map((E,T)=>{if(!E||!E.card)return null;const O=E.playerId===t,R=E.playerId===v,N=!O&&c==="enter",C=E.value??E.card.values?.[b]??E.card.attributes?.[b]??"-";return S.jsxs("div",{className:`battle-card-slot ${R&&c==="compare"?"winner":""}`,children:[S.jsx("div",{className:"player-label",children:E.playerName}),S.jsxs(Hr.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1,scale:R&&c==="compare"?1.1:1,filter:!R&&v&&c==="compare"?"grayscale(0.8) blur(1px)":"none"},exit:{y:-50,opacity:0},transition:{delay:T*.1},className:"battle-card-wrapper",children:[S.jsx(Eu,{card:E.card,categories:[{name:b}],deckName:null,flipped:N,enableFlip:!1}),c==="compare"&&S.jsx(Hr.div,{className:"stat-highlight",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:C})]})]},E.playerId)})},`arena-${o}`)}),S.jsxs(nd,{children:[c==="compare"&&d&&S.jsxs(Hr.div,{className:"winner-banner war-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:["WAR!",S.jsx("div",{style:{fontSize:"0.4em"},children:"Tie - Next Cards!"})]},"war-banner"),c==="compare"&&!d&&o===a.length-1&&S.jsx(Hr.div,{className:"winner-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:w?`${w} Wins!`:"DRAW!"},"winner-banner")]})]})},o2=({matchId:e,gameState:t,myPlayer:s,deck:a,actions:o,isMyTurn:u})=>{if(!a)return S.jsx("div",{children:"Loading Deck Data..."});const c=s.hand[0],f=a.categories,d=t.winner,p=t.warMode;t.pot.length;const g=t.lastRound,[v,b]=x.useState(!1),w=Ba.useRef(null);x.useEffect(()=>{console.log("GameBoard: Checking lastRound update",{lastRound:g,prev:w.current}),g&&g!==w.current&&(console.log("GameBoard: New round detected, triggering battle animation",g),b(!0),w.current=g)},[g]);const E=s.eliminated;return t.status==="completed"&&d&&!v?S.jsxs("div",{className:"game-board-container game-over",children:[S.jsx("h1",{children:"Game Over!"}),S.jsxs("h2",{children:["Winner: ",d.name]}),S.jsx(Qe,{variant:"primary",onClick:()=>window.location.href="/",children:"Back to Home"})]}):S.jsxs("div",{className:"game-board-container",children:[S.jsx("div",{className:"game-header",children:S.jsxs("div",{className:"game-status-block",children:[S.jsx("div",{className:"turn-indicator",style:{fontSize:"1.2rem"},children:u?S.jsx("span",{className:"text-primary animate-pulse",children:"YOUR TURN: Select a category "}):S.jsxs("span",{children:[t.players.find(T=>T.id===t.turnPlayerId)?.name,"'s Turn"]})}),p&&S.jsx("span",{className:"war-badge",children:"WAR!"}),!u&&!E&&!d&&S.jsx("div",{className:"waiting-message",style:{marginTop:"0.5rem",fontSize:"0.9rem",opacity:.7},children:"Waiting for opponent..."})]})}),S.jsx(nd,{children:v&&g&&S.jsx(r2,{roundData:g,myPlayerId:s.id,onComplete:()=>b(!1)})}),S.jsxs("div",{className:"main-play-area",children:[S.jsx("div",{className:"my-card-section",children:c?S.jsx(Eu,{card:c,categories:f||[],isSelectable:u&&!d,onCategorySelect:o.playTurn,deckName:a.name}):S.jsx("div",{className:"empty-card-slot",children:"Empty Hand"})}),S.jsx("div",{className:"players-strip",style:{marginBottom:0},children:t.players.map(T=>{const O=T.id===s.id,R=T.id===t.turnPlayerId;return S.jsxs("div",{className:`game-player-card ${R?"active-turn":""} ${T.eliminated?"eliminated-p":""} ${O?"my-player-card":""}`,children:[S.jsx("div",{className:"player-avatar",children:""}),S.jsxs("div",{className:"player-name",children:[T.name," ",O&&"(You)"]}),S.jsxs("div",{className:"player-hand-count",children:[T.hand.length," cards"]})]},T.id)})}),S.jsxs("div",{className:"controls-section",children:[E&&S.jsxs("div",{className:"eliminated-message",children:[S.jsx("h3",{children:"You have been eliminated"}),S.jsx("p",{children:"Spectating the game..."})]}),g&&!v&&S.jsx("div",{className:"review-battle-container",style:{marginTop:"1rem",textAlign:"center"},children:S.jsx(Qe,{variant:"secondary",size:"sm",onClick:()=>b(!0),children:"Review Last Battle"})}),!E&&!d&&S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Qe,{variant:"ghost",size:"sm",onClick:o.concede,style:{color:"var(--danger)",opacity:.7},children:"Surrender Game"})})]})]})]})},l2=()=>{const{id:e}=Mx(),{status:t,actions:s,gameState:a,myPlayer:o,isHost:u,players:c,deck:f,isMyTurn:d}=Cj(e),[p,g]=x.useState(""),{setTitle:v,setBackTo:b}=Ia(),{user:w}=qa(),E=x.useRef(!1);return x.useEffect(()=>{w&&f?.id&&pj(f.id,w.id)},[w,f?.id]),x.useEffect(()=>{if(w&&!o&&t==="lobby"&&!E.current){E.current=!0;const T=w.user_metadata?.full_name||w.email?.split("@")[0]||"Player";console.log("Auto-joining as",T),s.join(T).catch(O=>{console.error("Auto-join failed:",O),E.current=!1})}},[w,o,t]),x.useEffect(()=>{t==="lobby"?(v("Game Lobby"),b("/")):t==="active"&&(v("Game Board"),b("/"))},[t,v,b]),t==="loading"?S.jsx("div",{className:"p-8 text-center",children:"Loading Game..."}):a?o?t==="lobby"?S.jsx(Aj,{matchId:e,players:c,isHost:u,onStart:s.start}):t==="active"||t==="completed"?S.jsx(o2,{matchId:e,gameState:a,myPlayer:o,deck:f,actions:s,isMyTurn:d}):S.jsxs("div",{children:["Unknown Status: ",t]}):S.jsxs("div",{className:"page-view app-card centered",children:[S.jsx("h2",{children:"Join Game"}),S.jsx("div",{className:"input-group",style:{width:"100%",maxWidth:"300px"},children:S.jsx("input",{type:"text",placeholder:"Enter your name",value:p,onChange:T=>g(T.target.value),onKeyDown:T=>T.key==="Enter"&&p.trim()&&s.join(p)})}),S.jsx(Qe,{variant:"primary",disabled:!p.trim(),onClick:()=>s.join(p),style:{width:"100%",maxWidth:"300px"},children:"Join Lobby"})]}):S.jsx("div",{className:"p-8 text-center",children:"Game Not Found"})},u2=()=>{const[e,t]=x.useState(""),[s,a]=x.useState(""),[o,u]=x.useState(""),[c,f]=x.useState(!1),[d,p]=x.useState(!1),[g,v]=x.useState(null),b=Va(),w=async E=>{E.preventDefault(),f(!0),v(null);try{if(d){const{error:T}=await bt.auth.signUp({email:e,password:o,options:{data:{full_name:s}}});if(T)throw T;alert("Account created! You can now log in."),p(!1)}else{const{error:T}=await bt.auth.signInWithPassword({email:e,password:o});if(T)throw T;b("/")}}catch(T){v(T.message)}finally{f(!1)}};return S.jsx("div",{className:"page-view centered auth-page-container",children:S.jsxs("div",{className:"glass-panel auth-panel",children:[S.jsx("h2",{className:"auth-title",children:d?"Create Account":"Welcome Back"}),g&&S.jsx("div",{className:"auth-error",children:g}),S.jsxs("form",{onSubmit:w,className:"input-group auth-form",children:[d&&S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Username"}),S.jsx(Cs,{type:"text",value:s,onChange:E=>a(E.target.value),required:!0,placeholder:"Choose a username"})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Email"}),S.jsx(Cs,{type:"email",value:e,onChange:E=>t(E.target.value),required:!0,placeholder:"you@example.com"})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Password"}),S.jsx(Cs,{type:"password",value:o,onChange:E=>u(E.target.value),required:!0,placeholder:""})]}),S.jsx(Qe,{type:"submit",variant:"primary",fullWidth:!0,loading:c,children:d?"Sign Up":"Log In"})]}),S.jsxs("div",{className:"auth-footer",children:[d?"Already have an account?":"Don't have an account?",S.jsx("button",{onClick:()=>p(!d),className:"auth-switch-btn",children:d?"Log In":"Sign Up"})]})]})})},Pb=({children:e})=>{const{user:t,loading:s}=qa();return s?null:t?e:S.jsx(Yx,{to:"/auth"})};function c2(){return S.jsx(fO,{children:S.jsx(DA,{children:S.jsxs(Xx,{children:[S.jsx(Ea,{path:"/",element:S.jsx(dO,{})}),S.jsx(Ea,{path:"/auth",element:S.jsx(u2,{})}),S.jsx(Ea,{path:"/create",element:S.jsx(Pb,{children:S.jsx(vj,{})})}),S.jsx(Ea,{path:"/collection",element:S.jsx(Pb,{children:S.jsx(Sj,{})})}),S.jsx(Ea,{path:"/game/:id",element:S.jsx(l2,{})})]})})})}const h2=new ZC;JT.createRoot(document.getElementById("root")).render(S.jsx(Ba.StrictMode,{children:S.jsx(tA,{client:h2,children:S.jsx(wC,{children:S.jsx(mA,{children:S.jsx(c2,{})})})})}));
