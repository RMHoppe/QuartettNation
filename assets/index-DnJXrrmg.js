(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function sb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oh={exports:{}},Dr={};var zy;function QE(){if(zy)return Dr;zy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Dr.Fragment=t,Dr.jsx=a,Dr.jsxs=a,Dr}var Vy;function ZE(){return Vy||(Vy=1,Oh.exports=QE()),Oh.exports}var S=ZE(),jh={exports:{}},ye={};var Py;function eT(){if(Py)return ye;Py=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function j(R,V,Y){this.props=R,this.context=V,this.refs=O,this.updater=Y||E}j.prototype.isReactComponent={},j.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=j.prototype;function A(R,V,Y){this.props=R,this.context=V,this.refs=O,this.updater=Y||E}var P=A.prototype=new D;P.constructor=A,T(P,j.prototype),P.isPureReactComponent=!0;var q=Array.isArray;function X(){}var G={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(R,V,Y){var ne=Y.ref;return{$$typeof:n,type:R,key:V,ref:ne!==void 0?ne:null,props:Y}}function K(R,V){return k(R.type,V,R.props)}function te(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ee(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return V[Y]})}var pe=/\/+/g;function Re(R,V){return typeof R=="object"&&R!==null&&R.key!=null?ee(""+R.key):V.toString(36)}function Le(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(X,X):(R.status="pending",R.then(function(V){R.status==="pending"&&(R.status="fulfilled",R.value=V)},function(V){R.status==="pending"&&(R.status="rejected",R.reason=V)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function I(R,V,Y,ne,se){var le=typeof R;(le==="undefined"||le==="boolean")&&(R=null);var ve=!1;if(R===null)ve=!0;else switch(le){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(R.$$typeof){case n:case t:ve=!0;break;case g:return ve=R._init,I(ve(R._payload),V,Y,ne,se)}}if(ve)return se=se(R),ve=ne===""?"."+Re(R,0):ne,q(se)?(Y="",ve!=null&&(Y=ve.replace(pe,"$&/")+"/"),I(se,V,Y,"",function(Ve){return Ve})):se!=null&&(te(se)&&(se=K(se,Y+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(pe,"$&/")+"/")+ve)),V.push(se)),1;ve=0;var he=ne===""?".":ne+":";if(q(R))for(var ce=0;ce<R.length;ce++)ne=R[ce],le=he+Re(ne,ce),ve+=I(ne,V,Y,le,se);else if(ce=w(R),typeof ce=="function")for(R=ce.call(R),ce=0;!(ne=R.next()).done;)ne=ne.value,le=he+Re(ne,ce++),ve+=I(ne,V,Y,le,se);else if(le==="object"){if(typeof R.then=="function")return I(Le(R),V,Y,ne,se);throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ve}function L(R,V,Y){if(R==null)return R;var ne=[],se=0;return I(R,ne,"","",function(le){return V.call(Y,le,se++)}),ne}function Q(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var Z=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ae={map:L,forEach:function(R,V,Y){L(R,function(){V.apply(this,arguments)},Y)},count:function(R){var V=0;return L(R,function(){V++}),V},toArray:function(R){return L(R,function(V){return V})||[]},only:function(R){if(!te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=v,ye.Children=ae,ye.Component=j,ye.Fragment=a,ye.Profiler=l,ye.PureComponent=A,ye.StrictMode=s,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return G.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,V,Y){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=T({},R.props),se=R.key;if(V!=null)for(le in V.key!==void 0&&(se=""+V.key),V)!C.call(V,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&V.ref===void 0||(ne[le]=V[le]);var le=arguments.length-2;if(le===1)ne.children=Y;else if(1<le){for(var ve=Array(le),he=0;he<le;he++)ve[he]=arguments[he+2];ne.children=ve}return k(R.type,se,ne)},ye.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ye.createElement=function(R,V,Y){var ne,se={},le=null;if(V!=null)for(ne in V.key!==void 0&&(le=""+V.key),V)C.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(se[ne]=V[ne]);var ve=arguments.length-2;if(ve===1)se.children=Y;else if(1<ve){for(var he=Array(ve),ce=0;ce<ve;ce++)he[ce]=arguments[ce+2];se.children=he}if(R&&R.defaultProps)for(ne in ve=R.defaultProps,ve)se[ne]===void 0&&(se[ne]=ve[ne]);return k(R,le,se)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:f,render:R}},ye.isValidElement=te,ye.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:Q}},ye.memo=function(R,V){return{$$typeof:p,type:R,compare:V===void 0?null:V}},ye.startTransition=function(R){var V=G.T,Y={};G.T=Y;try{var ne=R(),se=G.S;se!==null&&se(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(X,Z)}catch(le){Z(le)}finally{V!==null&&Y.types!==null&&(V.types=Y.types),G.T=V}},ye.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ye.use=function(R){return G.H.use(R)},ye.useActionState=function(R,V,Y){return G.H.useActionState(R,V,Y)},ye.useCallback=function(R,V){return G.H.useCallback(R,V)},ye.useContext=function(R){return G.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,V){return G.H.useDeferredValue(R,V)},ye.useEffect=function(R,V){return G.H.useEffect(R,V)},ye.useEffectEvent=function(R){return G.H.useEffectEvent(R)},ye.useId=function(){return G.H.useId()},ye.useImperativeHandle=function(R,V,Y){return G.H.useImperativeHandle(R,V,Y)},ye.useInsertionEffect=function(R,V){return G.H.useInsertionEffect(R,V)},ye.useLayoutEffect=function(R,V){return G.H.useLayoutEffect(R,V)},ye.useMemo=function(R,V){return G.H.useMemo(R,V)},ye.useOptimistic=function(R,V){return G.H.useOptimistic(R,V)},ye.useReducer=function(R,V,Y){return G.H.useReducer(R,V,Y)},ye.useRef=function(R){return G.H.useRef(R)},ye.useState=function(R){return G.H.useState(R)},ye.useSyncExternalStore=function(R,V,Y){return G.H.useSyncExternalStore(R,V,Y)},ye.useTransition=function(){return G.H.useTransition()},ye.version="19.2.3",ye}var Hy;function Ff(){return Hy||(Hy=1,jh.exports=eT()),jh.exports}var x=Ff();const ro=sb(x);var Nh={exports:{}},kr={},Dh={exports:{}},kh={};var $y;function tT(){return $y||($y=1,(function(n){function t(I,L){var Q=I.length;I.push(L);e:for(;0<Q;){var Z=Q-1>>>1,ae=I[Z];if(0<l(ae,L))I[Z]=L,I[Q]=ae,Q=Z;else break e}}function a(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var L=I[0],Q=I.pop();if(Q!==L){I[0]=Q;e:for(var Z=0,ae=I.length,R=ae>>>1;Z<R;){var V=2*(Z+1)-1,Y=I[V],ne=V+1,se=I[ne];if(0>l(Y,Q))ne<ae&&0>l(se,Y)?(I[Z]=se,I[ne]=Q,Z=ne):(I[Z]=Y,I[V]=Q,Z=V);else if(ne<ae&&0>l(se,Q))I[Z]=se,I[ne]=Q,Z=ne;else break e}}return L}function l(I,L){var Q=I.sortIndex-L.sortIndex;return Q!==0?Q:I.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],g=1,v=null,b=3,w=!1,E=!1,T=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(I){for(var L=a(p);L!==null;){if(L.callback===null)s(p);else if(L.startTime<=I)s(p),L.sortIndex=L.expirationTime,t(m,L);else break;L=a(p)}}function q(I){if(T=!1,P(I),!E)if(a(m)!==null)E=!0,X||(X=!0,ee());else{var L=a(p);L!==null&&Le(q,L.startTime-I)}}var X=!1,G=-1,C=5,k=-1;function K(){return O?!0:!(n.unstable_now()-k<C)}function te(){if(O=!1,X){var I=n.unstable_now();k=I;var L=!0;try{e:{E=!1,T&&(T=!1,D(G),G=-1),w=!0;var Q=b;try{t:{for(P(I),v=a(m);v!==null&&!(v.expirationTime>I&&K());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,b=v.priorityLevel;var ae=Z(v.expirationTime<=I);if(I=n.unstable_now(),typeof ae=="function"){v.callback=ae,P(I),L=!0;break t}v===a(m)&&s(m),P(I)}else s(m);v=a(m)}if(v!==null)L=!0;else{var R=a(p);R!==null&&Le(q,R.startTime-I),L=!1}}break e}finally{v=null,b=Q,w=!1}L=void 0}}finally{L?ee():X=!1}}}var ee;if(typeof A=="function")ee=function(){A(te)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=te,ee=function(){Re.postMessage(null)}}else ee=function(){j(te,0)};function Le(I,L){G=j(function(){I(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(I){switch(b){case 1:case 2:case 3:var L=3;break;default:L=b}var Q=b;b=L;try{return I()}finally{b=Q}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=b;b=I;try{return L()}finally{b=Q}},n.unstable_scheduleCallback=function(I,L,Q){var Z=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,I){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,I={id:g++,callback:L,priorityLevel:I,startTime:Q,expirationTime:ae,sortIndex:-1},Q>Z?(I.sortIndex=Q,t(p,I),a(m)===null&&I===a(p)&&(T?(D(G),G=-1):T=!0,Le(q,Q-Z))):(I.sortIndex=ae,t(m,I),E||w||(E=!0,X||(X=!0,ee()))),I},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(I){var L=b;return function(){var Q=b;b=L;try{return I.apply(this,arguments)}finally{b=Q}}}})(kh)),kh}var Iy;function nT(){return Iy||(Iy=1,Dh.exports=tT()),Dh.exports}var Mh={exports:{}},kt={};var qy;function iT(){if(qy)return kt;qy=1;var n=Ff();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,g)},kt.flushSync=function(m){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=g,s.d.f()}},kt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},kt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},kt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):g==="script"&&s.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},kt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin);s.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},kt.requestFormReset=function(m){s.d.r(m)},kt.unstable_batchedUpdates=function(m,p){return m(p)},kt.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var Gy;function aT(){if(Gy)return Mh.exports;Gy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mh.exports=iT(),Mh.exports}var Ky;function sT(){if(Ky)return kr;Ky=1;var n=nT(),t=Ff(),a=aT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,r=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(r=i.return),e=i.return;while(e)}return i.tag===3?r:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var r=e,o=i;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return m(h),e;if(d===o)return m(h),i;d=d.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=d;else{for(var y=!1,_=h.child;_;){if(_===r){y=!0,r=h,o=d;break}if(_===o){y=!0,o=h,r=d;break}_=_.sibling}if(!y){for(_=d.child;_;){if(_===r){y=!0,r=d,o=h;break}if(_===o){y=!0,o=d,r=h;break}_=_.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case j:return"Profiler";case O:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case A:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case P:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return i=e.displayName||null,i!==null?i:Re(e.type)||"Memo";case C:i=e._payload,e=e._init;try{return Re(e(i))}catch{}}return null}var Le=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Z=[],ae=-1;function R(e){return{current:e}}function V(e){0>ae||(e.current=Z[ae],Z[ae]=null,ae--)}function Y(e,i){ae++,Z[ae]=e.current,e.current=i}var ne=R(null),se=R(null),le=R(null),ve=R(null);function he(e,i){switch(Y(le,i),Y(se,e),Y(ne,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?oy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=oy(i),e=ly(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ne),Y(ne,e)}function ce(){V(ne),V(se),V(le)}function Ve(e){e.memoizedState!==null&&Y(ve,e);var i=ne.current,r=ly(i,e.type);i!==r&&(Y(se,e),Y(ne,r))}function be(e){se.current===e&&(V(ne),V(se)),ve.current===e&&(V(ve),Rr._currentValue=Q)}var Pe,rt;function je(e){if(Pe===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Pe=i&&i[1]||"",rt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+rt}var Ne=!1;function _e(e,i){if(!e||Ne)return"";Ne=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch($){var H=$}Reflect.construct(e,[],W)}else{try{W.call()}catch($){H=$}e.call(W.prototype)}}else{try{throw Error()}catch($){H=$}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],_=d[1];if(y&&_){var N=y.split(`
`),z=_.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var F=`
`+N[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ne=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?je(r):""}function wt(e,i){switch(e.tag){case 26:case 27:case 5:return je(e.type);case 16:return je("Lazy");case 13:return e.child!==i&&i!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return _e(e.type,!1);case 11:return _e(e.type.render,!1);case 1:return _e(e.type,!0);case 31:return je("Activity");default:return""}}function Oe(e){try{var i="",r=null;do i+=wt(e,r),r=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var He=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,kn=n.unstable_cancelCallback,on=n.unstable_shouldYield,Ki=n.unstable_requestPaint,Ue=n.unstable_now,ln=n.unstable_getCurrentPriorityLevel,ot=n.unstable_ImmediatePriority,Et=n.unstable_UserBlockingPriority,zt=n.unstable_NormalPriority,Vs=n.unstable_LowPriority,Ps=n.unstable_IdlePriority,fi=n.log,un=n.unstable_setDisableYieldValue,En=null,Dt=null;function di(e){if(typeof fi=="function"&&un(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(En,e)}catch{}}var Yt=Math.clz32?Math.clz32:z_,L_=Math.log,B_=Math.LN2;function z_(e){return e>>>=0,e===0?32:31-(L_(e)/B_|0)|0}var yo=256,vo=262144,bo=4194304;function Yi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wo(e,i,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=o&134217727;return _!==0?(o=_&~d,o!==0?h=Yi(o):(y&=_,y!==0?h=Yi(y):r||(r=_&~e,r!==0&&(h=Yi(r))))):(_=o&~d,_!==0?h=Yi(_):y!==0?h=Yi(y):r||(r=o&~e,r!==0&&(h=Yi(r)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,r=i&-i,d>=r||d===32&&(r&4194048)!==0)?i:h}function Hs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function V_(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $d(){var e=bo;return bo<<=1,(bo&62914560)===0&&(bo=4194304),e}function yu(e){for(var i=[],r=0;31>r;r++)i.push(e);return i}function $s(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function P_(e,i,r,o,h,d){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(r=y&~r;0<r;){var F=31-Yt(r),W=1<<F;_[F]=0,N[F]=-1;var H=z[F];if(H!==null)for(z[F]=null,F=0;F<H.length;F++){var $=H[F];$!==null&&($.lane&=-536870913)}r&=~W}o!==0&&Id(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Id(e,i,r){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Yt(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function qd(e,i){var r=e.entangledLanes|=i;for(e=e.entanglements;r;){var o=31-Yt(r),h=1<<o;h&i|e[o]&i&&(e[o]|=i),r&=~h}}function Gd(e,i){var r=i&-i;return r=(r&42)!==0?1:vu(r),(r&(e.suspendedLanes|i))!==0?0:r}function vu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kd(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Ny(e.type))}function Yd(e,i){var r=L.p;try{return L.p=e,i()}finally{L.p=r}}var mi=Math.random().toString(36).slice(2),Tt="__reactFiber$"+mi,Vt="__reactProps$"+mi,Aa="__reactContainer$"+mi,wu="__reactEvents$"+mi,H_="__reactListeners$"+mi,$_="__reactHandles$"+mi,Fd="__reactResources$"+mi,Is="__reactMarker$"+mi;function _u(e){delete e[Tt],delete e[Vt],delete e[wu],delete e[H_],delete e[$_]}function Ca(e){var i=e[Tt];if(i)return i;for(var r=e.parentNode;r;){if(i=r[Aa]||r[Tt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(e=py(e);e!==null;){if(r=e[Tt])return r;e=py(e)}return i}e=r,r=e.parentNode}return null}function Ra(e){if(e=e[Tt]||e[Aa]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function qs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Oa(e){var i=e[Fd];return i||(i=e[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(e){e[Is]=!0}var Xd=new Set,Jd={};function Fi(e,i){ja(e,i),ja(e+"Capture",i)}function ja(e,i){for(Jd[e]=i,e=0;e<i.length;e++)Xd.add(i[e])}var I_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wd={},Qd={};function q_(e){return He.call(Qd,e)?!0:He.call(Wd,e)?!1:I_.test(e)?Qd[e]=!0:(Wd[e]=!0,!1)}function _o(e,i,r){if(q_(i))if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+r)}}function So(e,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+r)}}function Pn(e,i,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(i,r,""+o)}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function G_(e,i,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Su(e){if(!e._valueTracker){var i=Zd(e)?"checked":"value";e._valueTracker=G_(e,i,""+e[i])}}function em(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return e&&(o=Zd(e)?e.checked?"true":"false":e.value),e=o,e!==r?(i.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var K_=/[\n"\\]/g;function hn(e){return e.replace(K_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Eu(e,i,r,o,h,d,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Tu(e,y,cn(i)):r!=null?Tu(e,y,cn(r)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+cn(_):e.removeAttribute("name")}function tm(e,i,r,o,h,d,y,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Su(e);return}r=r!=null?""+cn(r):"",i=i!=null?""+cn(i):r,_||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=_?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Su(e)}function Tu(e,i,r){i==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Na(e,i,r,o){if(e=e.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=i.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+cn(r),i=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function nm(e,i,r){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),r==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=r!=null?""+cn(r):""}function im(e,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(s(92));if(Le(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=cn(i),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Su(e)}function Da(e,i){if(i){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=i;return}}e.textContent=i}var Y_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function am(e,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,r):typeof r!="number"||r===0||Y_.has(i)?i==="float"?e.cssFloat=r:e[i]=(""+r).trim():e[i]=r+"px"}function sm(e,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&r[h]!==o&&am(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&am(e,d,i[d])}function xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(e){return X_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Au=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,Ma=null;function rm(e){var i=Ra(e);if(i&&(e=i.stateNode)){var r=e[Vt]||null;e:switch(e=i.stateNode,i.type){case"input":if(Eu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==e&&o.form===e.form){var h=o[Vt]||null;if(!h)throw Error(s(90));Eu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===e.form&&em(o)}break e;case"textarea":nm(e,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Na(e,!!r.multiple,i,!1)}}}var Ru=!1;function om(e,i,r){if(Ru)return e(i,r);Ru=!0;try{var o=e(i);return o}finally{if(Ru=!1,(ka!==null||Ma!==null)&&(hl(),ka&&(i=ka,e=Ma,Ma=ka=null,rm(i),e)))for(i=0;i<e.length;i++)rm(e[i])}}function Gs(e,i){var r=e.stateNode;if(r===null)return null;var o=r[Vt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=!1;if($n)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Ou=!1}var pi=null,ju=null,xo=null;function lm(){if(xo)return xo;var e,i=ju,r=i.length,o,h="value"in pi?pi.value:pi.textContent,d=h.length;for(e=0;e<r&&i[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&i[r-o]===h[d-o];o++);return xo=h.slice(e,1<o?1-o:void 0)}function Ao(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function um(){return!1}function Pt(e){function i(r,o,h,d,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Co:um,this.isPropagationStopped=um,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Pt(Xi),Ys=v({},Xi,{view:0,detail:0}),J_=Pt(Ys),Nu,Du,Fs,Oo=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Nu=e.screenX-Fs.screenX,Du=e.screenY-Fs.screenY):Du=Nu=0,Fs=e),Nu)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),cm=Pt(Oo),W_=v({},Oo,{dataTransfer:0}),Q_=Pt(W_),Z_=v({},Ys,{relatedTarget:0}),ku=Pt(Z_),eS=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=Pt(eS),nS=v({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iS=Pt(nS),aS=v({},Xi,{data:0}),hm=Pt(aS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lS(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=oS[e])?!!i[e]:!1}function Mu(){return lS}var uS=v({},Ys,{key:function(e){if(e.key){var i=sS[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cS=Pt(uS),hS=v({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=Pt(hS),fS=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),dS=Pt(fS),mS=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=Pt(mS),gS=v({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yS=Pt(gS),vS=v({},Xi,{newState:0,oldState:0}),bS=Pt(vS),wS=[9,13,27,32],Uu=$n&&"CompositionEvent"in window,Xs=null;$n&&"documentMode"in document&&(Xs=document.documentMode);var _S=$n&&"TextEvent"in window&&!Xs,dm=$n&&(!Uu||Xs&&8<Xs&&11>=Xs),mm=" ",pm=!1;function gm(e,i){switch(e){case"keyup":return wS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function SS(e,i){switch(e){case"compositionend":return ym(i);case"keypress":return i.which!==32?null:(pm=!0,mm);case"textInput":return e=i.data,e===mm&&pm?null:e;default:return null}}function ES(e,i){if(Ua)return e==="compositionend"||!Uu&&gm(e,i)?(e=lm(),xo=ju=pi=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return dm&&i.locale!=="ko"?null:i.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!TS[e.type]:i==="textarea"}function bm(e,i,r,o){ka?Ma?Ma.push(o):Ma=[o]:ka=o,i=vl(i,"onChange"),0<i.length&&(r=new Ro("onChange","change",null,r,o),e.push({event:r,listeners:i}))}var Js=null,Ws=null;function xS(e){ty(e,0)}function jo(e){var i=qs(e);if(em(i))return e}function wm(e,i){if(e==="change")return i}var _m=!1;if($n){var Lu;if($n){var Bu="oninput"in document;if(!Bu){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Bu=typeof Sm.oninput=="function"}Lu=Bu}else Lu=!1;_m=Lu&&(!document.documentMode||9<document.documentMode)}function Em(){Js&&(Js.detachEvent("onpropertychange",Tm),Ws=Js=null)}function Tm(e){if(e.propertyName==="value"&&jo(Ws)){var i=[];bm(i,Ws,e,Cu(e)),om(xS,i)}}function AS(e,i,r){e==="focusin"?(Em(),Js=i,Ws=r,Js.attachEvent("onpropertychange",Tm)):e==="focusout"&&Em()}function CS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Ws)}function RS(e,i){if(e==="click")return jo(i)}function OS(e,i){if(e==="input"||e==="change")return jo(i)}function jS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ft=typeof Object.is=="function"?Object.is:jS;function Qs(e,i){if(Ft(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var r=Object.keys(e),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!He.call(i,h)||!Ft(e[h],i[h]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,i){var r=xm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=i&&o>=i)return{node:r,offset:i-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xm(r)}}function Cm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Cm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Rm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Eo(e.document);i instanceof e.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)e=i.contentWindow;else break;i=Eo(e.document)}return i}function zu(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var NS=$n&&"documentMode"in document&&11>=document.documentMode,La=null,Vu=null,Zs=null,Pu=!1;function Om(e,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pu||La==null||La!==Eo(o)||(o=La,"selectionStart"in o&&zu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zs&&Qs(Zs,o)||(Zs=o,o=vl(Vu,"onSelect"),0<o.length&&(i=new Ro("onSelect","select",null,i,r),e.push({event:i,listeners:o}),i.target=La)))}function Ji(e,i){var r={};return r[e.toLowerCase()]=i.toLowerCase(),r["Webkit"+e]="webkit"+i,r["Moz"+e]="moz"+i,r}var Ba={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Hu={},jm={};$n&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Wi(e){if(Hu[e])return Hu[e];if(!Ba[e])return e;var i=Ba[e],r;for(r in i)if(i.hasOwnProperty(r)&&r in jm)return Hu[e]=i[r];return e}var Nm=Wi("animationend"),Dm=Wi("animationiteration"),km=Wi("animationstart"),DS=Wi("transitionrun"),kS=Wi("transitionstart"),MS=Wi("transitioncancel"),Mm=Wi("transitionend"),Um=new Map,$u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$u.push("scrollEnd");function Tn(e,i){Um.set(e,i),Fi(i,[e])}var No=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],za=0,Iu=0;function Do(){for(var e=za,i=Iu=za=0;i<e;){var r=fn[i];fn[i++]=null;var o=fn[i];fn[i++]=null;var h=fn[i];fn[i++]=null;var d=fn[i];if(fn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&Lm(r,h,d)}}function ko(e,i,r,o){fn[za++]=e,fn[za++]=i,fn[za++]=r,fn[za++]=o,Iu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qu(e,i,r,o){return ko(e,i,r,o),Mo(e)}function Qi(e,i){return ko(e,null,null,i),Mo(e)}function Lm(e,i,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Yt(r),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=r|536870912),d):null}function Mo(e){if(50<_r)throw _r=0,Zc=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Va={};function US(e,i,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,i,r,o){return new US(e,i,r,o)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,i){var r=e.alternate;return r===null?(r=Xt(e.tag,i,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=i,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,i=e.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bm(e,i){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,i=r.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uo(e,i,r,o,h,d){var y=0;if(o=e,typeof e=="function")Gu(e)&&(y=1);else if(typeof e=="string")y=PE(e,r,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k:return e=Xt(31,r,i,h),e.elementType=k,e.lanes=d,e;case T:return Zi(r.children,h,d,i);case O:y=8,h|=24;break;case j:return e=Xt(12,r,i,h|2),e.elementType=j,e.lanes=d,e;case q:return e=Xt(13,r,i,h),e.elementType=q,e.lanes=d,e;case X:return e=Xt(19,r,i,h),e.elementType=X,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:y=10;break e;case D:y=9;break e;case P:y=11;break e;case G:y=14;break e;case C:y=16,o=null;break e}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Xt(y,r,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Zi(e,i,r,o){return e=Xt(7,e,o,i),e.lanes=r,e}function Ku(e,i,r){return e=Xt(6,e,null,i),e.lanes=r,e}function zm(e){var i=Xt(18,null,null,0);return i.stateNode=e,i}function Yu(e,i,r){return i=Xt(4,e.children!==null?e.children:[],e.key,i),i.lanes=r,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Vm=new WeakMap;function dn(e,i){if(typeof e=="object"&&e!==null){var r=Vm.get(e);return r!==void 0?r:(i={value:e,source:i,stack:Oe(i)},Vm.set(e,i),i)}return{value:e,source:i,stack:Oe(i)}}var Pa=[],Ha=0,Lo=null,er=0,mn=[],pn=0,gi=null,Mn=1,Un="";function qn(e,i){Pa[Ha++]=er,Pa[Ha++]=Lo,Lo=e,er=i}function Pm(e,i,r){mn[pn++]=Mn,mn[pn++]=Un,mn[pn++]=gi,gi=e;var o=Mn;e=Un;var h=32-Yt(o)-1;o&=~(1<<h),r+=1;var d=32-Yt(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Mn=1<<32-Yt(i)+h|r<<h|o,Un=d+e}else Mn=1<<d|r<<h|o,Un=e}function Fu(e){e.return!==null&&(qn(e,1),Pm(e,1,0))}function Xu(e){for(;e===Lo;)Lo=Pa[--Ha],Pa[Ha]=null,er=Pa[--Ha],Pa[Ha]=null;for(;e===gi;)gi=mn[--pn],mn[pn]=null,Un=mn[--pn],mn[pn]=null,Mn=mn[--pn],mn[pn]=null}function Hm(e,i){mn[pn++]=Mn,mn[pn++]=Un,mn[pn++]=gi,Mn=i.id,Un=i.overflow,gi=e}var xt=null,Ye=null,Ce=!1,yi=null,gn=!1,Ju=Error(s(519));function vi(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tr(dn(i,e)),Ju}function $m(e){var i=e.stateNode,r=e.type,o=e.memoizedProps;switch(i[Tt]=e,i[Vt]=o,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<Er.length;r++)Te(Er[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),tm(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),im(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||sy(i.textContent,r)?(o.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),o.onScroll!=null&&Te("scroll",i),o.onScrollEnd!=null&&Te("scrollend",i),o.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||vi(e,!0)}function Im(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:xt=xt.return}}function $a(e){if(e!==xt)return!1;if(!Ce)return Im(e),Ce=!0,!1;var i=e.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||mh(e.type,e.memoizedProps)),r=!r),r&&Ye&&vi(e),Im(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ye=my(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ye=my(e)}else i===27?(i=Ye,Di(e.type)?(e=bh,bh=null,Ye=e):Ye=i):Ye=xt?vn(e.stateNode.nextSibling):null;return!0}function ea(){Ye=xt=null,Ce=!1}function Wu(){var e=yi;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),yi=null),e}function tr(e){yi===null?yi=[e]:yi.push(e)}var Qu=R(null),ta=null,Gn=null;function bi(e,i,r){Y(Qu,i._currentValue),i._currentValue=r}function Kn(e){e._currentValue=Qu.current,V(Qu)}function Zu(e,i,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===r)break;e=e.return}}function ec(e,i,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=h;for(var N=0;N<i.length;N++)if(_.context===i[N]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Zu(d.return,r,e),o||(y=null);break e}d=_.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),Zu(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ia(e,i,r,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var _=h.type;Ft(h.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(h===ve.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rr):e=[Rr])}h=h.return}e!==null&&ec(i,e,r,o),i.flags|=262144}function Bo(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return qm(ta,e)}function zo(e,i){return ta===null&&na(e),qm(e,i)}function qm(e,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Gn===null){if(e===null)throw Error(s(308));Gn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gn=Gn.next=i;return r}var LS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(r){return r()})}},BS=n.unstable_scheduleCallback,zS=n.unstable_NormalPriority,ct={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new LS,data:new Map,refCount:0}}function nr(e){e.refCount--,e.refCount===0&&BS(zS,function(){e.controller.abort()})}var ir=null,nc=0,qa=0,Ga=null;function VS(e,i){if(ir===null){var r=ir=[];nc=0,qa=sh(),Ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return nc++,i.then(Gm,Gm),i}function Gm(){if(--nc===0&&ir!==null){Ga!==null&&(Ga.status="fulfilled");var e=ir;ir=null,qa=0,Ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function PS(e,i){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Km=I.S;I.S=function(e,i){Og=Ue(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(e,i),Km!==null&&Km(e,i)};var ia=R(null);function ic(){var e=ia.current;return e!==null?e:Ge.pooledCache}function Vo(e,i){i===null?Y(ia,ia.current):Y(ia,i.pool)}function Ym(){var e=ic();return e===null?null:{parent:ct._currentValue,pool:e}}var Ka=Error(s(460)),ac=Error(s(474)),Po=Error(s(542)),Ho={then:function(){}};function Fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xm(e,i,r){switch(r=e[r],r===void 0?e.push(i):r!==i&&(i.then(Hn,Hn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wm(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wm(e),e}throw sa=i,Ka}}function aa(e){try{var i=e._init;return i(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(sa=r,Ka):r}}var sa=null;function Jm(){if(sa===null)throw Error(s(459));var e=sa;return sa=null,e}function Wm(e){if(e===Ka||e===Po)throw Error(s(483))}var Ya=null,ar=0;function $o(e){var i=ar;return ar+=1,Ya===null&&(Ya=[]),Xm(Ya,e,i)}function sr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Io(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Qm(e){function i(U,M){if(e){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function r(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=In(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function _(U,M,B,J){return M===null||M.tag!==6?(M=Ku(B,U.mode,J),M.return=U,M):(M=h(M,B),M.return=U,M)}function N(U,M,B,J){var ue=B.type;return ue===T?F(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===C&&aa(ue)===M.type)?(M=h(M,B.props),sr(M,B),M.return=U,M):(M=Uo(B.type,B.key,B.props,null,U.mode,J),sr(M,B),M.return=U,M)}function z(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Yu(B,U.mode,J),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function F(U,M,B,J,ue){return M===null||M.tag!==7?(M=Zi(B,U.mode,J,ue),M.return=U,M):(M=h(M,B),M.return=U,M)}function W(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ku(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return B=Uo(M.type,M.key,M.props,null,U.mode,B),sr(B,M),B.return=U,B;case E:return M=Yu(M,U.mode,B),M.return=U,M;case C:return M=aa(M),W(U,M,B)}if(Le(M)||ee(M))return M=Zi(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return W(U,$o(M),B);if(M.$$typeof===A)return W(U,zo(U,M),B);Io(U,M)}return null}function H(U,M,B,J){var ue=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:_(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ue?N(U,M,B,J):null;case E:return B.key===ue?z(U,M,B,J):null;case C:return B=aa(B),H(U,M,B,J)}if(Le(B)||ee(B))return ue!==null?null:F(U,M,B,J,null);if(typeof B.then=="function")return H(U,M,$o(B),J);if(B.$$typeof===A)return H(U,M,zo(U,B),J);Io(U,B)}return null}function $(U,M,B,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,_(M,U,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?B:J.key)||null,N(M,U,J,ue);case E:return U=U.get(J.key===null?B:J.key)||null,z(M,U,J,ue);case C:return J=aa(J),$(U,M,B,J,ue)}if(Le(J)||ee(J))return U=U.get(B)||null,F(M,U,J,ue,null);if(typeof J.then=="function")return $(U,M,B,$o(J),ue);if(J.$$typeof===A)return $(U,M,B,zo(M,J),ue);Io(M,J)}return null}function ie(U,M,B,J){for(var ue=null,De=null,re=M,Se=M=0,Ae=null;re!==null&&Se<B.length;Se++){re.index>Se?(Ae=re,re=null):Ae=re.sibling;var ke=H(U,re,B[Se],J);if(ke===null){re===null&&(re=Ae);break}e&&re&&ke.alternate===null&&i(U,re),M=d(ke,M,Se),De===null?ue=ke:De.sibling=ke,De=ke,re=Ae}if(Se===B.length)return r(U,re),Ce&&qn(U,Se),ue;if(re===null){for(;Se<B.length;Se++)re=W(U,B[Se],J),re!==null&&(M=d(re,M,Se),De===null?ue=re:De.sibling=re,De=re);return Ce&&qn(U,Se),ue}for(re=o(re);Se<B.length;Se++)Ae=$(re,U,Se,B[Se],J),Ae!==null&&(e&&Ae.alternate!==null&&re.delete(Ae.key===null?Se:Ae.key),M=d(Ae,M,Se),De===null?ue=Ae:De.sibling=Ae,De=Ae);return e&&re.forEach(function(Bi){return i(U,Bi)}),Ce&&qn(U,Se),ue}function fe(U,M,B,J){if(B==null)throw Error(s(151));for(var ue=null,De=null,re=M,Se=M=0,Ae=null,ke=B.next();re!==null&&!ke.done;Se++,ke=B.next()){re.index>Se?(Ae=re,re=null):Ae=re.sibling;var Bi=H(U,re,ke.value,J);if(Bi===null){re===null&&(re=Ae);break}e&&re&&Bi.alternate===null&&i(U,re),M=d(Bi,M,Se),De===null?ue=Bi:De.sibling=Bi,De=Bi,re=Ae}if(ke.done)return r(U,re),Ce&&qn(U,Se),ue;if(re===null){for(;!ke.done;Se++,ke=B.next())ke=W(U,ke.value,J),ke!==null&&(M=d(ke,M,Se),De===null?ue=ke:De.sibling=ke,De=ke);return Ce&&qn(U,Se),ue}for(re=o(re);!ke.done;Se++,ke=B.next())ke=$(re,U,Se,ke.value,J),ke!==null&&(e&&ke.alternate!==null&&re.delete(ke.key===null?Se:ke.key),M=d(ke,M,Se),De===null?ue=ke:De.sibling=ke,De=ke);return e&&re.forEach(function(WE){return i(U,WE)}),Ce&&qn(U,Se),ue}function qe(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var ue=B.key;M!==null;){if(M.key===ue){if(ue=B.type,ue===T){if(M.tag===7){r(U,M.sibling),J=h(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===C&&aa(ue)===M.type){r(U,M.sibling),J=h(M,B.props),sr(J,B),J.return=U,U=J;break e}r(U,M);break}else i(U,M);M=M.sibling}B.type===T?(J=Zi(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Uo(B.type,B.key,B.props,null,U.mode,J),sr(J,B),J.return=U,U=J)}return y(U);case E:e:{for(ue=B.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(U,M.sibling),J=h(M,B.children||[]),J.return=U,U=J;break e}else{r(U,M);break}else i(U,M);M=M.sibling}J=Yu(B,U.mode,J),J.return=U,U=J}return y(U);case C:return B=aa(B),qe(U,M,B,J)}if(Le(B))return ie(U,M,B,J);if(ee(B)){if(ue=ee(B),typeof ue!="function")throw Error(s(150));return B=ue.call(B),fe(U,M,B,J)}if(typeof B.then=="function")return qe(U,M,$o(B),J);if(B.$$typeof===A)return qe(U,M,zo(U,B),J);Io(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(U,M.sibling),J=h(M,B),J.return=U,U=J):(r(U,M),J=Ku(B,U.mode,J),J.return=U,U=J),y(U)):r(U,M)}return function(U,M,B,J){try{ar=0;var ue=qe(U,M,B,J);return Ya=null,ue}catch(re){if(re===Ka||re===Po)throw re;var De=Xt(29,re,null,U.mode);return De.lanes=J,De.return=U,De}}}var ra=Qm(!0),Zm=Qm(!1),wi=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Si(e,i,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Me&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Mo(e),Lm(e,null,r),i}return ko(e,o,i,r),Mo(e)}function rr(e,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,qd(e,r)}}function oc(e,i){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?h=d=i:d=d.next=i}else h=d=i;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=i:e.next=i,r.lastBaseUpdate=i}var lc=!1;function or(){if(lc){var e=Ga;if(e!==null)throw e}}function lr(e,i,r,o){lc=!1;var h=e.updateQueue;wi=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var N=_,z=N.next;N.next=null,y===null?d=z:y.next=z,y=N;var F=e.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==y&&(_===null?F.firstBaseUpdate=z:_.next=z,F.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;y=0,F=z=N=null,_=d;do{var H=_.lane&-536870913,$=H!==_.lane;if($?(xe&H)===H:(o&H)===H){H!==0&&H===qa&&(lc=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,fe=_;H=i;var qe=r;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){W=ie.call(qe,W,H);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,H=typeof ie=="function"?ie.call(qe,W,H):ie,H==null)break e;W=v({},W,H);break e;case 2:wi=!0}}H=_.callback,H!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(z=F=$,N=W):F=F.next=$,y|=H;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;$=_,_=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);F===null&&(N=W),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Ci|=y,e.lanes=y,e.memoizedState=W}}function ep(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function tp(e,i){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ep(r[e],i)}var Fa=R(null),qo=R(0);function np(e,i){e=ti,Y(qo,e),Y(Fa,i),ti=e|i.baseLanes}function uc(){Y(qo,ti),Y(Fa,Fa.current)}function cc(){ti=qo.current,V(Fa),V(qo)}var Jt=R(null),yn=null;function Ei(e){var i=e.alternate;Y(lt,lt.current&1),Y(Jt,e),yn===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(yn=e)}function hc(e){Y(lt,lt.current),Y(Jt,e),yn===null&&(yn=e)}function ip(e){e.tag===22?(Y(lt,lt.current),Y(Jt,e),yn===null&&(yn=e)):Ti()}function Ti(){Y(lt,lt.current),Y(Jt,Jt.current)}function Wt(e){V(Jt),yn===e&&(yn=null),V(lt)}var lt=R(0);function Go(e){for(var i=e;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yh(r)||vh(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yn=0,we=null,$e=null,ht=null,Ko=!1,Xa=!1,oa=!1,Yo=0,ur=0,Ja=null,HS=0;function nt(){throw Error(s(321))}function fc(e,i){if(i===null)return!1;for(var r=0;r<i.length&&r<e.length;r++)if(!Ft(e[r],i[r]))return!1;return!0}function dc(e,i,r,o,h,d){return Yn=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=e===null||e.memoizedState===null?Pp:Rc,oa=!1,d=r(o,h),oa=!1,Xa&&(d=sp(i,r,o,h)),ap(e),d}function ap(e){I.H=fr;var i=$e!==null&&$e.next!==null;if(Yn=0,ht=$e=we=null,Ko=!1,ur=0,Ja=null,i)throw Error(s(300));e===null||ft||(e=e.dependencies,e!==null&&Bo(e)&&(ft=!0))}function sp(e,i,r,o){we=e;var h=0;do{if(Xa&&(Ja=null),ur=0,Xa=!1,25<=h)throw Error(s(301));if(h+=1,ht=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=Hp,d=i(r,o)}while(Xa);return d}function $S(){var e=I.H,i=e.useState()[0];return i=typeof i.then=="function"?cr(i):i,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(we.flags|=1024),i}function mc(){var e=Yo!==0;return Yo=0,e}function pc(e,i,r){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~r}function gc(e){if(Ko){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ko=!1}Yn=0,ht=$e=we=null,Xa=!1,ur=Yo=0,Ja=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=e:ht=ht.next=e,ht}function ut(){if($e===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var i=ht===null?we.memoizedState:ht.next;if(i!==null)ht=i,$e=e;else{if(e===null)throw we.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ht===null?we.memoizedState=ht=e:ht=ht.next=e}return ht}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var i=ur;return ur+=1,Ja===null&&(Ja=[]),e=Xm(Ja,e,i),i=we,(ht===null?i.memoizedState:ht.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?Pp:Rc),e}function Xo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===A)return At(e)}throw Error(s(438,String(e)))}function yc(e){var i=null,r=we.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Fo(),we.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(e),o=0;o<e;o++)r[o]=K;return i.index++,r}function Fn(e,i){return typeof i=="function"?i(e):i}function Jo(e){var i=ut();return vc(i,$e,e)}function vc(e,i,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var _=y=null,N=null,z=i,F=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(xe&W)===W:(Yn&W)===W){var H=z.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===qa&&(F=!0);else if((Yn&H)===H){z=z.next,H===qa&&(F=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(_=N=W,y=d):N=N.next=W,we.lanes|=H,Ci|=H;W=z.action,oa&&r(d,W),d=z.hasEagerState?z.eagerState:r(d,W)}else H={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(_=N=H,y=d):N=N.next=H,we.lanes|=W,Ci|=W;z=z.next}while(z!==null&&z!==i);if(N===null?y=d:N.next=_,!Ft(d,e.memoizedState)&&(ft=!0,F&&(r=Ga,r!==null)))throw r;e.memoizedState=d,e.baseState=y,e.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bc(e){var i=ut(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,d=i.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Ft(d,i.memoizedState)||(ft=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),r.lastRenderedState=d}return[d,o]}function rp(e,i,r){var o=we,h=ut(),d=Ce;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=i();var y=!Ft(($e||h).memoizedState,r);if(y&&(h.memoizedState=r,ft=!0),h=h.queue,Sc(up.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||ht!==null&&ht.memoizedState.tag&1){if(o.flags|=2048,Wa(9,{destroy:void 0},lp.bind(null,o,h,r,i),null),Ge===null)throw Error(s(349));d||(Yn&127)!==0||op(o,i,r)}return r}function op(e,i,r){e.flags|=16384,e={getSnapshot:i,value:r},i=we.updateQueue,i===null?(i=Fo(),we.updateQueue=i,i.stores=[e]):(r=i.stores,r===null?i.stores=[e]:r.push(e))}function lp(e,i,r,o){i.value=r,i.getSnapshot=o,cp(i)&&hp(e)}function up(e,i,r){return r(function(){cp(i)&&hp(e)})}function cp(e){var i=e.getSnapshot;e=e.value;try{var r=i();return!Ft(e,r)}catch{return!0}}function hp(e){var i=Qi(e,2);i!==null&&Gt(i,e,2)}function wc(e){var i=Lt();if(typeof e=="function"){var r=e;if(e=r(),oa){di(!0);try{r()}finally{di(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},i}function fp(e,i,r,o){return e.baseState=r,vc(e,$e,typeof o=="function"?o:Fn)}function IS(e,i,r,o,h){if(Zo(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};I.T!==null?r(!0):d.isTransition=!1,o(d),r=i.pending,r===null?(d.next=i.pending=d,dp(i,d)):(d.next=r.next,i.pending=r.next=d)}}function dp(e,i){var r=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=I.T,y={};I.T=y;try{var _=r(h,o),N=I.S;N!==null&&N(y,_),mp(e,i,_)}catch(z){_c(e,i,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),I.T=d}}else try{d=r(h,o),mp(e,i,d)}catch(z){_c(e,i,z)}}function mp(e,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){pp(e,i,o)},function(o){return _c(e,i,o)}):pp(e,i,r)}function pp(e,i,r){i.status="fulfilled",i.value=r,gp(i),e.state=r,i=e.pending,i!==null&&(r=i.next,r===i?e.pending=null:(r=r.next,i.next=r,dp(e,r)))}function _c(e,i,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,gp(i),i=i.next;while(i!==o)}e.action=null}function gp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function yp(e,i){return i}function vp(e,i){if(Ce){var r=Ge.formState;if(r!==null){e:{var o=we;if(Ce){if(Ye){t:{for(var h=Ye,d=gn;h.nodeType!==8;){if(!d){h=null;break t}if(h=vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ye=vn(h.nextSibling),o=h.data==="F!";break e}}vi(o)}o=!1}o&&(i=r[0])}}return r=Lt(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:i},r.queue=o,r=Bp.bind(null,we,o),o.dispatch=r,o=wc(!1),d=Cc.bind(null,we,!1,o.queue),o=Lt(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,r=IS.bind(null,we,h,d,r),h.dispatch=r,o.memoizedState=e,[i,r,!1]}function bp(e){var i=ut();return wp(i,$e,e)}function wp(e,i,r){if(i=vc(e,i,yp)[0],e=Jo(Fn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cr(i)}catch(y){throw y===Ka?Po:y}else o=i;i=ut();var h=i.queue,d=h.dispatch;return r!==i.memoizedState&&(we.flags|=2048,Wa(9,{destroy:void 0},qS.bind(null,h,r),null)),[o,d,e]}function qS(e,i){e.action=i}function _p(e){var i=ut(),r=$e;if(r!==null)return wp(i,r,e);ut(),i=i.memoizedState,r=ut();var o=r.queue.dispatch;return r.memoizedState=e,[i,o,!1]}function Wa(e,i,r,o){return e={tag:e,create:r,deps:o,inst:i,next:null},i=we.updateQueue,i===null&&(i=Fo(),we.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,i.lastEffect=e),e}function Sp(){return ut().memoizedState}function Wo(e,i,r,o){var h=Lt();we.flags|=e,h.memoizedState=Wa(1|i,{destroy:void 0},r,o===void 0?null:o)}function Qo(e,i,r,o){var h=ut();o=o===void 0?null:o;var d=h.memoizedState.inst;$e!==null&&o!==null&&fc(o,$e.memoizedState.deps)?h.memoizedState=Wa(i,d,r,o):(we.flags|=e,h.memoizedState=Wa(1|i,d,r,o))}function Ep(e,i){Wo(8390656,8,e,i)}function Sc(e,i){Qo(2048,8,e,i)}function GS(e){we.flags|=4;var i=we.updateQueue;if(i===null)i=Fo(),we.updateQueue=i,i.events=[e];else{var r=i.events;r===null?i.events=[e]:r.push(e)}}function Tp(e){var i=ut().memoizedState;return GS({ref:i,nextImpl:e}),function(){if((Me&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function xp(e,i){return Qo(4,2,e,i)}function Ap(e,i){return Qo(4,4,e,i)}function Cp(e,i){if(typeof i=="function"){e=e();var r=i(e);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Rp(e,i,r){r=r!=null?r.concat([e]):null,Qo(4,4,Cp.bind(null,i,e),r)}function Ec(){}function Op(e,i){var r=ut();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&fc(i,o[1])?o[0]:(r.memoizedState=[e,i],e)}function jp(e,i){var r=ut();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&fc(i,o[1]))return o[0];if(o=e(),oa){di(!0);try{e()}finally{di(!1)}}return r.memoizedState=[o,i],o}function Tc(e,i,r){return r===void 0||(Yn&1073741824)!==0&&(xe&261930)===0?e.memoizedState=i:(e.memoizedState=r,e=Ng(),we.lanes|=e,Ci|=e,r)}function Np(e,i,r,o){return Ft(r,i)?r:Fa.current!==null?(e=Tc(e,r,o),Ft(e,i)||(ft=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(xe&261930)===0?(ft=!0,e.memoizedState=r):(e=Ng(),we.lanes|=e,Ci|=e,i)}function Dp(e,i,r,o,h){var d=L.p;L.p=d!==0&&8>d?d:8;var y=I.T,_={};I.T=_,Cc(e,!1,i,r);try{var N=h(),z=I.S;if(z!==null&&z(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=PS(N,o);hr(e,i,F,en(e))}else hr(e,i,o,en(e))}catch(W){hr(e,i,{then:function(){},status:"rejected",reason:W},en())}finally{L.p=d,y!==null&&_.types!==null&&(y.types=_.types),I.T=y}}function KS(){}function xc(e,i,r,o){if(e.tag!==5)throw Error(s(476));var h=kp(e).queue;Dp(e,h,i,Q,r===null?KS:function(){return Mp(e),r(o)})}function kp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:Q},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:r},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Mp(e){var i=kp(e);i.next===null&&(i=e.alternate.memoizedState),hr(e,i.next.queue,{},en())}function Ac(){return At(Rr)}function Up(){return ut().memoizedState}function Lp(){return ut().memoizedState}function YS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var r=en();e=_i(r);var o=Si(i,e,r);o!==null&&(Gt(o,i,r),rr(o,i,r)),i={cache:tc()},e.payload=i;return}i=i.return}}function FS(e,i,r){var o=en();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(e)?zp(i,r):(r=qu(e,i,r,o),r!==null&&(Gt(r,e,o),Vp(r,i,o)))}function Bp(e,i,r){var o=en();hr(e,i,r,o)}function hr(e,i,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))zp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,_=d(y,r);if(h.hasEagerState=!0,h.eagerState=_,Ft(_,y))return ko(e,i,h,0),Ge===null&&Do(),!1}catch{}if(r=qu(e,i,h,o),r!==null)return Gt(r,e,o),Vp(r,i,o),!0}return!1}function Cc(e,i,r,o){if(o={lane:2,revertLane:sh(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zo(e)){if(i)throw Error(s(479))}else i=qu(e,r,o,2),i!==null&&Gt(i,e,2)}function Zo(e){var i=e.alternate;return e===we||i!==null&&i===we}function zp(e,i){Xa=Ko=!0;var r=e.pending;r===null?i.next=i:(i.next=r.next,r.next=i),e.pending=i}function Vp(e,i,r){if((r&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,qd(e,r)}}var fr={readContext:At,use:Xo,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};fr.useEffectEvent=nt;var Pp={readContext:At,use:Xo,useCallback:function(e,i){return Lt().memoizedState=[e,i===void 0?null:i],e},useContext:At,useEffect:Ep,useImperativeHandle:function(e,i,r){r=r!=null?r.concat([e]):null,Wo(4194308,4,Cp.bind(null,i,e),r)},useLayoutEffect:function(e,i){return Wo(4194308,4,e,i)},useInsertionEffect:function(e,i){Wo(4,2,e,i)},useMemo:function(e,i){var r=Lt();i=i===void 0?null:i;var o=e();if(oa){di(!0);try{e()}finally{di(!1)}}return r.memoizedState=[o,i],o},useReducer:function(e,i,r){var o=Lt();if(r!==void 0){var h=r(i);if(oa){di(!0);try{r(i)}finally{di(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=FS.bind(null,we,e),[o.memoizedState,e]},useRef:function(e){var i=Lt();return e={current:e},i.memoizedState=e},useState:function(e){e=wc(e);var i=e.queue,r=Bp.bind(null,we,i);return i.dispatch=r,[e.memoizedState,r]},useDebugValue:Ec,useDeferredValue:function(e,i){var r=Lt();return Tc(r,e,i)},useTransition:function(){var e=wc(!1);return e=Dp.bind(null,we,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,r){var o=we,h=Lt();if(Ce){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Ge===null)throw Error(s(349));(xe&127)!==0||op(o,i,r)}h.memoizedState=r;var d={value:r,getSnapshot:i};return h.queue=d,Ep(up.bind(null,o,d,e),[e]),o.flags|=2048,Wa(9,{destroy:void 0},lp.bind(null,o,d,r,i),null),r},useId:function(){var e=Lt(),i=Ge.identifierPrefix;if(Ce){var r=Un,o=Mn;r=(o&~(1<<32-Yt(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Yo++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=HS++,i="_"+i+"r_"+r.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ac,useFormState:vp,useActionState:vp,useOptimistic:function(e){var i=Lt();i.memoizedState=i.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Cc.bind(null,we,!0,r),r.dispatch=i,[e,i]},useMemoCache:yc,useCacheRefresh:function(){return Lt().memoizedState=YS.bind(null,we)},useEffectEvent:function(e){var i=Lt(),r={impl:e};return i.memoizedState=r,function(){if((Me&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Rc={readContext:At,use:Xo,useCallback:Op,useContext:At,useEffect:Sc,useImperativeHandle:Rp,useInsertionEffect:xp,useLayoutEffect:Ap,useMemo:jp,useReducer:Jo,useRef:Sp,useState:function(){return Jo(Fn)},useDebugValue:Ec,useDeferredValue:function(e,i){var r=ut();return Np(r,$e.memoizedState,e,i)},useTransition:function(){var e=Jo(Fn)[0],i=ut().memoizedState;return[typeof e=="boolean"?e:cr(e),i]},useSyncExternalStore:rp,useId:Up,useHostTransitionStatus:Ac,useFormState:bp,useActionState:bp,useOptimistic:function(e,i){var r=ut();return fp(r,$e,e,i)},useMemoCache:yc,useCacheRefresh:Lp};Rc.useEffectEvent=Tp;var Hp={readContext:At,use:Xo,useCallback:Op,useContext:At,useEffect:Sc,useImperativeHandle:Rp,useInsertionEffect:xp,useLayoutEffect:Ap,useMemo:jp,useReducer:bc,useRef:Sp,useState:function(){return bc(Fn)},useDebugValue:Ec,useDeferredValue:function(e,i){var r=ut();return $e===null?Tc(r,e,i):Np(r,$e.memoizedState,e,i)},useTransition:function(){var e=bc(Fn)[0],i=ut().memoizedState;return[typeof e=="boolean"?e:cr(e),i]},useSyncExternalStore:rp,useId:Up,useHostTransitionStatus:Ac,useFormState:_p,useActionState:_p,useOptimistic:function(e,i){var r=ut();return $e!==null?fp(r,$e,e,i):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:yc,useCacheRefresh:Lp};Hp.useEffectEvent=Tp;function Oc(e,i,r,o){i=e.memoizedState,r=r(o,i),r=r==null?i:v({},i,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jc={enqueueSetState:function(e,i,r){e=e._reactInternals;var o=en(),h=_i(o);h.payload=i,r!=null&&(h.callback=r),i=Si(e,h,o),i!==null&&(Gt(i,e,o),rr(i,e,o))},enqueueReplaceState:function(e,i,r){e=e._reactInternals;var o=en(),h=_i(o);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Si(e,h,o),i!==null&&(Gt(i,e,o),rr(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var r=en(),o=_i(r);o.tag=2,i!=null&&(o.callback=i),i=Si(e,o,r),i!==null&&(Gt(i,e,r),rr(i,e,r))}};function $p(e,i,r,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!Qs(r,o)||!Qs(h,d):!0}function Ip(e,i,r,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==e&&jc.enqueueReplaceState(i,i.state,null)}function la(e,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(e=e.defaultProps){r===i&&(r=v({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function qp(e){No(e)}function Gp(e){console.error(e)}function Kp(e){No(e)}function el(e,i){try{var r=e.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(e,i,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nc(e,i,r){return r=_i(r),r.tag=3,r.payload={element:null},r.callback=function(){el(e,i)},r}function Fp(e){return e=_i(e),e.tag=3,e}function Xp(e,i,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Yp(i,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Yp(i,r,o),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function XS(e,i,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&Ia(i,r,h,!0),r=Jt.current,r!==null){switch(r.tag){case 31:case 13:return yn===null?fl():r.alternate===null&&it===0&&(it=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ho?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),nh(e,o,h)),!1;case 22:return r.flags|=65536,o===Ho?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),nh(e,o,h)),!1}throw Error(s(435,r.tag))}return nh(e,o,h),fl(),!1}if(Ce)return i=Jt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Ju&&(e=Error(s(422),{cause:o}),tr(dn(e,r)))):(o!==Ju&&(i=Error(s(423),{cause:o}),tr(dn(i,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=dn(o,r),h=Nc(e.stateNode,o,h),oc(e,h),it!==4&&(it=2)),!1;var d=Error(s(520),{cause:o});if(d=dn(d,r),wr===null?wr=[d]:wr.push(d),it!==4&&(it=2),i===null)return!0;o=dn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Nc(r.stateNode,o,e),oc(r,e),!1;case 1:if(i=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fp(h),Xp(h,e,r,o),oc(r,h),!1}r=r.return}while(r!==null);return!1}var Dc=Error(s(461)),ft=!1;function Ct(e,i,r,o){i.child=e===null?Zm(i,null,r,o):ra(i,e.child,r,o)}function Jp(e,i,r,o,h){r=r.render;var d=i.ref;if("ref"in o){var y={};for(var _ in o)_!=="ref"&&(y[_]=o[_])}else y=o;return na(i),o=dc(e,i,r,y,d,h),_=mc(),e!==null&&!ft?(pc(e,i,h),Xn(e,i,h)):(Ce&&_&&Fu(i),i.flags|=1,Ct(e,i,o,h),i.child)}function Wp(e,i,r,o,h){if(e===null){var d=r.type;return typeof d=="function"&&!Gu(d)&&d.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=d,Qp(e,i,d,o,h)):(e=Uo(r.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Pc(e,h)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,o)&&e.ref===i.ref)return Xn(e,i,h)}return i.flags|=1,e=In(d,o),e.ref=i.ref,e.return=i,i.child=e}function Qp(e,i,r,o,h){if(e!==null){var d=e.memoizedProps;if(Qs(d,o)&&e.ref===i.ref)if(ft=!1,i.pendingProps=o=d,Pc(e,h))(e.flags&131072)!==0&&(ft=!0);else return i.lanes=e.lanes,Xn(e,i,h)}return kc(e,i,r,o,h)}function Zp(e,i,r,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return eg(e,i,d,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vo(i,d!==null?d.cachePool:null),d!==null?np(i,d):uc(),ip(i);else return o=i.lanes=536870912,eg(e,i,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Vo(i,d.cachePool),np(i,d),Ti(),i.memoizedState=null):(e!==null&&Vo(i,null),uc(),Ti());return Ct(e,i,h,r),i.child}function dr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function eg(e,i,r,o,h){var d=ic();return d=d===null?null:{parent:ct._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},e!==null&&Vo(i,null),uc(),ip(i),e!==null&&Ia(e,i,o,!0),i.childLanes=h,null}function tl(e,i){return i=il({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function tg(e,i,r){return ra(i,e.child,null,r),e=tl(i,i.pendingProps),e.flags|=2,Wt(i),i.memoizedState=null,e}function JS(e,i,r){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ce){if(o.mode==="hidden")return e=tl(i,o),i.lanes=536870912,dr(null,e);if(hc(i),(e=Ye)?(e=dy(e,gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gi!==null?{id:Mn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},r=zm(e),r.return=i,i.child=r,xt=i,Ye=null)):e=null,e===null)throw vi(i);return i.lanes=536870912,null}return tl(i,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(hc(i),h)if(i.flags&256)i.flags&=-257,i=tg(e,i,r);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(ft||Ia(e,i,r,!1),h=(r&e.childLanes)!==0,ft||h){if(o=Ge,o!==null&&(y=Gd(o,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Qi(e,y),Gt(o,e,y),Dc;fl(),i=tg(e,i,r)}else e=d.treeContext,Ye=vn(y.nextSibling),xt=i,Ce=!0,yi=null,gn=!1,e!==null&&Hm(i,e),i=tl(i,o),i.flags|=4096;return i}return e=In(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function nl(e,i){var r=i.ref;if(r===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(i.flags|=4194816)}}function kc(e,i,r,o,h){return na(i),r=dc(e,i,r,o,void 0,h),o=mc(),e!==null&&!ft?(pc(e,i,h),Xn(e,i,h)):(Ce&&o&&Fu(i),i.flags|=1,Ct(e,i,r,h),i.child)}function ng(e,i,r,o,h,d){return na(i),i.updateQueue=null,r=sp(i,o,r,h),ap(e),o=mc(),e!==null&&!ft?(pc(e,i,d),Xn(e,i,d)):(Ce&&o&&Fu(i),i.flags|=1,Ct(e,i,r,d),i.child)}function ig(e,i,r,o,h){if(na(i),i.stateNode===null){var d=Va,y=r.contextType;typeof y=="object"&&y!==null&&(d=At(y)),d=new r(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jc,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},sc(i),y=r.contextType,d.context=typeof y=="object"&&y!==null?At(y):Va,d.state=i.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Oc(i,r,y,o),d.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&jc.enqueueReplaceState(d,d.state,null),lr(i,o,d,h),or(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var _=i.memoizedProps,N=la(r,_);d.props=N;var z=d.context,F=r.contextType;y=Va,typeof F=="object"&&F!==null&&(y=At(F));var W=r.getDerivedStateFromProps;F=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||z!==y)&&Ip(i,d,o,y),wi=!1;var H=i.memoizedState;d.state=H,lr(i,o,d,h),or(),z=i.memoizedState,_||H!==z||wi?(typeof W=="function"&&(Oc(i,r,W,o),z=i.memoizedState),(N=wi||$p(i,r,N,o,H,z,y))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=y,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,rc(e,i),y=i.memoizedProps,F=la(r,y),d.props=F,W=i.pendingProps,H=d.context,z=r.contextType,N=Va,typeof z=="object"&&z!==null&&(N=At(z)),_=r.getDerivedStateFromProps,(z=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==W||H!==N)&&Ip(i,d,o,N),wi=!1,H=i.memoizedState,d.state=H,lr(i,o,d,h),or();var $=i.memoizedState;y!==W||H!==$||wi||e!==null&&e.dependencies!==null&&Bo(e.dependencies)?(typeof _=="function"&&(Oc(i,r,_,o),$=i.memoizedState),(F=wi||$p(i,r,F,o,H,$,N)||e!==null&&e.dependencies!==null&&Bo(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=$),d.props=o,d.state=$,d.context=N,o=F):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,nl(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ra(i,e.child,null,h),i.child=ra(i,null,r,h)):Ct(e,i,r,h),i.memoizedState=d.state,e=i.child):e=Xn(e,i,h),e}function ag(e,i,r,o){return ea(),i.flags|=256,Ct(e,i,r,o),i.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uc(e){return{baseLanes:e,cachePool:Ym()}}function Lc(e,i,r){return e=e!==null?e.childLanes&~r:0,i&&(e|=Zt),e}function sg(e,i,r){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ce){if(h?Ei(i):Ti(),(e=Ye)?(e=dy(e,gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gi!==null?{id:Mn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},r=zm(e),r.return=i,i.child=r,xt=i,Ye=null)):e=null,e===null)throw vi(i);return vh(e)?i.lanes=32:i.lanes=536870912,null}var _=o.children;return o=o.fallback,h?(Ti(),h=i.mode,_=il({mode:"hidden",children:_},h),o=Zi(o,h,r,null),_.return=i,o.return=i,_.sibling=o,i.child=_,o=i.child,o.memoizedState=Uc(r),o.childLanes=Lc(e,y,r),i.memoizedState=Mc,dr(null,o)):(Ei(i),Bc(i,_))}var N=e.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(d)i.flags&256?(Ei(i),i.flags&=-257,i=zc(e,i,r)):i.memoizedState!==null?(Ti(),i.child=e.child,i.flags|=128,i=null):(Ti(),_=o.fallback,h=i.mode,o=il({mode:"visible",children:o.children},h),_=Zi(_,h,r,null),_.flags|=2,o.return=i,_.return=i,o.sibling=_,i.child=o,ra(i,e.child,null,r),o=i.child,o.memoizedState=Uc(r),o.childLanes=Lc(e,y,r),i.memoizedState=Mc,i=dr(null,o));else if(Ei(i),vh(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,tr({value:o,source:null,stack:null}),i=zc(e,i,r)}else if(ft||Ia(e,i,r,!1),y=(r&e.childLanes)!==0,ft||y){if(y=Ge,y!==null&&(o=Gd(y,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,Qi(e,o),Gt(y,e,o),Dc;yh(_)||fl(),i=zc(e,i,r)}else yh(_)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,Ye=vn(_.nextSibling),xt=i,Ce=!0,yi=null,gn=!1,e!==null&&Hm(i,e),i=Bc(i,o.children),i.flags|=4096);return i}return h?(Ti(),_=o.fallback,h=i.mode,N=e.child,z=N.sibling,o=In(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?_=In(z,_):(_=Zi(_,h,r,null),_.flags|=2),_.return=i,o.return=i,o.sibling=_,i.child=o,dr(null,o),o=i.child,_=e.child.memoizedState,_===null?_=Uc(r):(h=_.cachePool,h!==null?(N=ct._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ym(),_={baseLanes:_.baseLanes|r,cachePool:h}),o.memoizedState=_,o.childLanes=Lc(e,y,r),i.memoizedState=Mc,dr(e.child,o)):(Ei(i),r=e.child,e=r.sibling,r=In(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=r,i.memoizedState=null,r)}function Bc(e,i){return i=il({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function il(e,i){return e=Xt(22,e,null,i),e.lanes=0,e}function zc(e,i,r){return ra(i,e.child,null,r),e=Bc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rg(e,i,r){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Zu(e.return,i,r)}function Vc(e,i,r,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=d)}function og(e,i,r){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=lt.current,_=(y&2)!==0;if(_?(y=y&1|2,i.flags|=128):y&=1,Y(lt,y),Ct(e,i,o,r),o=Ce?er:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,r,i);else if(e.tag===19)rg(e,r,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)e=r.alternate,e!==null&&Go(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Vc(i,!1,h,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Go(e)===null){i.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Vc(i,!0,r,null,d,o);break;case"together":Vc(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xn(e,i,r){if(e!==null&&(i.dependencies=e.dependencies),Ci|=i.lanes,(r&i.childLanes)===0)if(e!==null){if(Ia(e,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,r=In(e,e.pendingProps),i.child=r,r.return=i;e.sibling!==null;)e=e.sibling,r=r.sibling=In(e,e.pendingProps),r.return=i;r.sibling=null}return i.child}function Pc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bo(e)))}function WS(e,i,r){switch(i.tag){case 3:he(i,i.stateNode.containerInfo),bi(i,ct,e.memoizedState.cache),ea();break;case 27:case 5:Ve(i);break;case 4:he(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,hc(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ei(i),i.flags|=128,null):(r&i.child.childLanes)!==0?sg(e,i,r):(Ei(i),e=Xn(e,i,r),e!==null?e.sibling:null);Ei(i);break;case 19:var h=(e.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(Ia(e,i,r,!1),o=(r&i.childLanes)!==0),h){if(o)return og(e,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(lt,lt.current),o)break;return null;case 22:return i.lanes=0,Zp(e,i,r,i.pendingProps);case 24:bi(i,ct,e.memoizedState.cache)}return Xn(e,i,r)}function lg(e,i,r){if(e!==null)if(e.memoizedProps!==i.pendingProps)ft=!0;else{if(!Pc(e,r)&&(i.flags&128)===0)return ft=!1,WS(e,i,r);ft=(e.flags&131072)!==0}else ft=!1,Ce&&(i.flags&1048576)!==0&&Pm(i,er,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=aa(i.elementType),i.type=e,typeof e=="function")Gu(e)?(o=la(e,o),i.tag=1,i=ig(null,i,e,o,r)):(i.tag=0,i=kc(null,i,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===P){i.tag=11,i=Jp(null,i,e,o,r);break e}else if(h===G){i.tag=14,i=Wp(null,i,e,o,r);break e}}throw i=Re(e)||e,Error(s(306,i,""))}}return i;case 0:return kc(e,i,i.type,i.pendingProps,r);case 1:return o=i.type,h=la(o,i.pendingProps),ig(e,i,o,h,r);case 3:e:{if(he(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,rc(e,i),lr(i,o,null,r);var y=i.memoizedState;if(o=y.cache,bi(i,ct,o),o!==d.cache&&ec(i,[ct],r,!0),or(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ag(e,i,o,r);break e}else if(o!==h){h=dn(Error(s(424)),i),tr(h),i=ag(e,i,o,r);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=vn(e.firstChild),xt=i,Ce=!0,yi=null,gn=!0,r=Zm(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ea(),o===h){i=Xn(e,i,r);break e}Ct(e,i,o,r)}i=i.child}return i;case 26:return nl(e,i),e===null?(r=by(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ce||(r=i.type,e=i.pendingProps,o=bl(le.current).createElement(r),o[Tt]=i,o[Vt]=e,Rt(o,r,e),_t(o),i.stateNode=o):i.memoizedState=by(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ve(i),e===null&&Ce&&(o=i.stateNode=gy(i.type,i.pendingProps,le.current),xt=i,gn=!0,h=Ye,Di(i.type)?(bh=h,Ye=vn(o.firstChild)):Ye=h),Ct(e,i,i.pendingProps.children,r),nl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ce&&((h=o=Ye)&&(o=CE(o,i.type,i.pendingProps,gn),o!==null?(i.stateNode=o,xt=i,Ye=vn(o.firstChild),gn=!1,h=!0):h=!1),h||vi(i)),Ve(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,mh(h,d)?o=null:y!==null&&mh(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=dc(e,i,$S,null,null,r),Rr._currentValue=h),nl(e,i),Ct(e,i,o,r),i.child;case 6:return e===null&&Ce&&((e=r=Ye)&&(r=RE(r,i.pendingProps,gn),r!==null?(i.stateNode=r,xt=i,Ye=null,e=!0):e=!1),e||vi(i)),null;case 13:return sg(e,i,r);case 4:return he(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ra(i,null,o,r):Ct(e,i,o,r),i.child;case 11:return Jp(e,i,i.type,i.pendingProps,r);case 7:return Ct(e,i,i.pendingProps,r),i.child;case 8:return Ct(e,i,i.pendingProps.children,r),i.child;case 12:return Ct(e,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,bi(i,i.type,o.value),Ct(e,i,o.children,r),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,na(i),h=At(h),o=o(h),i.flags|=1,Ct(e,i,o,r),i.child;case 14:return Wp(e,i,i.type,i.pendingProps,r);case 15:return Qp(e,i,i.type,i.pendingProps,r);case 19:return og(e,i,r);case 31:return JS(e,i,r);case 22:return Zp(e,i,r,i.pendingProps);case 24:return na(i),o=At(ct),e===null?(h=ic(),h===null&&(h=Ge,d=tc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),i.memoizedState={parent:o,cache:h},sc(i),bi(i,ct,h)):((e.lanes&r)!==0&&(rc(e,i),lr(i,null,null,r),or()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),bi(i,ct,o)):(o=d.cache,bi(i,ct,o),o!==h.cache&&ec(i,[ct],r,!0))),Ct(e,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Jn(e){e.flags|=4}function Hc(e,i,r,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ug())e.flags|=8192;else throw sa=Ho,ac}else e.flags&=-16777217}function ug(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ty(i))if(Ug())e.flags|=8192;else throw sa=Ho,ac}function al(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?$d():536870912,e.lanes|=i,ts|=i)}function mr(e,i){if(!Ce)switch(e.tailMode){case"hidden":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Fe(e){var i=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(i)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,i}function QS(e,i,r){var o=i.pendingProps;switch(Xu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(i),null;case 1:return Fe(i),null;case 3:return r=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Kn(ct),ce(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($a(i)?Jn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wu())),Fe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Jn(i),d!==null?(Fe(i),ug(i,d)):(Fe(i),Hc(i,h,null,o,r))):d?d!==e.memoizedState?(Jn(i),Fe(i),ug(i,d)):(Fe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Jn(i),Fe(i),Hc(i,h,e,o,r)),null;case 27:if(be(i),r=le.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Jn(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}e=ne.current,$a(i)?$m(i):(e=gy(h,o,r),i.stateNode=e,Jn(i))}return Fe(i),null;case 5:if(be(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Jn(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}if(d=ne.current,$a(i))$m(i);else{var y=bl(le.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Tt]=i,d[Vt]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Rt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Jn(i)}}return Fe(i),Hc(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,r),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Jn(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=le.current,$a(i)){if(e=i.stateNode,r=i.memoizedProps,o=null,h=xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Tt]=i,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||sy(e.nodeValue,r)),e||vi(i,!0)}else e=bl(e).createTextNode(o),e[Tt]=i,i.stateNode=e}return Fe(i),null;case 31:if(r=i.memoizedState,e===null||e.memoizedState!==null){if(o=$a(i),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Tt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),e=!1}else r=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return i.flags&256?(Wt(i),i):(Wt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Fe(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=$a(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),h=!1}else h=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Wt(i),i):(Wt(i),null)}return Wt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),r!==e&&r&&(i.child.flags|=8192),al(i,i.updateQueue),Fe(i),null);case 4:return ce(),e===null&&uh(i.stateNode.containerInfo),Fe(i),null;case 10:return Kn(i.type),Fe(i),null;case 19:if(V(lt),o=i.memoizedState,o===null)return Fe(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)mr(o,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Go(e),d!==null){for(i.flags|=128,mr(o,!1),e=d.updateQueue,i.updateQueue=e,al(i,e),i.subtreeFlags=0,e=r,r=i.child;r!==null;)Bm(r,e),r=r.sibling;return Y(lt,lt.current&1|2),Ce&&qn(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&Ue()>ul&&(i.flags|=128,h=!0,mr(o,!1),i.lanes=4194304)}else{if(!h)if(e=Go(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,al(i,e),mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ce)return Fe(i),null}else 2*Ue()-o.renderingStartTime>ul&&r!==536870912&&(i.flags|=128,h=!0,mr(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ue(),e.sibling=null,r=lt.current,Y(lt,h?r&1|2:r&1),Ce&&qn(i,o.treeForkCount),e):(Fe(i),null);case 22:case 23:return Wt(i),cc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(Fe(i),i.subtreeFlags&6&&(i.flags|=8192)):Fe(i),r=i.updateQueue,r!==null&&al(i,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),e!==null&&V(ia),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Kn(ct),Fe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(e,i){switch(Xu(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Kn(ct),ce(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return be(i),null;case 31:if(i.memoizedState!==null){if(Wt(i),i.alternate===null)throw Error(s(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Wt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return V(lt),null;case 4:return ce(),null;case 10:return Kn(i.type),null;case 22:case 23:return Wt(i),cc(),e!==null&&V(ia),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Kn(ct),null;case 25:return null;default:return null}}function cg(e,i){switch(Xu(i),i.tag){case 3:Kn(ct),ce();break;case 26:case 27:case 5:be(i);break;case 4:ce();break;case 31:i.memoizedState!==null&&Wt(i);break;case 13:Wt(i);break;case 19:V(lt);break;case 10:Kn(i.type);break;case 22:case 23:Wt(i),cc(),e!==null&&V(ia);break;case 24:Kn(ct)}}function pr(e,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var d=r.create,y=r.inst;o=d(),y.destroy=o}r=r.next}while(r!==h)}}catch(_){ze(i,i.return,_)}}function xi(e,i,r){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,h=i;var N=r,z=_;try{z()}catch(F){ze(h,N,F)}}}o=o.next}while(o!==d)}}catch(F){ze(i,i.return,F)}}function hg(e){var i=e.updateQueue;if(i!==null){var r=e.stateNode;try{tp(i,r)}catch(o){ze(e,e.return,o)}}}function fg(e,i,r){r.props=la(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ze(e,i,o)}}function gr(e,i){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){ze(e,i,h)}}function Ln(e,i){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ze(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ze(e,i,h)}else r.current=null}function dg(e){var i=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ze(e,e.return,h)}}function $c(e,i,r){try{var o=e.stateNode;_E(o,e.type,r,i),o[Vt]=i}catch(h){ze(e,e.return,h)}}function mg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Di(e.type)||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(e),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Hn));else if(o!==4&&(o===27&&Di(e.type)&&(r=e.stateNode,i=null),e=e.child,e!==null))for(qc(e,i,r),e=e.sibling;e!==null;)qc(e,i,r),e=e.sibling}function sl(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?r.insertBefore(e,i):r.appendChild(e);else if(o!==4&&(o===27&&Di(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(sl(e,i,r),e=e.sibling;e!==null;)sl(e,i,r),e=e.sibling}function pg(e){var i=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rt(i,o,r),i[Tt]=e,i[Vt]=r}catch(d){ze(e,e.return,d)}}var Wn=!1,dt=!1,Gc=!1,gg=typeof WeakSet=="function"?WeakSet:Set,St=null;function eE(e,i){if(e=e.containerInfo,fh=Al,e=Rm(e),zu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var y=0,_=-1,N=-1,z=0,F=0,W=e,H=null;t:for(;;){for(var $;W!==r||h!==0&&W.nodeType!==3||(_=y+h),W!==d||o!==0&&W.nodeType!==3||(N=y+o),W.nodeType===3&&(y+=W.nodeValue.length),($=W.firstChild)!==null;)H=W,W=$;for(;;){if(W===e)break t;if(H===r&&++z===h&&(_=y),H===d&&++F===o&&(N=y),($=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=$}r=_===-1||N===-1?null:{start:_,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(dh={focusedElem:e,selectionRange:r},Al=!1,St=i;St!==null;)if(i=St,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,St=e;else for(;St!==null;){switch(i=St,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=i,h=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var ie=la(r.type,h);e=o.getSnapshotBeforeUpdate(ie,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(fe){ze(r,r.return,fe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,r=e.nodeType,r===9)gh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,St=e;break}St=i.return}}function yg(e,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(e,r),o&4&&pr(5,r);break;case 1:if(Zn(e,r),o&4)if(e=r.stateNode,i===null)try{e.componentDidMount()}catch(y){ze(r,r.return,y)}else{var h=la(r.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(r,r.return,y)}}o&64&&hg(r),o&512&&gr(r,r.return);break;case 3:if(Zn(e,r),o&64&&(e=r.updateQueue,e!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{tp(e,i)}catch(y){ze(r,r.return,y)}}break;case 27:i===null&&o&4&&pg(r);case 26:case 5:Zn(e,r),i===null&&o&4&&dg(r),o&512&&gr(r,r.return);break;case 12:Zn(e,r);break;case 31:Zn(e,r),o&4&&wg(e,r);break;case 13:Zn(e,r),o&4&&_g(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=uE.bind(null,r),OE(e,r))));break;case 22:if(o=r.memoizedState!==null||Wn,!o){i=i!==null&&i.memoizedState!==null||dt,h=Wn;var d=dt;Wn=o,(dt=i)&&!d?ei(e,r,(r.subtreeFlags&8772)!==0):Zn(e,r),Wn=h,dt=d}break;case 30:break;default:Zn(e,r)}}function vg(e){var i=e.alternate;i!==null&&(e.alternate=null,vg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&_u(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Ht=!1;function Qn(e,i,r){for(r=r.child;r!==null;)bg(e,i,r),r=r.sibling}function bg(e,i,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(En,r)}catch{}switch(r.tag){case 26:dt||Ln(r,i),Qn(e,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:dt||Ln(r,i);var o=Xe,h=Ht;Di(r.type)&&(Xe=r.stateNode,Ht=!1),Qn(e,i,r),xr(r.stateNode),Xe=o,Ht=h;break;case 5:dt||Ln(r,i);case 6:if(o=Xe,h=Ht,Xe=null,Qn(e,i,r),Xe=o,Ht=h,Xe!==null)if(Ht)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(d){ze(r,i,d)}else try{Xe.removeChild(r.stateNode)}catch(d){ze(r,i,d)}break;case 18:Xe!==null&&(Ht?(e=Xe,hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),us(e)):hy(Xe,r.stateNode));break;case 4:o=Xe,h=Ht,Xe=r.stateNode.containerInfo,Ht=!0,Qn(e,i,r),Xe=o,Ht=h;break;case 0:case 11:case 14:case 15:xi(2,r,i),dt||xi(4,r,i),Qn(e,i,r);break;case 1:dt||(Ln(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&fg(r,i,o)),Qn(e,i,r);break;case 21:Qn(e,i,r);break;case 22:dt=(o=dt)||r.memoizedState!==null,Qn(e,i,r),dt=o;break;default:Qn(e,i,r)}}function wg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(r){ze(i,i.return,r)}}}function _g(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(r){ze(i,i.return,r)}}function tE(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new gg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new gg),i;default:throw Error(s(435,e.tag))}}function rl(e,i){var r=tE(e);i.forEach(function(o){if(!r.has(o)){r.add(o);var h=cE.bind(null,e,o);o.then(h,h)}})}function $t(e,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],d=e,y=i,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Di(_.type)){Xe=_.stateNode,Ht=!1;break e}break;case 5:Xe=_.stateNode,Ht=!1;break e;case 3:case 4:Xe=_.stateNode.containerInfo,Ht=!0;break e}_=_.return}if(Xe===null)throw Error(s(160));bg(d,y,h),Xe=null,Ht=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Sg(i,e),i=i.sibling}var xn=null;function Sg(e,i){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(i,e),It(e),o&4&&(xi(3,e,e.return),pr(3,e),xi(5,e,e.return));break;case 1:$t(i,e),It(e),o&512&&(dt||r===null||Ln(r,r.return)),o&64&&Wn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=xn;if($t(i,e),It(e),o&512&&(dt||r===null||Ln(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Is]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Rt(d,o,r),d[Tt]=e,_t(d),o=d;break e;case"link":var y=Sy("link","href",h).get(o+(r.href||""));if(y){for(var _=0;_<y.length;_++)if(d=y[_],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(_,1);break t}}d=h.createElement(o),Rt(d,o,r),h.head.appendChild(d);break;case"meta":if(y=Sy("meta","content",h).get(o+(r.content||""))){for(_=0;_<y.length;_++)if(d=y[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(_,1);break t}}d=h.createElement(o),Rt(d,o,r),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Tt]=e,_t(d),o=d}e.stateNode=o}else Ey(h,e.type,e.stateNode);else e.stateNode=_y(h,o,e.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?Ey(h,e.type,e.stateNode):_y(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$c(e,e.memoizedProps,r.memoizedProps)}break;case 27:$t(i,e),It(e),o&512&&(dt||r===null||Ln(r,r.return)),r!==null&&o&4&&$c(e,e.memoizedProps,r.memoizedProps);break;case 5:if($t(i,e),It(e),o&512&&(dt||r===null||Ln(r,r.return)),e.flags&32){h=e.stateNode;try{Da(h,"")}catch(ie){ze(e,e.return,ie)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$c(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Gc=!0);break;case 6:if($t(i,e),It(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ie){ze(e,e.return,ie)}}break;case 3:if(Sl=null,h=xn,xn=wl(i.containerInfo),$t(i,e),xn=h,It(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{us(i.containerInfo)}catch(ie){ze(e,e.return,ie)}Gc&&(Gc=!1,Eg(e));break;case 4:o=xn,xn=wl(e.stateNode.containerInfo),$t(i,e),It(e),xn=o;break;case 12:$t(i,e),It(e);break;case 31:$t(i,e),It(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rl(e,o)));break;case 13:$t(i,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ll=Ue()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rl(e,o)));break;case 22:h=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=Wn,F=dt;if(Wn=z||h,dt=F||N,$t(i,e),dt=F,Wn=z,It(e),o&8192)e:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||N||Wn||dt||ua(e)),r=null,i=e;;){if(i.tag===5||i.tag===26){if(r===null){N=r=i;try{if(d=N.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=N.stateNode;var W=N.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ie){ze(N,N.return,ie)}}}else if(i.tag===6){if(r===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ie){ze(N,N.return,ie)}}}else if(i.tag===18){if(r===null){N=i;try{var $=N.stateNode;h?fy($,!0):fy(N.stateNode,!1)}catch(ie){ze(N,N.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rl(e,r))));break;case 19:$t(i,e),It(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rl(e,o)));break;case 30:break;case 21:break;default:$t(i,e),It(e)}}function It(e){var i=e.flags;if(i&2){try{for(var r,o=e.return;o!==null;){if(mg(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Ic(e);sl(e,d,h);break;case 5:var y=r.stateNode;r.flags&32&&(Da(y,""),r.flags&=-33);var _=Ic(e);sl(e,_,y);break;case 3:case 4:var N=r.stateNode.containerInfo,z=Ic(e);qc(e,z,N);break;default:throw Error(s(161))}}catch(F){ze(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Eg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yg(e,i.alternate,i),i=i.sibling}function ua(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),ua(i);break;case 1:Ln(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&fg(i,i.return,r),ua(i);break;case 27:xr(i.stateNode);case 26:case 5:Ln(i,i.return),ua(i);break;case 22:i.memoizedState===null&&ua(i);break;case 30:ua(i);break;default:ua(i)}e=e.sibling}}function ei(e,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:ei(h,d,r),pr(4,d);break;case 1:if(ei(h,d,r),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ze(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var _=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ep(N[h],_)}catch(z){ze(o,o.return,z)}}r&&y&64&&hg(d),gr(d,d.return);break;case 27:pg(d);case 26:case 5:ei(h,d,r),r&&o===null&&y&4&&dg(d),gr(d,d.return);break;case 12:ei(h,d,r);break;case 31:ei(h,d,r),r&&y&4&&wg(h,d);break;case 13:ei(h,d,r),r&&y&4&&_g(h,d);break;case 22:d.memoizedState===null&&ei(h,d,r),gr(d,d.return);break;case 30:break;default:ei(h,d,r)}i=i.sibling}}function Kc(e,i){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&nr(r))}function Yc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nr(e))}function An(e,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tg(e,i,r,o),i=i.sibling}function Tg(e,i,r,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:An(e,i,r,o),h&2048&&pr(9,i);break;case 1:An(e,i,r,o);break;case 3:An(e,i,r,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nr(e)));break;case 12:if(h&2048){An(e,i,r,o),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,_=d.onPostCommit;typeof _=="function"&&_(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ze(i,i.return,N)}}else An(e,i,r,o);break;case 31:An(e,i,r,o);break;case 13:An(e,i,r,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?An(e,i,r,o):yr(e,i):d._visibility&2?An(e,i,r,o):(d._visibility|=2,Qa(e,i,r,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Kc(y,i);break;case 24:An(e,i,r,o),h&2048&&Yc(i.alternate,i);break;default:An(e,i,r,o)}}function Qa(e,i,r,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,_=r,N=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(d,y,_,N,h),pr(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Qa(d,y,_,N,h):yr(d,y):(F._visibility|=2,Qa(d,y,_,N,h)),h&&z&2048&&Kc(y.alternate,y);break;case 24:Qa(d,y,_,N,h),h&&z&2048&&Yc(y.alternate,y);break;default:Qa(d,y,_,N,h)}i=i.sibling}}function yr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=e,o=i,h=o.flags;switch(o.tag){case 22:yr(r,o),h&2048&&Kc(o.alternate,o);break;case 24:yr(r,o),h&2048&&Yc(o.alternate,o);break;default:yr(r,o)}i=i.sibling}}var vr=8192;function Za(e,i,r){if(e.subtreeFlags&vr)for(e=e.child;e!==null;)xg(e,i,r),e=e.sibling}function xg(e,i,r){switch(e.tag){case 26:Za(e,i,r),e.flags&vr&&e.memoizedState!==null&&HE(r,xn,e.memoizedState,e.memoizedProps);break;case 5:Za(e,i,r);break;case 3:case 4:var o=xn;xn=wl(e.stateNode.containerInfo),Za(e,i,r),xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=vr,vr=16777216,Za(e,i,r),vr=o):Za(e,i,r));break;default:Za(e,i,r)}}function Ag(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function br(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];St=o,Rg(o,e)}Ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(e),e=e.sibling}function Cg(e){switch(e.tag){case 0:case 11:case 15:br(e),e.flags&2048&&xi(9,e,e.return);break;case 3:br(e);break;case 12:br(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ol(e)):br(e);break;default:br(e)}}function ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];St=o,Rg(o,e)}Ag(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xi(8,i,i.return),ol(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,ol(i));break;default:ol(i)}e=e.sibling}}function Rg(e,i){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:xi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nr(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,St=o;else e:for(r=e;St!==null;){o=St;var h=o.sibling,d=o.return;if(vg(o),o===r){St=null;break e}if(h!==null){h.return=d,St=h;break e}St=d}}}var nE={getCacheForType:function(e){var i=At(ct),r=i.data.get(e);return r===void 0&&(r=e(),i.data.set(e,r)),r},cacheSignal:function(){return At(ct).controller.signal}},iE=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,Ee=null,xe=0,Be=0,Qt=null,Ai=!1,es=!1,Fc=!1,ti=0,it=0,Ci=0,ca=0,Xc=0,Zt=0,ts=0,wr=null,qt=null,Jc=!1,ll=0,Og=0,ul=1/0,cl=null,Ri=null,gt=0,Oi=null,ns=null,ni=0,Wc=0,Qc=null,jg=null,_r=0,Zc=null;function en(){return(Me&2)!==0&&xe!==0?xe&-xe:I.T!==null?sh():Kd()}function Ng(){if(Zt===0)if((xe&536870912)===0||Ce){var e=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),Zt=e}else Zt=536870912;return e=Jt.current,e!==null&&(e.flags|=32),Zt}function Gt(e,i,r){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(is(e,0),ji(e,xe,Zt,!1)),$s(e,r),((Me&2)===0||e!==Ge)&&(e===Ge&&((Me&2)===0&&(ca|=r),it===4&&ji(e,xe,Zt,!1)),Bn(e))}function Dg(e,i,r){if((Me&6)!==0)throw Error(s(327));var o=!r&&(i&127)===0&&(i&e.expiredLanes)===0||Hs(e,i),h=o?rE(e,i):th(e,i,!0),d=o;do{if(h===0){es&&!o&&ji(e,i,0,!1);break}else{if(r=e.current.alternate,d&&!aE(r)){h=th(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var _=e;h=wr;var N=_.current.memoizedState.isDehydrated;if(N&&(is(_,y).flags|=256),y=th(_,y,!1),y!==2){if(Fc&&!N){_.errorRecoveryDisabledLanes|=d,ca|=d,h=4;break e}d=qt,qt=h,d!==null&&(qt===null?qt=d:qt.push.apply(qt,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){is(e,0),ji(e,i,0,!0);break}e:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ji(o,i,Zt,!Ai);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ll+300-Ue(),10<h)){if(ji(o,i,Zt,!Ai),wo(o,0,!0)!==0)break e;ni=i,o.timeoutHandle=uy(kg.bind(null,o,r,qt,cl,Jc,i,Zt,ca,ts,Ai,d,"Throttled",-0,0),h);break e}kg(o,r,qt,cl,Jc,i,Zt,ca,ts,Ai,d,null,-0,0)}}break}while(!0);Bn(e)}function kg(e,i,r,o,h,d,y,_,N,z,F,W,H,$){if(e.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},xg(i,d,W);var ie=(d&62914560)===d?ll-Ue():(d&4194048)===d?Og-Ue():0;if(ie=$E(W,ie),ie!==null){ni=d,e.cancelPendingCommit=ie(Hg.bind(null,e,i,d,r,o,h,y,_,N,F,W,null,H,$)),ji(e,d,y,!z);return}}Hg(e,i,d,r,o,h,y,_,N)}function aE(e){for(var i=e;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],d=h.getSnapshot;h=h.value;try{if(!Ft(d(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(e,i,r,o){i&=~Xc,i&=~ca,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Yt(h),y=1<<d;o[d]=-1,h&=~y}r!==0&&Id(e,r,i)}function hl(){return(Me&6)===0?(Sr(0),!1):!0}function eh(){if(Ee!==null){if(Be===0)var e=Ee.return;else e=Ee,Gn=ta=null,gc(e),Ya=null,ar=0,e=Ee;for(;e!==null;)cg(e.alternate,e),e=e.return;Ee=null}}function is(e,i){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,TE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ni=0,eh(),Ge=e,Ee=r=In(e.current,null),xe=i,Be=0,Qt=null,Ai=!1,es=Hs(e,i),Fc=!1,ts=Zt=Xc=ca=Ci=it=0,qt=wr=null,Jc=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Yt(o),d=1<<h;i|=e[h],o&=~d}return ti=i,Do(),r}function Mg(e,i){we=null,I.H=fr,i===Ka||i===Po?(i=Jm(),Be=3):i===ac?(i=Jm(),Be=4):Be=i===Dc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qt=i,Ee===null&&(it=1,el(e,dn(i,e.current)))}function Ug(){var e=Jt.current;return e===null?!0:(xe&4194048)===xe?yn===null:(xe&62914560)===xe||(xe&536870912)!==0?e===yn:!1}function Lg(){var e=I.H;return I.H=fr,e===null?fr:e}function Bg(){var e=I.A;return I.A=nE,e}function fl(){it=4,Ai||(xe&4194048)!==xe&&Jt.current!==null||(es=!0),(Ci&134217727)===0&&(ca&134217727)===0||Ge===null||ji(Ge,xe,Zt,!1)}function th(e,i,r){var o=Me;Me|=2;var h=Lg(),d=Bg();(Ge!==e||xe!==i)&&(cl=null,is(e,i)),i=!1;var y=it;e:do try{if(Be!==0&&Ee!==null){var _=Ee,N=Qt;switch(Be){case 8:eh(),y=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(i=!0);var z=Be;if(Be=0,Qt=null,as(e,_,N,z),r&&es){y=0;break e}break;default:z=Be,Be=0,Qt=null,as(e,_,N,z)}}sE(),y=it;break}catch(F){Mg(e,F)}while(!0);return i&&e.shellSuspendCounter++,Gn=ta=null,Me=o,I.H=h,I.A=d,Ee===null&&(Ge=null,xe=0,Do()),y}function sE(){for(;Ee!==null;)zg(Ee)}function rE(e,i){var r=Me;Me|=2;var o=Lg(),h=Bg();Ge!==e||xe!==i?(cl=null,ul=Ue()+500,is(e,i)):es=Hs(e,i);e:do try{if(Be!==0&&Ee!==null){i=Ee;var d=Qt;t:switch(Be){case 1:Be=0,Qt=null,as(e,i,d,1);break;case 2:case 9:if(Fm(d)){Be=0,Qt=null,Vg(i);break}i=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),Bn(e)},d.then(i,i);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Fm(d)?(Be=0,Qt=null,Vg(i)):(Be=0,Qt=null,as(e,i,d,7));break;case 5:var y=null;switch(Ee.tag){case 26:y=Ee.memoizedState;case 5:case 27:var _=Ee;if(y?Ty(y):_.stateNode.complete){Be=0,Qt=null;var N=_.sibling;if(N!==null)Ee=N;else{var z=_.return;z!==null?(Ee=z,dl(z)):Ee=null}break t}}Be=0,Qt=null,as(e,i,d,5);break;case 6:Be=0,Qt=null,as(e,i,d,6);break;case 8:eh(),it=6;break e;default:throw Error(s(462))}}oE();break}catch(F){Mg(e,F)}while(!0);return Gn=ta=null,I.H=o,I.A=h,Me=r,Ee!==null?0:(Ge=null,xe=0,Do(),it)}function oE(){for(;Ee!==null&&!on();)zg(Ee)}function zg(e){var i=lg(e.alternate,e,ti);e.memoizedProps=e.pendingProps,i===null?dl(e):Ee=i}function Vg(e){var i=e,r=i.alternate;switch(i.tag){case 15:case 0:i=ng(r,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=ng(r,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:gc(i);default:cg(r,i),i=Ee=Bm(i,ti),i=lg(r,i,ti)}e.memoizedProps=e.pendingProps,i===null?dl(e):Ee=i}function as(e,i,r,o){Gn=ta=null,gc(i),Ya=null,ar=0;var h=i.return;try{if(XS(e,h,i,r,xe)){it=1,el(e,dn(r,e.current)),Ee=null;return}}catch(d){if(h!==null)throw Ee=h,d;it=1,el(e,dn(r,e.current)),Ee=null;return}i.flags&32768?(Ce||o===1?e=!0:es||(xe&536870912)!==0?e=!1:(Ai=e=!0,(o===2||o===9||o===3||o===6)&&(o=Jt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Pg(i,e)):dl(i)}function dl(e){var i=e;do{if((i.flags&32768)!==0){Pg(i,Ai);return}e=i.return;var r=QS(i.alternate,i,ti);if(r!==null){Ee=r;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=e}while(i!==null);it===0&&(it=5)}function Pg(e,i){do{var r=ZS(e.alternate,e);if(r!==null){r.flags&=32767,Ee=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=r}while(e!==null);it=6,Ee=null}function Hg(e,i,r,o,h,d,y,_,N){e.cancelPendingCommit=null;do ml();while(gt!==0);if((Me&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Iu,P_(e,r,d,y,_,N),e===Ge&&(Ee=Ge=null,xe=0),ns=i,Oi=e,ni=r,Wc=d,Qc=h,jg=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hE(zt,function(){return Kg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=I.T,I.T=null,h=L.p,L.p=2,y=Me,Me|=4;try{eE(e,i,r)}finally{Me=y,L.p=h,I.T=o}}gt=1,$g(),Ig(),qg()}}function $g(){if(gt===1){gt=0;var e=Oi,i=ns,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=I.T,I.T=null;var o=L.p;L.p=2;var h=Me;Me|=4;try{Sg(i,e);var d=dh,y=Rm(e.containerInfo),_=d.focusedElem,N=d.selectionRange;if(y!==_&&_&&_.ownerDocument&&Cm(_.ownerDocument.documentElement,_)){if(N!==null&&zu(_)){var z=N.start,F=N.end;if(F===void 0&&(F=z),"selectionStart"in _)_.selectionStart=z,_.selectionEnd=Math.min(F,_.value.length);else{var W=_.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var $=H.getSelection(),ie=_.textContent.length,fe=Math.min(N.start,ie),qe=N.end===void 0?fe:Math.min(N.end,ie);!$.extend&&fe>qe&&(y=qe,qe=fe,fe=y);var U=Am(_,fe),M=Am(_,qe);if(U&&M&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var B=W.createRange();B.setStart(U.node,U.offset),$.removeAllRanges(),fe>qe?($.addRange(B),$.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),$.addRange(B))}}}}for(W=[],$=_;$=$.parentNode;)$.nodeType===1&&W.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<W.length;_++){var J=W[_];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Al=!!fh,dh=fh=null}finally{Me=h,L.p=o,I.T=r}}e.current=i,gt=2}}function Ig(){if(gt===2){gt=0;var e=Oi,i=ns,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=I.T,I.T=null;var o=L.p;L.p=2;var h=Me;Me|=4;try{yg(e,i.alternate,i)}finally{Me=h,L.p=o,I.T=r}}gt=3}}function qg(){if(gt===4||gt===3){gt=0,Ki();var e=Oi,i=ns,r=ni,o=jg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gt=5:(gt=0,ns=Oi=null,Gg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ri=null),bu(r),i=i.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(En,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=I.T,h=L.p,L.p=2,I.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var _=o[y];d(_.value,{componentStack:_.stack})}}finally{I.T=i,L.p=h}}(ni&3)!==0&&ml(),Bn(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Zc?_r++:(_r=0,Zc=e):_r=0,Sr(0)}}function Gg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nr(i)))}function ml(){return $g(),Ig(),qg(),Kg()}function Kg(){if(gt!==5)return!1;var e=Oi,i=Wc;Wc=0;var r=bu(ni),o=I.T,h=L.p;try{L.p=32>r?32:r,I.T=null,r=Qc,Qc=null;var d=Oi,y=ni;if(gt=0,ns=Oi=null,ni=0,(Me&6)!==0)throw Error(s(331));var _=Me;if(Me|=4,Cg(d.current),Tg(d,d.current,y,r),Me=_,Sr(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(En,d)}catch{}return!0}finally{L.p=h,I.T=o,Gg(e,i)}}function Yg(e,i,r){i=dn(r,i),i=Nc(e.stateNode,i,2),e=Si(e,i,2),e!==null&&($s(e,2),Bn(e))}function ze(e,i,r){if(e.tag===3)Yg(e,e,r);else for(;i!==null;){if(i.tag===3){Yg(i,e,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=dn(r,e),r=Fp(2),o=Si(i,r,2),o!==null&&(Xp(r,o,i,e),$s(o,2),Bn(o));break}}i=i.return}}function nh(e,i,r){var o=e.pingCache;if(o===null){o=e.pingCache=new iE;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(r)||(Fc=!0,h.add(r),e=lE.bind(null,e,i,r),i.then(e,e))}function lE(e,i,r){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ge===e&&(xe&r)===r&&(it===4||it===3&&(xe&62914560)===xe&&300>Ue()-ll?(Me&2)===0&&is(e,0):Xc|=r,ts===xe&&(ts=0)),Bn(e)}function Fg(e,i){i===0&&(i=$d()),e=Qi(e,i),e!==null&&($s(e,i),Bn(e))}function uE(e){var i=e.memoizedState,r=0;i!==null&&(r=i.retryLane),Fg(e,r)}function cE(e,i){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Fg(e,r)}function hE(e,i){return Ze(e,i)}var pl=null,ss=null,ih=!1,gl=!1,ah=!1,Ni=0;function Bn(e){e!==ss&&e.next===null&&(ss===null?pl=ss=e:ss=ss.next=e),gl=!0,ih||(ih=!0,dE())}function Sr(e,i){if(!ah&&gl){ah=!0;do for(var r=!1,o=pl;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,_=o.pingedLanes;d=(1<<31-Yt(42|e)+1)-1,d&=h&~(y&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Qg(o,d))}else d=xe,d=wo(o,o===Ge?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hs(o,d)||(r=!0,Qg(o,d));o=o.next}while(r);ah=!1}}function fE(){Xg()}function Xg(){gl=ih=!1;var e=0;Ni!==0&&EE()&&(e=Ni);for(var i=Ue(),r=null,o=pl;o!==null;){var h=o.next,d=Jg(o,i);d===0?(o.next=null,r===null?pl=h:r.next=h,h===null&&(ss=r)):(r=o,(e!==0||(d&3)!==0)&&(gl=!0)),o=h}gt!==0&&gt!==5||Sr(e),Ni!==0&&(Ni=0)}function Jg(e,i){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Yt(d),_=1<<y,N=h[y];N===-1?((_&r)===0||(_&o)!==0)&&(h[y]=V_(_,i)):N<=i&&(e.expiredLanes|=_),d&=~_}if(i=Ge,r=xe,r=wo(e,e===i?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===i&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kn(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Hs(e,r)){if(i=r&-r,i===e.callbackPriority)return i;switch(o!==null&&kn(o),bu(r)){case 2:case 8:r=Et;break;case 32:r=zt;break;case 268435456:r=Ps;break;default:r=zt}return o=Wg.bind(null,e),r=Ze(r,o),e.callbackPriority=i,e.callbackNode=r,i}return o!==null&&o!==null&&kn(o),e.callbackPriority=2,e.callbackNode=null,2}function Wg(e,i){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ml()&&e.callbackNode!==r)return null;var o=xe;return o=wo(e,e===Ge?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dg(e,o,i),Jg(e,Ue()),e.callbackNode!=null&&e.callbackNode===r?Wg.bind(null,e):null)}function Qg(e,i){if(ml())return null;Dg(e,i,!0)}function dE(){xE(function(){(Me&6)!==0?Ze(ot,fE):Xg()})}function sh(){if(Ni===0){var e=qa;e===0&&(e=yo,yo<<=1,(yo&261888)===0&&(yo=256)),Ni=e}return Ni}function Zg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:To(""+e)}function ey(e,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,e.id&&r.setAttribute("form",e.id),i.parentNode.insertBefore(r,i),e=new FormData(e),r.parentNode.removeChild(r),e}function mE(e,i,r,o,h){if(i==="submit"&&r&&r.stateNode===h){var d=Zg((h[Vt]||null).action),y=o.submitter;y&&(i=(i=y[Vt]||null)?Zg(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var _=new Ro("action","action",null,o,h);e.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ni!==0){var N=y?ey(h,y):new FormData(h);xc(r,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(_.preventDefault(),N=y?ey(h,y):new FormData(h),xc(r,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var rh=0;rh<$u.length;rh++){var oh=$u[rh],pE=oh.toLowerCase(),gE=oh[0].toUpperCase()+oh.slice(1);Tn(pE,"on"+gE)}Tn(Nm,"onAnimationEnd"),Tn(Dm,"onAnimationIteration"),Tn(km,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(DS,"onTransitionRun"),Tn(kS,"onTransitionStart"),Tn(MS,"onTransitionCancel"),Tn(Mm,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Er));function ty(e,i){i=(i&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var _=o[y],N=_.instance,z=_.currentTarget;if(_=_.listener,N!==d&&h.isPropagationStopped())break e;d=_,h.currentTarget=z;try{d(h)}catch(F){No(F)}h.currentTarget=null,d=N}else for(y=0;y<o.length;y++){if(_=o[y],N=_.instance,z=_.currentTarget,_=_.listener,N!==d&&h.isPropagationStopped())break e;d=_,h.currentTarget=z;try{d(h)}catch(F){No(F)}h.currentTarget=null,d=N}}}}function Te(e,i){var r=i[wu];r===void 0&&(r=i[wu]=new Set);var o=e+"__bubble";r.has(o)||(ny(i,e,2,!1),r.add(o))}function lh(e,i,r){var o=0;i&&(o|=4),ny(r,e,o,i)}var yl="_reactListening"+Math.random().toString(36).slice(2);function uh(e){if(!e[yl]){e[yl]=!0,Xd.forEach(function(r){r!=="selectionchange"&&(yE.has(r)||lh(r,!1,e),lh(r,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yl]||(i[yl]=!0,lh("selectionchange",!1,i))}}function ny(e,i,r,o){switch(Ny(i)){case 2:var h=GE;break;case 8:h=KE;break;default:h=Th}r=h.bind(null,i,r,e),h=void 0,!Ou||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,r,{capture:!0,passive:h}):e.addEventListener(i,r,!0):h!==void 0?e.addEventListener(i,r,{passive:h}):e.addEventListener(i,r,!1)}function ch(e,i,r,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var _=o.stateNode.containerInfo;if(_===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;_!==null;){if(y=Ca(_),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=d=y;continue e}_=_.parentNode}}o=o.return}om(function(){var z=d,F=Cu(r),W=[];e:{var H=Um.get(e);if(H!==void 0){var $=Ro,ie=e;switch(e){case"keypress":if(Ao(r)===0)break e;case"keydown":case"keyup":$=cS;break;case"focusin":ie="focus",$=ku;break;case"focusout":ie="blur",$=ku;break;case"beforeblur":case"afterblur":$=ku;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=dS;break;case Nm:case Dm:case km:$=tS;break;case Mm:$=pS;break;case"scroll":case"scrollend":$=J_;break;case"wheel":$=yS;break;case"copy":case"cut":case"paste":$=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=fm;break;case"toggle":case"beforetoggle":$=bS}var fe=(i&4)!==0,qe=!fe&&(e==="scroll"||e==="scrollend"),U=fe?H!==null?H+"Capture":null:H;fe=[];for(var M=z,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=Gs(M,U),J!=null&&fe.push(Tr(M,J,B))),qe)break;M=M.return}0<fe.length&&(H=new $(H,ie,null,r,F),W.push({event:H,listeners:fe}))}}if((i&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",H&&r!==Au&&(ie=r.relatedTarget||r.fromElement)&&(Ca(ie)||ie[Aa]))break e;if(($||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,$?(ie=r.relatedTarget||r.toElement,$=z,ie=ie?Ca(ie):null,ie!==null&&(qe=u(ie),fe=ie.tag,ie!==qe||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):($=null,ie=z),$!==ie)){if(fe=cm,J="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(fe=fm,J="onPointerLeave",U="onPointerEnter",M="pointer"),qe=$==null?H:qs($),B=ie==null?H:qs(ie),H=new fe(J,M+"leave",$,r,F),H.target=qe,H.relatedTarget=B,J=null,Ca(F)===z&&(fe=new fe(U,M+"enter",ie,r,F),fe.target=B,fe.relatedTarget=qe,J=fe),qe=J,$&&ie)t:{for(fe=vE,U=$,M=ie,B=0,J=U;J;J=fe(J))B++;J=0;for(var ue=M;ue;ue=fe(ue))J++;for(;0<B-J;)U=fe(U),B--;for(;0<J-B;)M=fe(M),J--;for(;B--;){if(U===M||M!==null&&U===M.alternate){fe=U;break t}U=fe(U),M=fe(M)}fe=null}else fe=null;$!==null&&iy(W,H,$,fe,!1),ie!==null&&qe!==null&&iy(W,qe,ie,fe,!0)}}e:{if(H=z?qs(z):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var De=wm;else if(vm(H))if(_m)De=OS;else{De=CS;var re=AS}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&xu(z.elementType)&&(De=wm):De=RS;if(De&&(De=De(e,z))){bm(W,De,r,F);break e}re&&re(e,H,z),e==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Tu(H,"number",H.value)}switch(re=z?qs(z):window,e){case"focusin":(vm(re)||re.contentEditable==="true")&&(La=re,Vu=z,Zs=null);break;case"focusout":Zs=Vu=La=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,Om(W,r,F);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Om(W,r,F)}var Se;if(Uu)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ua?gm(e,r)&&(Ae="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(dm&&r.locale!=="ko"&&(Ua||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ua&&(Se=lm()):(pi=F,ju="value"in pi?pi.value:pi.textContent,Ua=!0)),re=vl(z,Ae),0<re.length&&(Ae=new hm(Ae,e,null,r,F),W.push({event:Ae,listeners:re}),Se?Ae.data=Se:(Se=ym(r),Se!==null&&(Ae.data=Se)))),(Se=_S?SS(e,r):ES(e,r))&&(Ae=vl(z,"onBeforeInput"),0<Ae.length&&(re=new hm("onBeforeInput","beforeinput",null,r,F),W.push({event:re,listeners:Ae}),re.data=Se)),mE(W,e,z,r,F)}ty(W,i)})}function Tr(e,i,r){return{instance:e,listener:i,currentTarget:r}}function vl(e,i){for(var r=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gs(e,r),h!=null&&o.unshift(Tr(e,h,d)),h=Gs(e,i),h!=null&&o.push(Tr(e,h,d))),e.tag===3)return o;e=e.return}return[]}function vE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function iy(e,i,r,o,h){for(var d=i._reactName,y=[];r!==null&&r!==o;){var _=r,N=_.alternate,z=_.stateNode;if(_=_.tag,N!==null&&N===o)break;_!==5&&_!==26&&_!==27||z===null||(N=z,h?(z=Gs(r,d),z!=null&&y.unshift(Tr(r,z,N))):h||(z=Gs(r,d),z!=null&&y.push(Tr(r,z,N)))),r=r.return}y.length!==0&&e.push({event:i,listeners:y})}var bE=/\r\n?/g,wE=/\u0000|\uFFFD/g;function ay(e){return(typeof e=="string"?e:""+e).replace(bE,`
`).replace(wE,"")}function sy(e,i){return i=ay(i),ay(e)===i}function Ie(e,i,r,o,h,d){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Da(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Da(e,""+o);break;case"className":So(e,"class",o);break;case"tabIndex":So(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,r,o);break;case"style":sm(e,o,d);break;case"data":if(i!=="object"){So(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=To(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(i!=="input"&&Ie(e,i,"name",h.name,h,null),Ie(e,i,"formEncType",h.formEncType,h,null),Ie(e,i,"formMethod",h.formMethod,h,null),Ie(e,i,"formTarget",h.formTarget,h,null)):(Ie(e,i,"encType",h.encType,h,null),Ie(e,i,"method",h.method,h,null),Ie(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=To(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=To(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Te("beforetoggle",e),Te("toggle",e),_o(e,"popover",o);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_o(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=F_.get(r)||r,_o(e,r,o))}}function hh(e,i,r,o,h,d){switch(r){case"style":sm(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Da(e,o):(typeof o=="number"||typeof o=="bigint")&&Da(e,""+o);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),d=e[Vt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(i,o,h);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):_o(e,r,o)}}}function Rt(e,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var o=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ie(e,i,d,y,r,null)}}h&&Ie(e,i,"srcSet",r.srcSet,r,null),o&&Ie(e,i,"src",r.src,r,null);return;case"input":Te("invalid",e);var _=d=y=h=null,N=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":N=F;break;case"defaultChecked":z=F;break;case"value":d=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ie(e,i,o,F,r,null)}}tm(e,d,_,N,z,y,h,!1);return;case"select":Te("invalid",e),o=y=d=null;for(h in r)if(r.hasOwnProperty(h)&&(_=r[h],_!=null))switch(h){case"value":d=_;break;case"defaultValue":y=_;break;case"multiple":o=_;default:Ie(e,i,h,_,r,null)}i=d,r=y,e.multiple=!!o,i!=null?Na(e,!!o,i,!1):r!=null&&Na(e,!!o,r,!0);return;case"textarea":Te("invalid",e),d=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(_=r[y],_!=null))switch(y){case"value":o=_;break;case"defaultValue":h=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ie(e,i,y,_,r,null)}im(e,o,h,d);return;case"option":for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Ie(e,i,N,o,r,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(o=0;o<Er.length;o++)Te(Er[o],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ie(e,i,z,o,r,null)}return;default:if(xu(i)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&hh(e,i,F,o,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(o=r[_],o!=null&&Ie(e,i,_,o,r,null))}function _E(e,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,_=null,N=null,z=null,F=null;for($ in r){var W=r[$];if(r.hasOwnProperty($)&&W!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=W;default:o.hasOwnProperty($)||Ie(e,i,$,null,o,W)}}for(var H in o){var $=o[H];if(W=r[H],o.hasOwnProperty(H)&&($!=null||W!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":z=$;break;case"defaultChecked":F=$;break;case"value":y=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==W&&Ie(e,i,H,$,o,W)}}Eu(e,y,_,N,z,F,d,h);return;case"select":$=y=_=H=null;for(d in r)if(N=r[d],r.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:o.hasOwnProperty(d)||Ie(e,i,d,null,o,N)}for(h in o)if(d=o[h],N=r[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":_=d;break;case"multiple":y=d;default:d!==N&&Ie(e,i,h,d,o,N)}i=_,r=y,o=$,H!=null?Na(e,!!r,H,!1):!!o!=!!r&&(i!=null?Na(e,!!r,i,!0):Na(e,!!r,r?[]:"",!1));return;case"textarea":$=H=null;for(_ in r)if(h=r[_],r.hasOwnProperty(_)&&h!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,i,_,null,o,h)}for(y in o)if(h=o[y],d=r[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ie(e,i,y,h,o,d)}nm(e,H,$);return;case"option":for(var ie in r)H=r[ie],r.hasOwnProperty(ie)&&H!=null&&!o.hasOwnProperty(ie)&&(ie==="selected"?e.selected=!1:Ie(e,i,ie,null,o,H));for(N in o)H=o[N],$=r[N],o.hasOwnProperty(N)&&H!==$&&(H!=null||$!=null)&&(N==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Ie(e,i,N,H,o,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in r)H=r[fe],r.hasOwnProperty(fe)&&H!=null&&!o.hasOwnProperty(fe)&&Ie(e,i,fe,null,o,H);for(z in o)if(H=o[z],$=r[z],o.hasOwnProperty(z)&&H!==$&&(H!=null||$!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ie(e,i,z,H,o,$)}return;default:if(xu(i)){for(var qe in r)H=r[qe],r.hasOwnProperty(qe)&&H!==void 0&&!o.hasOwnProperty(qe)&&hh(e,i,qe,void 0,o,H);for(F in o)H=o[F],$=r[F],!o.hasOwnProperty(F)||H===$||H===void 0&&$===void 0||hh(e,i,F,H,o,$);return}}for(var U in r)H=r[U],r.hasOwnProperty(U)&&H!=null&&!o.hasOwnProperty(U)&&Ie(e,i,U,null,o,H);for(W in o)H=o[W],$=r[W],!o.hasOwnProperty(W)||H===$||H==null&&$==null||Ie(e,i,W,H,o,$)}function ry(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],d=h.transferSize,y=h.initiatorType,_=h.duration;if(d&&_&&ry(y)){for(y=0,_=h.responseEnd,o+=1;o<r.length;o++){var N=r[o],z=N.startTime;if(z>_)break;var F=N.transferSize,W=N.initiatorType;F&&ry(W)&&(N=N.responseEnd,y+=F*(N<_?1:(_-z)/(N-z)))}if(--o,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fh=null,dh=null;function bl(e){return e.nodeType===9?e:e.ownerDocument}function oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function mh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ph=null;function EE(){var e=window.event;return e&&e.type==="popstate"?e===ph?!1:(ph=e,!0):(ph=null,!1)}var uy=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(e){return cy.resolve(null).then(e).catch(AE)}:uy;function AE(e){setTimeout(function(){throw e})}function Di(e){return e==="head"}function hy(e,i){var r=i,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),us(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")xr(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,xr(r);for(var d=r.firstChild;d;){var y=d.nextSibling,_=d.nodeName;d[Is]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&xr(e.ownerDocument.body);r=h}while(r);us(i)}function fy(e,i){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function gh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gh(r),_u(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function CE(e,i,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Is])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function RE(e,i,r){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=vn(e.nextSibling),e===null))return null;return e}function dy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=vn(e.nextSibling),e===null))return null;return e}function yh(e){return e.data==="$?"||e.data==="$~"}function vh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function OE(e,i){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function vn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var bh=null;function my(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(i===0)return vn(e.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}e=e.nextSibling}return null}function py(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return e;i--}else r!=="/$"&&r!=="/&"||i++}e=e.previousSibling}return null}function gy(e,i,r){switch(i=bl(r),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xr(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);_u(e)}var bn=new Map,yy=new Set;function wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=L.d;L.d={f:jE,r:NE,D:DE,C:kE,L:ME,m:UE,X:BE,S:LE,M:zE};function jE(){var e=ii.f(),i=hl();return e||i}function NE(e){var i=Ra(e);i!==null&&i.tag===5&&i.type==="form"?Mp(i):ii.r(e)}var rs=typeof document>"u"?null:document;function vy(e,i,r){var o=rs;if(o&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),yy.has(h)||(yy.add(h),e={rel:e,crossOrigin:r,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Rt(i,"link",e),_t(i),o.head.appendChild(i)))}}function DE(e){ii.D(e),vy("dns-prefetch",e,null)}function kE(e,i){ii.C(e,i),vy("preconnect",e,i)}function ME(e,i,r){ii.L(e,i,r);var o=rs;if(o&&e&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var d=h;switch(i){case"style":d=os(e);break;case"script":d=ls(e)}bn.has(d)||(e=v({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:e,as:i},r),bn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Ar(d))||i==="script"&&o.querySelector(Cr(d))||(i=o.createElement("link"),Rt(i,"link",e),_t(i),o.head.appendChild(i)))}}function UE(e,i){ii.m(e,i);var r=rs;if(r&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ls(e)}if(!bn.has(d)&&(e=v({rel:"modulepreload",href:e},i),bn.set(d,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Cr(d)))return}o=r.createElement("link"),Rt(o,"link",e),_t(o),r.head.appendChild(o)}}}function LE(e,i,r){ii.S(e,i,r);var o=rs;if(o&&e){var h=Oa(o).hoistableStyles,d=os(e);i=i||"default";var y=h.get(d);if(!y){var _={loading:0,preload:null};if(y=o.querySelector(Ar(d)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},r),(r=bn.get(d))&&wh(e,r);var N=y=o.createElement("link");_t(N),Rt(N,"link",e),N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,_l(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:_},h.set(d,y)}}}function BE(e,i){ii.X(e,i);var r=rs;if(r&&e){var o=Oa(r).hoistableScripts,h=ls(e),d=o.get(h);d||(d=r.querySelector(Cr(h)),d||(e=v({src:e,async:!0},i),(i=bn.get(h))&&_h(e,i),d=r.createElement("script"),_t(d),Rt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function zE(e,i){ii.M(e,i);var r=rs;if(r&&e){var o=Oa(r).hoistableScripts,h=ls(e),d=o.get(h);d||(d=r.querySelector(Cr(h)),d||(e=v({src:e,async:!0,type:"module"},i),(i=bn.get(h))&&_h(e,i),d=r.createElement("script"),_t(d),Rt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function by(e,i,r,o){var h=(h=le.current)?wl(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=os(r.href),r=Oa(h).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=os(r.href);var d=Oa(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Ar(e)))&&!d._p&&(y.instance=d,y.state.loading=5),bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(e,r),d||VE(h,e,r,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ls(r),r=Oa(h).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function os(e){return'href="'+hn(e)+'"'}function Ar(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function VE(e,i,r,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Rt(i,"link",r),_t(i),e.head.appendChild(i))}function ls(e){return'[src="'+hn(e)+'"]'}function Cr(e){return"script[async]"+e}function _y(e,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return i.instance=o,_t(o),o;var h=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_t(o),Rt(o,"style",h),_l(o,r.precedence,e),i.instance=o;case"stylesheet":h=os(r.href);var d=e.querySelector(Ar(h));if(d)return i.state.loading|=4,i.instance=d,_t(d),d;o=wy(r),(h=bn.get(h))&&wh(o,h),d=(e.ownerDocument||e).createElement("link"),_t(d);var y=d;return y._p=new Promise(function(_,N){y.onload=_,y.onerror=N}),Rt(d,"link",o),i.state.loading|=4,_l(d,r.precedence,e),i.instance=d;case"script":return d=ls(r.src),(h=e.querySelector(Cr(d)))?(i.instance=h,_t(h),h):(o=r,(h=bn.get(d))&&(o=v({},r),_h(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_t(h),Rt(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,_l(o,r.precedence,e));return i.instance}function _l(e,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var _=o[y];if(_.dataset.precedence===i)d=_;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(e,i.firstChild))}function wh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function _h(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Sl=null;function Sy(e,i,r){if(Sl===null){var o=new Map,h=Sl=new Map;h.set(r,o)}else h=Sl,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[Is]||d[Tt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var _=o.get(y);_?_.push(d):o.set(y,[d])}}return o}function Ey(e,i,r){e=e.ownerDocument||e,e.head.insertBefore(r,i==="title"?e.querySelector("head > title"):null)}function PE(e,i,r){if(r===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ty(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function HE(e,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=os(o.href),d=i.querySelector(Ar(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=El.bind(e),i.then(e,e)),r.state.loading|=4,r.instance=d,_t(d);return}d=i.ownerDocument||i,o=wy(o),(h=bn.get(h))&&wh(o,h),d=d.createElement("link"),_t(d);var y=d;y._p=new Promise(function(_,N){y.onload=_,y.onerror=N}),Rt(d,"link",o),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=El.bind(e),i.addEventListener("load",r),i.addEventListener("error",r))}}var Sh=0;function $E(e,i){return e.stylesheets&&e.count===0&&xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&xl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Sh===0&&(Sh=62500*SE());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Sh?50:800)+i);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function El(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function xl(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,i.forEach(IE,e),Tl=null,El.call(e))}function IE(e,i){if(!(i.state.loading&4)){var r=Tl.get(e);if(r)var o=r.get(null);else{r=new Map,Tl.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=r.get(y)||o,d===o&&r.set(null,h),r.set(y,h),this.count++,o=El.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Rr={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function qE(e,i,r,o,h,d,y,_,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.hiddenUpdates=yu(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function xy(e,i,r,o,h,d,y,_,N,z,F,W){return e=new qE(e,i,r,y,N,z,F,W,_),i=1,d===!0&&(i|=24),d=Xt(3,null,null,i),e.current=d,d.stateNode=e,i=tc(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:i},sc(d),e}function Ay(e){return e?(e=Va,e):Va}function Cy(e,i,r,o,h,d){h=Ay(h),o.context===null?o.context=h:o.pendingContext=h,o=_i(i),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Si(e,o,i),r!==null&&(Gt(r,e,i),rr(r,e,i))}function Ry(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<i?r:i}}function Eh(e,i){Ry(e,i),(e=e.alternate)&&Ry(e,i)}function Oy(e){if(e.tag===13||e.tag===31){var i=Qi(e,67108864);i!==null&&Gt(i,e,67108864),Eh(e,67108864)}}function jy(e){if(e.tag===13||e.tag===31){var i=en();i=vu(i);var r=Qi(e,i);r!==null&&Gt(r,e,i),Eh(e,i)}}var Al=!0;function GE(e,i,r,o){var h=I.T;I.T=null;var d=L.p;try{L.p=2,Th(e,i,r,o)}finally{L.p=d,I.T=h}}function KE(e,i,r,o){var h=I.T;I.T=null;var d=L.p;try{L.p=8,Th(e,i,r,o)}finally{L.p=d,I.T=h}}function Th(e,i,r,o){if(Al){var h=xh(o);if(h===null)ch(e,i,o,Cl,r),Dy(e,o);else if(FE(h,e,i,r,o))o.stopPropagation();else if(Dy(e,o),i&4&&-1<YE.indexOf(e)){for(;h!==null;){var d=Ra(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Yi(d.pendingLanes);if(y!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var N=1<<31-Yt(y);_.entanglements[1]|=N,y&=~N}Bn(d),(Me&6)===0&&(ul=Ue()+500,Sr(0))}}break;case 31:case 13:_=Qi(d,2),_!==null&&Gt(_,d,2),hl(),Eh(d,2)}if(d=xh(o),d===null&&ch(e,i,o,Cl,r),d===h)break;h=d}h!==null&&o.stopPropagation()}else ch(e,i,o,null,r)}}function xh(e){return e=Cu(e),Ah(e)}var Cl=null;function Ah(e){if(Cl=null,e=Ca(e),e!==null){var i=u(e);if(i===null)e=null;else{var r=i.tag;if(r===13){if(e=c(i),e!==null)return e;e=null}else if(r===31){if(e=f(i),e!==null)return e;e=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cl=e,null}function Ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case ot:return 2;case Et:return 8;case zt:case Vs:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var Ch=!1,ki=null,Mi=null,Ui=null,Or=new Map,jr=new Map,Li=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(e,i){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Or.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(i.pointerId)}}function Nr(e,i,r,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ra(i),i!==null&&Oy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function FE(e,i,r,o,h){switch(i){case"focusin":return ki=Nr(ki,e,i,r,o,h),!0;case"dragenter":return Mi=Nr(Mi,e,i,r,o,h),!0;case"mouseover":return Ui=Nr(Ui,e,i,r,o,h),!0;case"pointerover":var d=h.pointerId;return Or.set(d,Nr(Or.get(d)||null,e,i,r,o,h)),!0;case"gotpointercapture":return d=h.pointerId,jr.set(d,Nr(jr.get(d)||null,e,i,r,o,h)),!0}return!1}function ky(e){var i=Ca(e.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){e.blockedOn=i,Yd(e.priority,function(){jy(r)});return}}else if(i===31){if(i=f(r),i!==null){e.blockedOn=i,Yd(e.priority,function(){jy(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var r=xh(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Au=o,r.target.dispatchEvent(o),Au=null}else return i=Ra(r),i!==null&&Oy(i),e.blockedOn=r,!1;i.shift()}return!0}function My(e,i,r){Rl(e)&&r.delete(i)}function XE(){Ch=!1,ki!==null&&Rl(ki)&&(ki=null),Mi!==null&&Rl(Mi)&&(Mi=null),Ui!==null&&Rl(Ui)&&(Ui=null),Or.forEach(My),jr.forEach(My)}function Ol(e,i){e.blockedOn===i&&(e.blockedOn=null,Ch||(Ch=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XE)))}var jl=null;function Uy(e){jl!==e&&(jl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var i=0;i<e.length;i+=3){var r=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Ah(o||r)===null)continue;break}var d=Ra(r);d!==null&&(e.splice(i,3),i-=3,xc(d,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function us(e){function i(N){return Ol(N,e)}ki!==null&&Ol(ki,e),Mi!==null&&Ol(Mi,e),Ui!==null&&Ol(Ui,e),Or.forEach(i),jr.forEach(i);for(var r=0;r<Li.length;r++){var o=Li[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Li.length&&(r=Li[0],r.blockedOn===null);)ky(r),r.blockedOn===null&&Li.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],d=r[o+1],y=h[Vt]||null;if(typeof d=="function")y||Uy(r);else if(y){var _=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Vt]||null)_=y.formAction;else if(Ah(h)!==null)continue}else _=y.action;typeof _=="function"?r[o+1]=_:(r.splice(o,3),o-=3),Uy(r)}}}function Ly(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Rh(e){this._internalRoot=e}Nl.prototype.render=Rh.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,o=en();Cy(r,o,e,i,null,null)},Nl.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Cy(e.current,2,null,e,null,null),hl(),i[Aa]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kd();e={blockedOn:null,target:e,priority:i};for(var r=0;r<Li.length&&i!==0&&i<Li[r].priority;r++);Li.splice(r,0,e),r===0&&ky(e)}};var By=t.version;if(By!=="19.2.3")throw Error(s(527,By,"19.2.3"));L.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var JE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{En=Dl.inject(JE),Dt=Dl}catch{}}return kr.createRoot=function(e,i){if(!l(e))throw Error(s(299));var r=!1,o="",h=qp,d=Gp,y=Kp;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=xy(e,1,!1,null,null,r,o,null,h,d,y,Ly),e[Aa]=i.current,uh(e),new Rh(i)},kr.hydrateRoot=function(e,i,r){if(!l(e))throw Error(s(299));var o=!1,h="",d=qp,y=Gp,_=Kp,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),i=xy(e,1,!0,i,r??null,o,h,N,d,y,_,Ly),i.context=Ay(null),r=i.current,o=en(),o=vu(o),h=_i(o),h.callback=null,Si(r,h,o),r=o,i.current.lanes=r,$s(i,r),Bn(i),e[Aa]=i.current,uh(e),new Nl(i)},kr.version="19.2.3",kr}var Yy;function rT(){if(Yy)return Nh.exports;Yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Nh.exports=sT(),Nh.exports}var oT=rT();var Fy="popstate";function lT(n={}){function t(l,u){let{pathname:c="/",search:f="",hash:m=""}=xa(l.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),cf("",{pathname:c,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(l,u){let c=l.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=l.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof u=="string"?u:Kr(u))}function s(l,u){sn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return cT(t,a,s,n)}function Qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uT(){return Math.random().toString(36).substring(2,10)}function Xy(n,t){return{usr:n.state,key:n.key,idx:t}}function cf(n,t,a=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?xa(t):t,state:a,key:t&&t.key||s||uT()}}function Kr({pathname:n="/",search:t="",hash:a=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function xa(n){let t={};if(n){let a=n.indexOf("#");a>=0&&(t.hash=n.substring(a),n=n.substring(0,a));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function cT(n,t,a,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,f="POP",m=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let O=g(),j=O==null?null:O-p;p=O,m&&m({action:f,location:T.location,delta:j})}function b(O,j){f="PUSH";let D=cf(T.location,O,j);a&&a(D,O),p=g()+1;let A=Xy(D,p),P=T.createHref(D);try{c.pushState(A,"",P)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(P)}u&&m&&m({action:f,location:T.location,delta:1})}function w(O,j){f="REPLACE";let D=cf(T.location,O,j);a&&a(D,O),p=g();let A=Xy(D,p),P=T.createHref(D);c.replaceState(A,"",P),u&&m&&m({action:f,location:T.location,delta:0})}function E(O){return hT(O)}let T={get action(){return f},get location(){return n(l,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Fy,v),m=O,()=>{l.removeEventListener(Fy,v),m=null}},createHref(O){return t(l,O)},createURL:E,encodeLocation(O){let j=E(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(O){return c.go(O)}};return T}function hT(n,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(a,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Kr(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function rb(n,t,a="/"){return fT(n,t,a,!1)}function fT(n,t,a,s){let l=typeof t=="string"?xa(t):t,u=oi(l.pathname||"/",a);if(u==null)return null;let c=ob(n);dT(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=TT(u);f=ST(c[m],p,s)}return f}function ob(n,t=[],a=[],s="",l=!1){let u=(c,f,m=l,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&m)return;Qe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=ri([s,g.relativePath]),b=a.concat(g);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ob(c.children,t,b,v,m)),!(c.path==null&&!c.index)&&t.push({path:v,score:wT(v,c.index),routesMeta:b})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let m of lb(c.path))u(c,f,!0,m)}),t}function lb(n){let t=n.split("/");if(t.length===0)return[];let[a,...s]=t,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=lb(s.join("/")),f=[];return f.push(...c.map(m=>m===""?u:[u,m].join("/"))),l&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function dT(n){n.sort((t,a)=>t.score!==a.score?a.score-t.score:_T(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var mT=/^:[\w-]+$/,pT=3,gT=2,yT=1,vT=10,bT=-2,Jy=n=>n==="*";function wT(n,t){let a=n.split("/"),s=a.length;return a.some(Jy)&&(s+=bT),t&&(s+=gT),a.filter(l=>!Jy(l)).reduce((l,u)=>l+(mT.test(u)?pT:u===""?yT:vT),s)}function _T(n,t){return n.length===t.length&&n.slice(0,-1).every((s,l)=>s===t[l])?n[n.length-1]-t[t.length-1]:0}function ST(n,t,a=!1){let{routesMeta:s}=n,l={},u="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=Wl({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),b=m.route;if(!v&&p&&a&&!s[s.length-1].route.index&&(v=Wl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),c.push({params:l,pathname:ri([u,v.pathname]),pathnameBase:RT(ri([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=ri([u,v.pathnameBase]))}return c}function Wl(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,s]=ET(n.path,n.caseSensitive,n.end),l=t.match(a);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let E=f[b]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=f[b];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function ET(n,t=!1,a=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function TT(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function oi(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=n.charAt(a);return s&&s!=="/"?null:n.slice(a)||"/"}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xT=n=>ub.test(n);function AT(n,t="/"){let{pathname:a,search:s="",hash:l=""}=typeof n=="string"?xa(n):n,u;if(a)if(xT(a))u=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${a}`)}a.startsWith("/")?u=Wy(a.substring(1),"/"):u=Wy(a,t)}else u=t;return{pathname:u,search:OT(s),hash:jT(l)}}function Wy(n,t){let a=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Uh(n,t,a,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CT(n){return n.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Xf(n){let t=CT(n);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function Jf(n,t,a,s=!1){let l;typeof n=="string"?l=xa(n):(l={...n},Qe(!l.pathname||!l.pathname.includes("?"),Uh("?","pathname","search",l)),Qe(!l.pathname||!l.pathname.includes("#"),Uh("#","pathname","hash",l)),Qe(!l.search||!l.search.includes("#"),Uh("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=a;else{let v=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;l.pathname=b.join("/")}f=v>=0?t[v]:"/"}let m=AT(l,f),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var ri=n=>n.join("/").replace(/\/\/+/g,"/"),RT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,NT=class{constructor(n,t,a,s=!1){this.status=n,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function DT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function kT(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(n,t){let a=n;if(typeof a!="string"||!ub.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,l=!1;if(cb)try{let u=new URL(window.location.href),c=a.startsWith("//")?new URL(u.protocol+a):new URL(a),f=oi(c.pathname,t);c.origin===u.origin&&f!=null?a=f+c.search+c.hash:l=!0}catch{sn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fb=["POST","PUT","PATCH","DELETE"];new Set(fb);var MT=["GET",...fb];new Set(MT);var Ns=x.createContext(null);Ns.displayName="DataRouter";var ou=x.createContext(null);ou.displayName="DataRouterState";var UT=x.createContext(!1),db=x.createContext({isTransitioning:!1});db.displayName="ViewTransition";var LT=x.createContext(new Map);LT.displayName="Fetchers";var BT=x.createContext(null);BT.displayName="Await";var rn=x.createContext(null);rn.displayName="Navigation";var oo=x.createContext(null);oo.displayName="Location";var Dn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Wf=x.createContext(null);Wf.displayName="RouteError";var mb="REACT_ROUTER_ERROR",zT="REDIRECT",VT="ROUTE_ERROR_RESPONSE";function PT(n){if(n.startsWith(`${mb}:${zT}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function HT(n){if(n.startsWith(`${mb}:${VT}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NT(t.status,t.statusText,t.data)}catch{}}function $T(n,{relative:t}={}){Qe(Ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=x.useContext(rn),{hash:l,pathname:u,search:c}=lo(n,{relative:t}),f=u;return a!=="/"&&(f=u==="/"?a:ri([a,u])),s.createHref({pathname:f,search:c,hash:l})}function Ds(){return x.useContext(oo)!=null}function ci(){return Qe(Ds(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(oo).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(n){x.useContext(rn).static||x.useLayoutEffect(n)}function ks(){let{isDataRoute:n}=x.useContext(Dn);return n?nx():IT()}function IT(){Qe(Ds(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(Ns),{basename:t,navigator:a}=x.useContext(rn),{matches:s}=x.useContext(Dn),{pathname:l}=ci(),u=JSON.stringify(Xf(s)),c=x.useRef(!1);return gb(()=>{c.current=!0}),x.useCallback((m,p={})=>{if(sn(c.current,pb),!c.current)return;if(typeof m=="number"){a.go(m);return}let g=Jf(m,JSON.parse(u),l,p.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ri([t,g.pathname])),(p.replace?a.replace:a.push)(g,p.state,p)},[t,a,u,l,n])}x.createContext(null);function qT(){let{matches:n}=x.useContext(Dn),t=n[n.length-1];return t?t.params:{}}function lo(n,{relative:t}={}){let{matches:a}=x.useContext(Dn),{pathname:s}=ci(),l=JSON.stringify(Xf(a));return x.useMemo(()=>Jf(n,JSON.parse(l),s,t==="path"),[n,l,s,t])}function GT(n,t){return yb(n,t)}function yb(n,t,a,s,l){Qe(Ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=x.useContext(rn),{matches:c}=x.useContext(Dn),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let D=v&&v.path||"";bb(p,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=ci(),w;if(t){let D=typeof t=="string"?xa(t):t;Qe(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=b;let E=w.pathname||"/",T=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=rb(n,{pathname:T});sn(v||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),sn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=JT(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:ri([g,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ri([g,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,a,s,l);return t&&j?x.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function KT(){let n=tx(),t=DT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:l},a):null,c)}var YT=x.createElement(KT,null),vb=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const a=HT(n.digest);a&&(n=a)}let t=n!==void 0?x.createElement(Dn.Provider,{value:this.props.routeContext},x.createElement(Wf.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?x.createElement(FT,{error:n},t):t}};vb.contextType=UT;var Lh=new WeakMap;function FT({children:n,error:t}){let{basename:a}=x.useContext(rn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=PT(t.digest);if(s){let l=Lh.get(t);if(l)throw l;let u=hb(s.location,a);if(cb&&!Lh.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Lh.set(t,c),c}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function XT({routeContext:n,match:t,children:a}){let s=x.useContext(Ns);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Dn.Provider,{value:n},a)}function JT(n,t=[],a=null,s=null,l=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let u=n,c=a?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,m=-1;if(a)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:b,errors:w}=a,E=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||E){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=a&&s?(g,v)=>{s(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:kT(a.matches),errorInfo:v})}:void 0;return u.reduceRight((g,v,b)=>{let w,E=!1,T=null,O=null;a&&(w=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||YT,f&&(m<0&&b===0?(bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):m===b&&(E=!0,O=v.route.hydrateFallbackElement||null)));let j=t.concat(u.slice(0,b+1)),D=()=>{let A;return w?A=T:E?A=O:v.route.Component?A=x.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=g,x.createElement(XT,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:a!=null},children:A})};return a&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?x.createElement(vb,{location:a.location,revalidation:a.revalidation,component:T,error:w,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):D()},null)}function Qf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(n){let t=x.useContext(Ns);return Qe(t,Qf(n)),t}function QT(n){let t=x.useContext(ou);return Qe(t,Qf(n)),t}function ZT(n){let t=x.useContext(Dn);return Qe(t,Qf(n)),t}function Zf(n){let t=ZT(n),a=t.matches[t.matches.length-1];return Qe(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function ex(){return Zf("useRouteId")}function tx(){let n=x.useContext(Wf),t=QT("useRouteError"),a=Zf("useRouteError");return n!==void 0?n:t.errors?.[a]}function nx(){let{router:n}=WT("useNavigate"),t=Zf("useNavigate"),a=x.useRef(!1);return gb(()=>{a.current=!0}),x.useCallback(async(l,u={})=>{sn(a.current,pb),a.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...u}))},[n,t])}var Qy={};function bb(n,t,a){!t&&!Qy[n]&&(Qy[n]=!0,sn(!1,a))}x.memo(ix);function ix({routes:n,future:t,state:a,onError:s}){return yb(n,void 0,a,s,t)}function ax({to:n,replace:t,state:a,relative:s}){Qe(Ds(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(rn);sn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(Dn),{pathname:c}=ci(),f=ks(),m=Jf(n,Xf(u),c,s==="path"),p=JSON.stringify(m);return x.useEffect(()=>{f(JSON.parse(p),{replace:t,state:a,relative:s})},[f,p,s,t,a]),null}function ys(n){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sx({basename:n="/",children:t=null,location:a,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){Qe(!Ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof a=="string"&&(a=xa(a));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=a,E=x.useMemo(()=>{let T=oi(p,f);return T==null?null:{location:{pathname:T,search:g,hash:v,state:b,key:w},navigationType:s}},[f,p,g,v,b,w,s]);return sn(E!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(rn.Provider,{value:m},x.createElement(oo.Provider,{children:t,value:E}))}function rx({children:n,location:t}){return GT(hf(n),t)}function hf(n,t=[]){let a=[];return x.Children.forEach(n,(s,l)=>{if(!x.isValidElement(s))return;let u=[...t,l];if(s.type===x.Fragment){a.push.apply(a,hf(s.props.children,u));return}Qe(s.type===ys,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=hf(s.props.children,u)),a.push(c)}),a}var Il="get",ql="application/x-www-form-urlencoded";function lu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ox(n){return lu(n)&&n.tagName.toLowerCase()==="button"}function lx(n){return lu(n)&&n.tagName.toLowerCase()==="form"}function ux(n){return lu(n)&&n.tagName.toLowerCase()==="input"}function cx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hx(n,t){return n.button===0&&(!t||t==="_self")&&!cx(n)}var kl=null;function fx(){if(kl===null)try{new FormData(document.createElement("form"),0),kl=!1}catch{kl=!0}return kl}var dx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bh(n){return n!=null&&!dx.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):n}function mx(n,t){let a,s,l,u,c;if(lx(n)){let f=n.getAttribute("action");s=f?oi(f,t):null,a=n.getAttribute("method")||Il,l=Bh(n.getAttribute("enctype"))||ql,u=new FormData(n)}else if(ox(n)||ux(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(s=m?oi(m,t):null,a=n.getAttribute("formmethod")||f.getAttribute("method")||Il,l=Bh(n.getAttribute("formenctype"))||Bh(f.getAttribute("enctype"))||ql,u=new FormData(f,n),!fx()){let{name:p,type:g,value:v}=n;if(g==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,v)}}else{if(lu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Il,s=null,l=ql,c=n}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ed(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function px(n,t,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${a}`:t&&oi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function gx(n,t){if(n.id in t)return t[n.id];try{let a=await import(n.module);return t[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vx(n,t,a){let s=await Promise.all(n.map(async l=>{let u=t.routes[l.route.id];if(u){let c=await gx(u,a);return c.links?c.links():[]}return[]}));return Sx(s.flat(1).filter(yx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Zy(n,t,a,s,l,u){let c=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,f=(m,p)=>a[p].pathname!==m.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):u==="data"?t.filter((m,p)=>{let g=s.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bx(n,t,{includeHydrateFallback:a}={}){return wx(n.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function wx(n){return[...new Set(n)]}function _x(n){let t={},a=Object.keys(n).sort();for(let s of a)t[s]=n[s];return t}function Sx(n,t){let a=new Set;return new Set(t),n.reduce((s,l)=>{let u=JSON.stringify(_x(l));return a.has(u)||(a.add(u),s.push({key:u,link:l})),s},[])}function wb(){let n=x.useContext(Ns);return ed(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ex(){let n=x.useContext(ou);return ed(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var td=x.createContext(void 0);td.displayName="FrameworkContext";function _b(){let n=x.useContext(td);return ed(n,"You must render this element inside a <HydratedRouter> element"),n}function Tx(n,t){let a=x.useContext(td),[s,l]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,b=x.useRef(null);x.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=j=>{j.forEach(D=>{c(D.isIntersecting)})},O=new IntersectionObserver(T,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[n]),x.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let w=()=>{l(!0)},E=()=>{l(!1),c(!1)};return a?n!=="intent"?[u,b,{}]:[u,b,{onFocus:Mr(f,w),onBlur:Mr(m,E),onMouseEnter:Mr(p,w),onMouseLeave:Mr(g,E),onTouchStart:Mr(v,w)}]:[!1,b,{}]}function Mr(n,t){return a=>{n&&n(a),a.defaultPrevented||t(a)}}function xx({page:n,...t}){let{router:a}=wb(),s=x.useMemo(()=>rb(a.routes,n,a.basename),[a.routes,n,a.basename]);return s?x.createElement(Cx,{page:n,matches:s,...t}):null}function Ax(n){let{manifest:t,routeModules:a}=_b(),[s,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return vx(n,t,a).then(c=>{u||l(c)}),()=>{u=!0}},[n,t,a]),s}function Cx({page:n,matches:t,...a}){let s=ci(),{manifest:l,routeModules:u}=_b(),{basename:c}=wb(),{loaderData:f,matches:m}=Ex(),p=x.useMemo(()=>Zy(n,t,m,l,s,"data"),[n,t,m,l,s]),g=x.useMemo(()=>Zy(n,t,m,l,s,"assets"),[n,t,m,l,s]),v=x.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let E=new Set,T=!1;if(t.forEach(j=>{let D=l.routes[j.route.id];!D||!D.hasLoader||(!p.some(A=>A.route.id===j.route.id)&&j.route.id in f&&u[j.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:E.add(j.route.id))}),E.size===0)return[];let O=px(n,c,"data");return T&&E.size>0&&O.searchParams.set("_routes",t.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,f,s,l,p,t,n,u]),b=x.useMemo(()=>bx(g,l),[g,l]),w=Ax(g);return x.createElement(x.Fragment,null,v.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...a})),b.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...a})),w.map(({key:E,link:T})=>x.createElement("link",{key:E,nonce:a.nonce,...T})))}function Rx(...n){return t=>{n.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ox&&(window.__reactRouterVersion="7.11.0")}catch{}function jx({basename:n,children:t,unstable_useTransitions:a,window:s}){let l=x.useRef();l.current==null&&(l.current=lT({window:s,v5Compat:!0}));let u=l.current,[c,f]=x.useState({action:u.action,location:u.location}),m=x.useCallback(p=>{a===!1?f(p):x.startTransition(()=>f(p))},[a]);return x.useLayoutEffect(()=>u.listen(m),[u,m]),x.createElement(sx,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:a})}var Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=x.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:f,target:m,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},E){let{basename:T,unstable_useTransitions:O}=x.useContext(rn),j=typeof p=="string"&&Sb.test(p),D=hb(p,T);p=D.to;let A=$T(p,{relative:l}),[P,q,X]=Tx(s,w),G=Mx(p,{replace:c,state:f,target:m,preventScrollReset:g,relative:l,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:O});function C(K){t&&t(K),K.defaultPrevented||G(K)}let k=x.createElement("a",{...w,...X,href:D.absoluteURL||A,onClick:D.isExternal||u?t:C,ref:Rx(E,q),target:m,"data-discover":!j&&a==="render"?"true":void 0});return P&&!j?x.createElement(x.Fragment,null,k,x.createElement(xx,{page:A})):k});si.displayName="Link";var Nx=x.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:f,children:m,...p},g){let v=lo(c,{relative:p.relative}),b=ci(),w=x.useContext(ou),{navigator:E,basename:T}=x.useContext(rn),O=w!=null&&Vx(v)&&f===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,D=b.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(D=D.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&T&&(A=oi(A,T)||A);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=D===j||!l&&D.startsWith(j)&&D.charAt(P)==="/",X=A!=null&&(A===j||!l&&A.startsWith(j)&&A.charAt(j.length)==="/"),G={isActive:q,isPending:X,isTransitioning:O},C=q?t:void 0,k;typeof s=="function"?k=s(G):k=[s,q?"active":null,X?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(G):u;return x.createElement(si,{...p,"aria-current":C,className:k,ref:g,style:K,to:c,viewTransition:f},typeof m=="function"?m(G):m)});Nx.displayName="NavLink";var Dx=x.forwardRef(({discover:n="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:l,state:u,method:c=Il,action:f,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},E)=>{let{unstable_useTransitions:T}=x.useContext(rn),O=Bx(),j=zx(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&Sb.test(f),P=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,G=X?.getAttribute("formmethod")||c,C=()=>O(X||q.currentTarget,{fetcherKey:t,method:G,navigate:a,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b});T&&a!==!1?x.startTransition(()=>C()):C()};return x.createElement("form",{ref:E,method:D,action:j,onSubmit:s?m:P,...w,"data-discover":!A&&n==="render"?"true":void 0})});Dx.displayName="Form";function kx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(n){let t=x.useContext(Ns);return Qe(t,kx(n)),t}function Mx(n,{target:t,replace:a,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=ks(),g=ci(),v=lo(n,{relative:u});return x.useCallback(b=>{if(hx(b,t)){b.preventDefault();let w=a!==void 0?a:Kr(g)===Kr(v),E=()=>p(n,{replace:w,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});m?x.startTransition(()=>E()):E()}},[g,p,v,a,s,t,n,l,u,c,f,m])}var Ux=0,Lx=()=>`__${String(++Ux)}__`;function Bx(){let{router:n}=Eb("useSubmit"),{basename:t}=x.useContext(rn),a=ex(),s=n.fetch,l=n.navigate;return x.useCallback(async(u,c={})=>{let{action:f,method:m,encType:p,formData:g,body:v}=mx(u,t);if(c.navigate===!1){let b=c.fetcherKey||Lx();await s(b,a,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,t,a])}function zx(n,{relative:t}={}){let{basename:a}=x.useContext(rn),s=x.useContext(Dn);Qe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...lo(n||".",{relative:t})},c=ci();if(n==null){u.search=c.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ri([a,u.pathname])),Kr(u)}function Vx(n,{relative:t}={}){let a=x.useContext(db);Qe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Eb("useViewTransitionState"),l=lo(n,{relative:t});if(!a.isTransitioning)return!1;let u=oi(a.currentLocation.pathname,s)||a.currentLocation.pathname,c=oi(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Wl(l.pathname,c)!=null||Wl(l.pathname,u)!=null}const Tb=x.createContext({title:"QuartettNation",setTitle:()=>{},backTo:null,setBackTo:()=>{},customContent:null,setCustomContent:()=>{}}),Px=({children:n})=>{const[t,a]=x.useState("QuartettNation"),[s,l]=x.useState(null),[u,c]=x.useState(null);return S.jsx(Tb.Provider,{value:{title:t,setTitle:a,backTo:s,setBackTo:l,customContent:u,setCustomContent:c},children:n})},Ms=()=>x.useContext(Tb),Je=({children:n,variant:t="primary",size:a="md",loading:s=!1,disabled:l=!1,fullWidth:u=!1,onClick:c,type:f="button",className:m="",...p})=>{const g=["btn",`btn-${t}`,`btn-${a}`,u&&"btn-full",s&&"btn-loading",m].filter(Boolean).join(" ");return S.jsxs("button",{type:f,className:g,disabled:l||s,onClick:c,...p,children:[s&&S.jsx("span",{className:"btn-spinner"}),S.jsx("span",{className:s?"btn-text-hidden":"",children:n})]})},_a=({label:n,error:t,disabled:a=!1,fullWidth:s=!0,className:l="",...u})=>S.jsxs("div",{className:`input-wrapper ${s?"input-full":""} ${l}`,children:[n&&S.jsx("label",{className:"input-label",children:n}),S.jsx("input",{className:`input-field ${t?"input-error":""}`,disabled:a,...u}),t&&S.jsx("span",{className:"input-error-text",children:t})]}),Hx=({open:n,onClose:t,title:a,children:s})=>(x.useEffect(()=>{const l=u=>{u.key==="Escape"&&t?.()};return n&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow=""}},[n,t]),n?S.jsx("div",{className:"modal-overlay",onClick:t,children:S.jsxs("div",{className:"modal-container",onClick:l=>l.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[a&&S.jsx("h3",{className:"modal-title",children:a}),S.jsx("button",{className:"modal-close",onClick:t,children:""})]}),S.jsx("div",{className:"modal-body",children:s})]})}):null),$x=({size:n="md",className:t=""})=>S.jsx("div",{className:`spinner spinner-${n} ${t}`}),xb=({icon:n="",message:t="Nothing here yet",children:a})=>S.jsxs("div",{className:"empty-state",children:[S.jsx("span",{className:"empty-icon",children:n}),S.jsx("p",{className:"empty-message",children:t}),a]});const Ix=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),ev=n=>{const t=qx(n);return t.charAt(0).toUpperCase()+t.slice(1)},Ab=(...n)=>n.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),Gx=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yx=x.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:c,...f},m)=>x.createElement("svg",{ref:m,...Kx,width:t,height:t,stroke:n,strokeWidth:s?Number(a)*24/Number(t):a,className:Ab("lucide",l),...!u&&!Gx(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,g])=>x.createElement(p,g)),...Array.isArray(u)?u:[u]]));const uo=(n,t)=>{const a=x.forwardRef(({className:s,...l},u)=>x.createElement(Yx,{ref:u,iconNode:t,className:Ab(`lucide-${Ix(ev(n))}`,`lucide-${n}`,s),...l}));return a.displayName=ev(n),a};const Fx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cb=uo("arrow-left",Fx);const Xx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Jx=uo("grid-3x3",Xx);const Wx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Qx=uo("list",Wx);const Zx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eA=uo("pencil",Zx);const tA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nA=uo("trash-2",tA),iA=({children:n})=>{const t=ci(),a=ks(),{title:s,Jl:l,backTo:u,customContent:c}=Ms(),f=t.pathname==="/"&&!u,m=()=>{typeof u=="function"?u():a(typeof u=="string"?u:-1)};return S.jsxs("div",{className:"app-container",children:[S.jsxs("header",{className:"app-header",children:[f?S.jsxs(si,{to:"/",className:"logo",children:["Quartett",S.jsx("span",{children:"Nation"})]}):S.jsxs("div",{className:"header-dynamic",style:{display:"flex",alignItems:"center",width:"100%",padding:"0 var(--spacing-md)"},children:[u&&S.jsxs(Je,{variant:"ghost",size:"sm",onClick:m,style:{paddingLeft:0,marginRight:"var(--spacing-md)"},children:[S.jsx(Cb,{size:20,style:{marginRight:"4px"}}),"Back"]}),S.jsx("h2",{className:"header-title gradient-text",style:{fontSize:"1.2rem",margin:0,flex:1,textAlign:"center",paddingRight:u?"60px":"0"},children:s})]}),c]}),S.jsx("main",{className:"app-main",children:n}),S.jsx("footer",{className:"app-footer",children:S.jsxs("nav",{className:"bottom-nav",children:[S.jsx(si,{to:"/",className:t.pathname==="/"?"active":"",children:"Home"}),S.jsx(si,{to:"/create",className:t.pathname==="/create"?"active":"",children:"Create"}),S.jsx(si,{to:"/collection",className:t.pathname==="/collection"?"active":"",children:"Decks"})]})})]})};function uu(n,t){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(a[s[l]]=n[s[l]]);return a}function aA(n,t,a,s){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(g){try{p(s.next(g))}catch(v){c(v)}}function m(g){try{p(s.throw(g))}catch(v){c(v)}}function p(g){g.done?u(g.value):l(g.value).then(f,m)}p((s=s.apply(n,t||[])).next())})}const sA=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class nd extends Error{constructor(t,a="FunctionsError",s){super(t),this.name=a,this.context=s}}class rA extends nd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tv extends nd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nv extends nd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ff;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ff||(ff={}));class oA{constructor(t,{headers:a={},customFetch:s,region:l=ff.Any}={}){this.url=t,this.headers=a,this.region=l,this.fetch=sA(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return aA(this,arguments,void 0,function*(a,s={}){var l;let u,c;try{const{headers:f,method:m,body:p,signal:g,timeout:v}=s;let b={},{region:w}=s;w||(w=this.region);const E=new URL(`${this.url}/${a}`);w&&w!=="any"&&(b["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let T;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(b["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(b["Content-Type"]="application/json",T=JSON.stringify(p)):T=p;let O=g;v&&(c=new AbortController,u=setTimeout(()=>c.abort(),v),g?(O=c.signal,g.addEventListener("abort",()=>c.abort())):O=c.signal);const j=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:T,signal:O}).catch(q=>{throw new rA(q)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new tv(j);if(!j.ok)throw new nv(j);let A=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield j.json():A==="application/octet-stream"||A==="application/pdf"?P=yield j.blob():A==="text/event-stream"?P=j:A==="multipart/form-data"?P=yield j.formData():P=yield j.text(),{data:P,error:null,response:j}}catch(f){return{data:null,error:f,response:f instanceof nv||f instanceof tv?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var lA=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},uA=class{constructor(n){var t,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,m=null,p=u.status,g=u.statusText;if(u.ok){var v,b;if(a.method!=="HEAD"){var w;const j=await u.text();j===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((w=a.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const T=(v=a.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&O&&O.length>1&&(m=parseInt(O[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const T=await u.text();try{c=JSON.parse(T),Array.isArray(c)&&u.status===404&&(f=[],c=null,p=200,g="OK")}catch{u.status===404&&T===""?(p=204,g="No Content"):c={message:T}}if(c&&a.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&a.shouldThrowOnError)throw new lA(c)}return{error:c,data:f,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var c;let f="";const m=u?.cause;if(m){var p,g,v,b;const E=(p=m?.message)!==null&&p!==void 0?p:"",T=(g=m?.code)!==null&&g!==void 0?g:"";f=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(b=m?.name)!==null&&b!==void 0?b:"Error"}: ${E}`,T&&(f+=` (${T})`),m?.stack&&(f+=`
${m.stack}`)}else{var w;f=(w=u?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},cA=class extends uA{select(n){let t=!1;const a=(n??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const f=[n?"analyze":null,t?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const iv=new RegExp("[,()]");var vs=class extends cA{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(s=>typeof s=="string"&&iv.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,t){const a=Array.from(new Set(t)).map(s=>typeof s=="string"&&iv.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${l}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}},hA=class{constructor(n,{headers:t={},schema:a,fetch:s}){this.url=n,this.headers=new Headers(t),this.schema=a,this.fetch=s}select(n,t){const{head:a=!1,count:s}=t??{},l=a?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new vs({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:a=!0}={}){var s;const l="POST";if(t&&this.headers.append("Prefer",`count=${t}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new vs({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new vs({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var a;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new vs({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:n}={}){var t;const a="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new vs({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},fA=class Rb{constructor(t,{headers:a={},schema:s,fetch:l}={}){this.url=t,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hA(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let f;const m=new URL(`${this.url}/rpc/${t}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(a).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{m.searchParams.append(v,b)})):(f="POST",p=a);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new vs({method:f,url:m,headers:g,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class dA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const s=a.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const s=this.getWebSocketConstructor();return new s(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mA="2.89.0",pA=`realtime-js/${mA}`,Ob="1.0.0",gA="2.0.0",av=Ob,df=1e4,yA=1e3,vA=100;var Vi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Vi||(Vi={}));var yt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(yt||(yt={}));var Nn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Nn||(Nn={}));var mf;(function(n){n.websocket="websocket"})(mf||(mf={}));var ga;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ga||(ga={}));class bA{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,s;const l=(s=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var a,s;const l=(s=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,a,s){var l,u;const c=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+c.length+p.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(w),T=0;E.setUint8(T++,this.KINDS.userBroadcastPush),E.setUint8(T++,m.length),E.setUint8(T++,f.length),E.setUint8(T++,c.length),E.setUint8(T++,p.length),E.setUint8(T++,v.length),E.setUint8(T++,a),Array.from(m,j=>E.setUint8(T++,j.charCodeAt(0))),Array.from(f,j=>E.setUint8(T++,j.charCodeAt(0))),Array.from(c,j=>E.setUint8(T++,j.charCodeAt(0))),Array.from(p,j=>E.setUint8(T++,j.charCodeAt(0))),Array.from(v,j=>E.setUint8(T++,j.charCodeAt(0)));var O=new Uint8Array(w.byteLength+s.byteLength);return O.set(new Uint8Array(w),0),O.set(new Uint8Array(s),w.byteLength),O.buffer}decode(t,a){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return a(s)}if(typeof t=="string"){const s=JSON.parse(t),[l,u,c,f,m]=s;return a({join_ref:l,ref:u,topic:c,event:f,payload:m})}return a({})}_binaryDecode(t){const a=new DataView(t),s=a.getUint8(0),l=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,l)}_decodeUserBroadcast(t,a,s){const l=a.getUint8(1),u=a.getUint8(2),c=a.getUint8(3),f=a.getUint8(4);let m=this.HEADER_LENGTH+4;const p=s.decode(t.slice(m,m+l));m=m+l;const g=s.decode(t.slice(m,m+u));m=m+u;const v=s.decode(t.slice(m,m+c));m=m+c;const b=t.slice(m,t.byteLength),w=f===this.JSON_ENCODING?JSON.parse(s.decode(b)):b,E={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>a.includes(s)))}}class jb{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ke||(Ke={}));const sv=(n,t,a={})=>{var s;const l=(s=a.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=wA(c,n,t,l),u),{}):{}},wA=(n,t,a,s)=>{const l=t.find(f=>f.name===n),u=l?.type,c=a[n];return u&&!s.includes(u)?Nb(u,c):pf(c)},Nb=(n,t)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return TA(t,a)}switch(n){case Ke.bool:return _A(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return SA(t);case Ke.json:case Ke.jsonb:return EA(t);case Ke.timestamp:return xA(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return pf(t);default:return pf(t)}},pf=n=>n,_A=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},SA=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},EA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},TA=(n,t)=>{if(typeof n!="string")return n;const a=n.length-1,s=n[a];if(n[0]==="{"&&s==="}"){let u;const c=n.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>Nb(t,f))}return n},xA=n=>typeof n=="string"?n.replace(" ","T"):n,Db=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class zh{constructor(t,a,s={},l=df){this.channel=t,this.event=a,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var s;return this._hasReceived(t)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(rv||(rv={}));class Vr{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,l,u,c),this.pendingDiffs.forEach(m=>{this.state=Vr.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Vr.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,s,l){const u=this.cloneDeep(t),c=this.transformState(a),f={},m={};return this.map(u,(p,g)=>{c[p]||(m[p]=g)}),this.map(c,(p,g)=>{const v=u[p];if(v){const b=g.map(O=>O.presence_ref),w=v.map(O=>O.presence_ref),E=g.filter(O=>w.indexOf(O.presence_ref)<0),T=v.filter(O=>b.indexOf(O.presence_ref)<0);E.length>0&&(f[p]=E),T.length>0&&(m[p]=T)}else f[p]=g}),this.syncDiff(u,{joins:f,leaves:m},s,l)}static syncDiff(t,a,s,l){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(u,(f,m)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),g.length>0){const v=t[f].map(w=>w.presence_ref),b=g.filter(w=>v.indexOf(w.presence_ref)<0);t[f].unshift(...b)}s(f,g,m)}),this.map(c,(f,m)=>{let p=t[f];if(!p)return;const g=m.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=p,l(f,p,m),p.length===0&&delete t[f]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(s=>a(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,s)=>{const l=t[s];return"metas"in l?a[s]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[s]=l,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ov;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ov||(ov={}));var Pr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Pr||(Pr={}));var ai;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ai||(ai={}));class _s{constructor(t,a={config:{}},s){var l,u;if(this.topic=t,this.params=a,this.socket=s,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new zh(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new jb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Vr(this),this.broadcastEndpointURL=Db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var s,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:c,presence:f,private:m}}=this.params,p=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[Pr.PRESENCE]&&this.bindings[Pr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ai.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ai.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(ai.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(E=T?.length)!==null&&E!==void 0?E:0,j=[];for(let D=0;D<O;D++){const A=T[D],{filter:{event:P,schema:q,table:X,filter:G}}=A,C=w&&w[D];if(C&&C.event===P&&_s.isFilterValueEqual(C.schema,q)&&_s.isFilterValueEqual(C.table,X)&&_s.isFilterValueEqual(C.filter,G))j.push(Object.assign(Object.assign({},A),{id:C.id}));else{this.unsubscribe(),this.state=yt.errored,t?.(ai.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ai.SUBSCRIBED);return}}).receive("error",w=>{this.state=yt.errored,t?.(ai.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ai.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,s){return this.state===yt.joined&&t===Pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,s)}async httpSend(t,a,s={}){var l;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,a={}){var s,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,m;const p=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new zh(this,Nn.leave,{},t),s.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,a,s){const l=new AbortController,u=setTimeout(()=>l.abort(),s),c=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(u),c}_push(t,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new zh(this,t,a,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vA){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,s){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,s){var l,u;const c=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:g}=Nn;if(s&&[f,m,p,g].indexOf(c)>=0&&s!==this._joinRef())return;let b=this._onMessage(c,a,s);if(a&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var E,T,O;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(T=w.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(w=>w.callback(b,s)):(u=this.bindings[c])===null||u===void 0||u.filter(w=>{var E,T,O,j,D,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const P=w.id,q=(E=w.filter)===null||E===void 0?void 0:E.event;return P&&((T=a.ids)===null||T===void 0?void 0:T.includes(P))&&(q==="*"||q?.toLocaleLowerCase()===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(D=(j=w?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return P==="*"||P===((A=a?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:T,table:O,commit_timestamp:j,type:D,errors:A}=E;b=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:j,eventType:D,new:{},old:{},errors:A}),this._getPayloadRecords(E))}w.callback(b,s)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,s){const l=t.toLocaleLowerCase(),u={type:l,filter:a,callback:s};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,a){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&_s.isEqual(l.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const s in t)if(t[s]!==a[s])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=sv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=sv(t.columns,t.old_record)),a}}const Vh=()=>{},Ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AA=[1e3,2e3,5e3,1e4],CA=1e4,RA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OA{constructor(t,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=Ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vh,this.ref=0,this.reconnectTimer=null,this.vsn=av,this.logger=Vh,this.conn=null,this.sendBuffer=[],this.serializer=new bA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${mf.websocket}`,this.httpEndpoint=Db(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,s){this.logger(t,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Vi.connecting:return ga.Connecting;case Vi.open:return ga.Open;case Vi.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const s=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===s);if(l)return l;{const u=new _s(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:s,payload:l,ref:u}=t,c=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${a} ${s} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yA,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:u,ref:c}=a,f=c?`(${c})`:"",m=u.status||"";this.log("receive",`${m} ${s} ${l} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(l,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Vi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vi.open||this.conn.readyState===Vi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const s=t.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${t}${s}${l}`}_workerObjectUrl(t){let a;if(t)a=t;else{const s=new Blob([RA],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,s=!1;if(t)a=t,s=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),a=this.accessTokenValue}else a=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const u={access_token:a,version:pA};a&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Nn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(a)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,s,l,u,c,f,m,p,g,v,b,w;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:df,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Ml.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Vh,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:av,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>AA[E-1]||CA),this.vsn){case Ob:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((E,T)=>T(JSON.stringify(E))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((E,T)=>T(JSON.parse(E)));break;case gA:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Yr=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jA(n,t,a){const s=new URL(t,n);if(a)for(const[l,u]of Object.entries(a))u!==void 0&&s.searchParams.set(l,u);return s.toString()}async function NA(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function DA(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:s,query:l,body:u,headers:c}){const f=jA(n.baseUrl,s,l),m=await NA(n.auth),p=await t(f,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...m,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!p.ok){const w=v?b:void 0,E=w?.error;throw new Yr(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:p.status,headers:p.headers,data:b}}}}function Ul(n){return n.join("")}var kA=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Ul(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,t){const a={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ul(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ul(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ul(n.namespace)}`}),!0}catch(t){if(t instanceof Yr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(a){if(a instanceof Yr&&a.status===409)return;throw a}}};function cs(n){return n.join("")}var MA=class{constructor(n,t="",a){this.client=n,this.prefix=t,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(n,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(a){if(a instanceof Yr&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(a){if(a instanceof Yr&&a.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw a}}},UA=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=DA({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new kA(this.client,t),this.tableOps=new MA(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},cu=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function et(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var LA=class extends cu{constructor(n,t,a){super(n),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gf=class extends cu{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const id=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),BA=()=>Response,yf=n=>{if(Array.isArray(n))return n.map(a=>yf(a));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([a,s])=>{const l=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=yf(s)}),t},zA=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},VA=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Fr(n){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(n)}function PA(n,t){if(Fr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,t);if(Fr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function HA(n){var t=PA(n,"string");return Fr(t)=="symbol"?t:t+""}function $A(n,t,a){return(t=HA(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function lv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,s)}return a}function me(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lv(Object(a),!0).forEach(function(s){$A(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):lv(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const Ph=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},IA=async(n,t,a)=>{n instanceof await BA()&&!a?.noResolveJson?n.json().then(s=>{const l=n.status||500,u=s?.statusCode||l+"";t(new LA(Ph(s),l,u))}).catch(s=>{t(new gf(Ph(s),s))}):t(new gf(Ph(n),n))},qA=(n,t,a,s)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||!s?l:(zA(s)?(l.headers=me({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(s)):l.body=s,t?.duplex&&(l.duplex=t.duplex),me(me({},l),a))};async function co(n,t,a,s,l,u){return new Promise((c,f)=>{n(a,qA(t,s,l,u)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>IA(m,f,s))})}async function Xr(n,t,a,s){return co(n,"GET",t,a,s)}async function jn(n,t,a,s,l){return co(n,"POST",t,s,l,a)}async function vf(n,t,a,s,l){return co(n,"PUT",t,s,l,a)}async function GA(n,t,a,s){return co(n,"HEAD",t,me(me({},a),{},{noResolveJson:!0}),s)}async function ad(n,t,a,s,l){return co(n,"DELETE",t,s,l,a)}var KA=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};let kb;kb=Symbol.toStringTag;var YA=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new KA(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};const FA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XA=class{constructor(n,t={},a,s){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=a,this.fetch=id(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,a,s){var l=this;try{let u;const c=me(me({},uv),s);let f=me(me({},l.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(f=me(me({},f),s.headers));const p=l._removeEmptyFolders(t),g=l._getFinalPath(p),v=await(n=="PUT"?vf:jn)(l.fetch,`${l.url}/object/${g}`,u,me({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async upload(n,t,a){return this.uploadOrUpdate("POST",n,t,a)}async uploadToSignedUrl(n,t,a,s){var l=this;const u=l._removeEmptyFolders(n),c=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let m;const p=me({upsert:uv.upsert},s),g=me(me({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",p.cacheControl)):(m=a,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:u,fullPath:(await vf(l.fetch,f.toString(),m,{headers:g})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(et(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,t){var a=this;try{let s=a._getFinalPath(n);const l=me({},a.headers);t?.upsert&&(l["x-upsert"]="true");const u=await jn(a.fetch,`${a.url}/object/upload/sign/${s}`,{},{headers:l}),c=new URL(a.url+u.url),f=c.searchParams.get("token");if(!f)throw new cu("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async update(n,t,a){return this.uploadOrUpdate("PUT",n,t,a)}async move(n,t,a){var s=this;try{return{data:await jn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async copy(n,t,a){var s=this;try{return{data:{path:(await jn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async createSignedUrl(n,t,a){var s=this;try{let l=s._getFinalPath(n),u=await jn(s.fetch,`${s.url}/object/sign/${l}`,me({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:s.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${s.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async createSignedUrls(n,t,a){var s=this;try{const l=await jn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:n},{headers:s.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(c=>me(me({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}download(n,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(n),c=()=>Xr(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new YA(c,this.shouldThrowOnError)}async info(n){var t=this;const a=t._getFinalPath(n);try{return{data:yf(await Xr(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async exists(n){var t=this;const a=t._getFinalPath(n);try{return await GA(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(et(s)&&s instanceof gf){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,t){const a=this._getFinalPath(n),s=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&s.push(l);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${f}`)}}}async remove(n){var t=this;try{return{data:await ad(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async list(n,t,a){var s=this;try{const l=me(me(me({},FA),t),{},{prefix:n||""});return{data:await jn(s.fetch,`${s.url}/object/list/${s.bucketId}`,l,{headers:s.headers},a),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async listV2(n,t){var a=this;try{const s=me({},n);return{data:await jn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,s,{headers:a.headers},t),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Mb="2.89.0",Ub={"X-Client-Info":`storage-js/${Mb}`};var JA=class{constructor(n,t={},a,s){this.shouldThrowOnError=!1;const l=new URL(n);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=me(me({},Ub),t),this.fetch=id(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const a=t.listBucketOptionsToQueryString(n);return{data:await Xr(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async getBucket(n){var t=this;try{return{data:await Xr(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async createBucket(n,t={public:!1}){var a=this;try{return{data:await jn(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async updateBucket(n,t){var a=this;try{return{data:await vf(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async emptyBucket(n){var t=this;try{return{data:await jn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async deleteBucket(n){var t=this;try{return{data:await ad(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},WA=class{constructor(n,t={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},Ub),t),this.fetch=id(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await jn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async listBuckets(n){var t=this;try{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const s=a.toString(),l=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await Xr(t.fetch,l,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async deleteBucket(n){var t=this;try{return{data:await ad(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}from(n){var t=this;if(!VA(n))throw new cu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new UA({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(a,{get(l,u){const c=l[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(l,f),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}};const sd={"X-Client-Info":`storage-js/${Mb}`,"Content-Type":"application/json"};var Lb=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Hh=class extends Lb{constructor(n,t,a){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QA=class extends Lb{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const rd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ZA=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},cv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),eC=async(n,t,a)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!a?.noResolveJson){const s=n.status||500,l=n;if(typeof l.json=="function")l.json().then(u=>{const c=u?.statusCode||u?.code||s+"";t(new Hh(cv(u),s,c))}).catch(()=>{const u=s+"";t(new Hh(l.statusText||`HTTP ${s} error`,s,u))});else{const u=s+"";t(new Hh(l.statusText||`HTTP ${s} error`,s,u))}}else t(new QA(cv(n),n))},tC=(n,t,a,s)=>{const l={method:n,headers:t?.headers||{}};return s?(ZA(s)?(l.headers=me({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(s)):l.body=s,me(me({},l),a)):l};async function nC(n,t,a,s,l,u){return new Promise((c,f)=>{n(a,tC(t,s,l,u)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>eC(m,f,s))})}async function an(n,t,a,s,l){return nC(n,"POST",t,s,l,a)}var iC=class{constructor(n,t={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async getIndex(n,t){var a=this;try{return{data:await an(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}}async listIndexes(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async deleteIndex(n,t){var a=this;try{return{data:await an(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}}},aC=class{constructor(n,t={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await an(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async getVectors(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await an(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async queryVectors(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await an(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}},sC=class{constructor(n,t={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async getBucket(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async listBuckets(n={}){var t=this;try{return{data:await an(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}async deleteBucket(n){var t=this;try{return{data:await an(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}}},rC=class extends sC{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new oC(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,a=this;return t().call(a,n)}async getBucket(n){var t=()=>super.getBucket,a=this;return t().call(a,n)}async listBuckets(n={}){var t=()=>super.listBuckets,a=this;return t().call(a,n)}async deleteBucket(n){var t=()=>super.deleteBucket,a=this;return t().call(a,n)}},oC=class extends iC{constructor(n,t,a,s){super(n,t,s),this.vectorBucketName=a}async createIndex(n){var t=()=>super.createIndex,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,n)}index(n){return new lC(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},lC=class extends aC{constructor(n,t,a,s,l){super(n,t,l),this.vectorBucketName=a,this.indexName=s}async putVectors(n){var t=()=>super.putVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var t=()=>super.getVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},uC=class extends JA{constructor(n,t={},a,s){super(n,t,a,s)}from(n){return new XA(this.url,this.headers,n,this.fetch)}get vectors(){return new rC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WA(this.url+"/iceberg",this.headers,this.fetch)}};const Bb="2.89.0",bs=30*1e3,bf=3,$h=bf*bs,cC="http://localhost:9999",hC="supabase.auth.token",fC={"X-Client-Info":`gotrue-js/${Bb}`},wf="X-Supabase-Api-Version",zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mC=600*1e3;class Jr extends Error{constructor(t,a,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function oe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class pC extends Jr{constructor(t,a,s){super(t,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function gC(n){return oe(n)&&n.name==="AuthApiError"}class ya extends Jr{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class hi extends Jr{constructor(t,a,s,l){super(t,s,l),this.name=a,this.status=s}}class tn extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yC(n){return oe(n)&&n.name==="AuthSessionMissingError"}class hs extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends hi{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vC(n){return oe(n)&&n.name==="AuthImplicitGrantRedirectError"}class hv extends hi{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bC extends hi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _f extends hi{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Ih(n){return oe(n)&&n.name==="AuthRetryableFetchError"}class fv extends hi{constructor(t,a,s){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class Sf extends hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dv=` 	
\r=`.split(""),wC=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<dv.length;t+=1)n[dv[t].charCodeAt(0)]=-2;for(let t=0;t<Ql.length;t+=1)n[Ql[t].charCodeAt(0)]=t;return n})();function mv(n,t,a){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;a(Ql[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;a(Ql[s]),t.queuedBits-=6}}function Vb(n,t,a){const s=wC[n];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function pv(n){const t=[],a=c=>{t.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{EC(c,s,a)};for(let c=0;c<n.length;c+=1)Vb(n.charCodeAt(c),l,u);return t.join("")}function _C(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function SC(n,t){for(let a=0;a<n.length;a+=1){let s=n.charCodeAt(a);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(n.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}_C(s,t)}}function EC(n,t,a){if(t.utf8seq===0){if(n<=127){a(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Cs(n){const t=[],a={queue:0,queuedBits:0},s=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Vb(n.charCodeAt(l),a,s);return new Uint8Array(t)}function TC(n){const t=[];return SC(n,a=>t.push(a)),new Uint8Array(t)}function va(n){const t=[],a={queue:0,queuedBits:0},s=l=>{t.push(l)};return n.forEach(l=>mv(l,a,s)),mv(null,a,s),t.join("")}function xC(n){return Math.round(Date.now()/1e3)+n}function AC(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},Pb=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function CC(n){const t={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return a.searchParams.forEach((s,l)=>{t[l]=s}),t}const Hb=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),RC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ws=async(n,t,a)=>{await n.setItem(t,JSON.stringify(a))},fa=async(n,t)=>{const a=await n.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ot=async(n,t)=>{await n.removeItem(t)};class hu{constructor(){this.promise=new hu.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}hu.promiseConstructor=Promise;function qh(n){const t=n.split(".");if(t.length!==3)throw new Sf("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!dC.test(t[s]))throw new Sf("JWT not in base64url format");return{header:JSON.parse(pv(t[0])),payload:JSON.parse(pv(t[1])),signature:Cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function OC(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function jC(n,t){return new Promise((s,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!t(u,null,c)){s(c);return}}catch(c){if(!t(u,c)){l(c);return}}})()})}function NC(n){return("0"+n.toString(16)).substr(-2)}function DC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let l="";for(let u=0;u<56;u++)l+=a.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(t),Array.from(t,NC).join("")}async function kC(n){const a=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(s);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function MC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await kC(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(n,t,a=!1){const s=DC();let l=s;a&&(l+="/PASSWORD_RECOVERY"),await ws(n,`${t}-code-verifier`,l);const u=await MC(s);return[u,s===u?"plain":"s256"]}const UC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LC(n){const t=n.headers.get(wf);if(!t||!t.match(UC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BC(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function zC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(n){if(!VC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gh(){const n={};return new Proxy(n,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PC(n,t){return new Proxy(n,{get:(a,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,s,l)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,s,l)}})}function gv(n){return JSON.parse(JSON.stringify(n))}const ma=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),HC=[502,503,504];async function yv(n){var t;if(!RC(n))throw new _f(ma(n),0);if(HC.includes(n.status))throw new _f(ma(n),n.status);let a;try{a=await n.json()}catch(u){throw new ya(ma(u),u)}let s;const l=LC(n);if(l&&l.getTime()>=zb["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new fv(ma(a),n.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new tn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new fv(ma(a),n.status,a.weak_password.reasons);throw new pC(ma(a),n.status||500,s)}const $C=(n,t,a,s)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),a))};async function de(n,t,a,s){var l;const u=Object.assign({},s?.headers);u[wf]||(u[wf]=zb["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const c=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await IC(n,t,a+f,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function IC(n,t,a,s,l,u){const c=$C(t,s,l,u);let f;try{f=await n(a,Object.assign({},c))}catch(m){throw console.error(m),new _f(ma(m),0)}if(f.ok||await yv(f),s?.noResolveJson)return f;try{return await f.json()}catch(m){await yv(m)}}function Rn(n){var t;let a=null;KC(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=xC(n.expires_in)));const s=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:a,user:s},error:null}}function vv(n){const t=Rn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Hi(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function qC(n){return{data:n,error:null}}function GC(n){const{action_link:t,email_otp:a,hashed_token:s,redirect_to:l,verification_type:u}=n,c=uu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:a,hashed_token:s,redirect_to:l,verification_type:u},m=Object.assign({},c);return{data:{properties:f,user:m},error:null}}function bv(n){return n}function KC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Kh=["global","local","others"];class YC{constructor({url:t="",headers:a={},fetch:s}){this.url=t,this.headers=a,this.fetch=Hb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Kh[0]){if(Kh.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kh.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,a={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Hi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:a}=t,s=uu(t,["options"]),l=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:GC,redirectTo:a?.redirectTo})}catch(a){if(oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hi})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,s,l,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:bv});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ds(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hi})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){ds(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Hi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,a=!1){ds(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Hi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){ds(t.userId);try{const{data:a,error:s}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:s}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteFactor(t){ds(t.userId),ds(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,s,l,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:bv});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}}function wv(n={}){return{getItem:t=>n[t]||null,setItem:(t,a)=>{n[t]=a},removeItem:t=>{delete n[t]}}}const ms={debug:!!(globalThis&&Pb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $b extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FC extends $b{}async function XC(n,t,a){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await a()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new FC(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ms.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function JC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ib(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function WC(n){return parseInt(n,16)}function QC(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function ZC(n){var t;const{chainId:a,domain:s,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:m,resources:p,scheme:g,uri:v,version:b}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=Ib(n.address),E=g?`${g}://${s}`:s,T=n.statement?`${n.statement}
`:"",O=`${E} wants you to sign in with your Ethereum account:
${w}

${T}`;let j=`URI: ${v}
Version: ${b}
Chain ID: ${a}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(j+=`
Expiration Time: ${l.toISOString()}`),f&&(j+=`
Not Before: ${f.toISOString()}`),m&&(j+=`
Request ID: ${m}`),p){let D=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);D+=`
- ${A}`}j+=D}return`${O}
${j}`}class mt extends Error{constructor({message:t,code:a,cause:s,name:l}){var u;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=l??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class Zl extends mt{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function e1({error:n,options:t}){var a,s,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new mt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(qb(c)){if(u.rp.id!==c)return new mt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function t1({error:n,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new mt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(qb(s)){if(a.rpId!==s)return new mt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class n1{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const i1=new n1;function a1(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:a,excludeCredentials:s}=n,l=uu(n,["challenge","user","excludeCredentials"]),u=Cs(t).buffer,c=Object.assign(Object.assign({},a),{id:Cs(a.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:c});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const p=s[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Cs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function s1(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:a}=n,s=uu(n,["challenge","allowCredentials"]),l=Cs(t).buffer,u=Object.assign(Object.assign({},s),{challenge:l});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const f=a[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Cs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function r1(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:va(new Uint8Array(n.response.attestationObject)),clientDataJSON:va(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function o1(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,s=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:va(new Uint8Array(l.authenticatorData)),clientDataJSON:va(new Uint8Array(l.clientDataJSON)),signature:va(new Uint8Array(l.signature)),userHandle:l.userHandle?va(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function _v(){var n,t;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function l1(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",t)}:{data:null,error:new Zl("Empty credential response",t)}}catch(t){return{data:null,error:e1({error:t,options:n})}}}async function u1(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",t)}:{data:null,error:new Zl("Empty credential response",t)}}catch(t){return{data:null,error:t1({error:t,options:n})}}}const c1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function eu(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),a=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of n)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))s[u]=c;else if(a(c))s[u]=c;else if(t(c)){const f=s[u];t(f)?s[u]=eu(f,c):s[u]=eu(c)}else s[u]=c}return s}function f1(n,t){return eu(c1,n,t||{})}function d1(n,t){return eu(h1,n,t||{})}class m1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:s,signal:l},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!c)return{data:null,error:f};const m=l??i1.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=f1(c.webauthn.credential_options.publicKey,u?.create),{data:g,error:v}=await l1({publicKey:p,signal:m});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=d1(c.webauthn.credential_options.publicKey,u?.request),{data:g,error:v}=await u1(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new ya("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!a)return{data:null,error:new Jr("rpId is required for WebAuthn authentication")};try{if(!_v())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:s},signal:l},{request:u});if(!c)return{data:null,error:f};const{webauthn:m}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:m.type,rpId:a,rpOrigins:s,credential_response:m.credential_response}})}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new ya("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!a)return{data:null,error:new Jr("rpId is required for WebAuthn registration")};try{if(!_v())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:l},{create:u});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:a,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new ya("Unexpected error in register",c)}}}}JC();const p1={url:cC,storageKey:hC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sv(n,t,a){return await a()}const ps={};class Wr{get jwks(){var t,a;return(a=(t=ps[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=ps[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:t})}constructor(t){var a,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},p1),t);if(this.storageKey=u.storageKey,this.instanceID=(a=Wr.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Wr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&jt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new YC({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Hb(u.fetch),this.lock=u.lock||Sv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&jt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=XC:this.lock=Sv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new m1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Pb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=wv(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},s="none";if(jt()&&(a=CC(window.location.href),this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce")),jt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:u}=await this._getSessionFromURL(a,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),vC(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return oe(a)?this._returnResult({error:a}):this._returnResult({error:new ya("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,s,l;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Rn}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,s,l;try{let u;if("email"in t){const{email:g,password:v,options:b}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await fs(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(a=b?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Rn})}else if("phone"in t){const{phone:g,password:v,options:b}=t;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Rn})}else throw new Ll("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:c,options:f}=t;a=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vv})}else if("phone"in t){const{phone:u,password:c,options:f}=t;a=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vv})}else throw new Ll("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const u=new hs;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,s,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,s,l,u,c,f,m,p,g,v,b;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:T,wallet:O,statement:j,options:D}=t;let A;if(jt())if(typeof O=="object")A=O;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")A=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=O}const P=new URL((a=D?.url)!==null&&a!==void 0?a:window.location.href),q=await A.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=Ib(q[0]);let G=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const k=await A.request({method:"eth_chainId"});G=WC(k)}const C={domain:P.host,address:X,statement:j,uri:P.href,version:"1",chainId:G,nonce:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=ZC(C),E=await A.request({method:"personal_sign",params:[QC(w),X]})}try{const{data:T,error:O}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Rn});if(O)throw O;if(!T||!T.session||!T.user){const j=new hs;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:O})}catch(T){if(oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var a,s,l,u,c,f,m,p,g,v,b,w;let E,T;if("message"in t)E=t.message,T=t.signature;else{const{chain:O,wallet:j,statement:D,options:A}=t;let P;if(jt())if(typeof j=="object")P=j;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))P=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const q=new URL((a=A?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in P&&P.signIn){const X=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),D?{statement:D}:null));let G;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")G=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)G=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)E=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),T=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=A?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((v=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...A.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const X=await P.signMessage(new TextEncoder().encode(E),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=X}}try{const{data:O,error:j}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:va(T)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Rn});if(j)throw j;if(!O||!O.session||!O.user){const D=new hs;return this._returnResult({data:{user:null,session:null},error:D})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:j})}catch(O){if(oe(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(t){const a=await fa(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(a??"").split("/");try{if(!s&&this.flowType==="pkce")throw new bC;const{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Rn});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Rn}),{data:m,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new hs;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,s,l,u,c;try{if("email"in t){const{email:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await fs(this.storage,this.storageKey));const{error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:g}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Ll("You must provide either an email or phone number.")}catch(f){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var a,s;try{let l,u;"options"in t&&(l=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Rn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var a,s,l,u,c;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await fs(this.storage,this.storageKey));const p=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:qC});return!((u=p.data)===null||u===void 0)&&u.url&&jt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;if(s)throw s;if(!a)throw new tn;const{error:l}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:s,type:l,options:u}=t,{error:c}=await de(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:s,type:l,options:u}=t,{data:c,error:f}=await de(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Ll("You must provide either an email or phone number and a type")}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<$h:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const c=await fa(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Gh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=PC(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hi}):await this._useSession(async a=>{var s,l,u;const{data:c,error:f}=a;if(f)throw f;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Hi})})}catch(a){if(oe(a))return yC(a)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async s=>{const{data:l,error:u}=s;if(u)throw u;if(!l.session)throw new tn;const c=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await fs(this.storage,this.storageKey));const{data:p,error:g}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:c.access_token,xform:Hi});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tn;const a=Date.now()/1e3;let s=a,l=!0,u=null;const{payload:c}=qh(t.access_token);if(c.exp&&(s=c.exp,l=s<=a),l){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var s;if(!t){const{data:c,error:f}=a;if(f)throw f;t=(s=c.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new tn;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!jt())throw new Bl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new hv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hv("No code detected.");const{data:D,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:m,token_type:p}=t;if(!u||!f||!c||!p)throw new Bl("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let b=g+v;m&&(b=parseInt(m));const w=b-g;w*1e3<=bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const E=b-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,g);const{data:T,error:O}=await this._getUser(u);if(O)throw O;const j={provider_token:s,provider_refresh_token:l,access_token:u,expires_in:v,expires_at:b,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:l,error:u}=a;if(u)return this._returnResult({error:u});const c=(s=l.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(gC(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=AC(),s={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async a=>{var s,l;try{const{data:{session:u},error:c}=a;if(c)throw c;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await fs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:s,error:l}=await this._useSession(async u=>{var c,f,m,p,g;const{data:v,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return jt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(oe(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var s;try{const{error:l,data:{session:u}}=a;if(l)throw l;const{options:c,provider:f,token:m,access_token:p,nonce:g}=t,v=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rn}),{data:b,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new hs}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(l){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var s,l;const{data:u,error:c}=a;if(c)throw c;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await jC(async l=>(l>0&&await OC(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rn})),(l,u)=>{const c=200*Math.pow(2,l);return u&&Ih(u)&&Date.now()+c-s<bs})}catch(s){if(this._debug(a,"error",s),oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",s),jt()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await fa(this.storage,this.storageKey);if(l&&this.userStorage){let c=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await ws(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c?.user)!==null&&t!==void 0?t:Gh()}else if(l&&!l.user&&!l.user){const c=await fa(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await Ot(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,l)):l.user=Gh()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const u=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<$h;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${$h}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),Ih(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var a,s;if(!t)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new hu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new tn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),oe(u)){const c={data:null,error:u};return Ih(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,a,s=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,a)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await ws(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const u=gv(l);await ws(this.storage,this.storageKey,u)}else{const l=gv(a);await ws(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-t)/bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${bs}ms, refresh threshold is ${bf} ticks`),l<=bf&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $b)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,s){const l=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,c]=await fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);l.push(u.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var s;const{data:l,error:u}=a;return u?this._returnResult({data:null,error:u}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var s,l;const{data:u,error:c}=a;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?r1(t.webauthn.credential_response):o1(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:a1(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:s1(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a?.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=qh(s.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((a=(t=s.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new tn})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new tn});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&jt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new tn});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&jt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;return s?this._returnResult({data:null,error:s}):a?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new tn})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tn})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let s=a.keys.find(f=>f.kid===t);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(f=>f.kid===t),s&&this.jwks_cached_at+mC>l)return s;const{data:u,error:c}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,s=u.keys.find(f=>f.kid===t),!s)?null:s}async getClaims(t,a={}){try{let s=t;if(!s){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});s=w.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:m}}=qh(s);a?.allowExpired||BC(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:u,header:l,signature:c},error:null}}const g=zC(l.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,TC(`${f}.${m}`)))throw new Sf("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}}Wr.nextInstanceID={};const g1=Wr,y1="2.89.0";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const v1={"X-Client-Info":`supabase-js-${Br}/${y1}`},b1={headers:v1},w1={schema:"public"},_1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S1={};function Qr(n){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(n)}function E1(n,t){if(Qr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,t);if(Qr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function T1(n){var t=E1(n,"string");return Qr(t)=="symbol"?t:t+""}function x1(n,t,a){return(t=T1(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function Ev(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,s)}return a}function at(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ev(Object(a),!0).forEach(function(s){x1(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Ev(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const A1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),C1=()=>Headers,R1=(n,t,a)=>{const s=A1(a),l=C1();return async(u,c)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:n;let p=new l(c?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),s(u,at(at({},c),{},{headers:p}))}};function O1(n){return n.endsWith("/")?n:n+"/"}function j1(n,t){var a,s;const{db:l,auth:u,realtime:c,global:f}=n,{db:m,auth:p,realtime:g,global:v}=t,b={db:at(at({},m),l),auth:at(at({},p),u),realtime:at(at({},g),c),storage:{},global:at(at(at({},v),f),{},{headers:at(at({},(a=v?.headers)!==null&&a!==void 0?a:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function N1(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(O1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var D1=class extends g1{constructor(n){super(n)}},k1=class{constructor(n,t,a){var s,l;this.supabaseUrl=n,this.supabaseKey=t;const u=N1(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:w1,realtime:S1,auth:at(at({},_1),{},{storageKey:c}),global:b1},m=j1(a??{},f);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=R1(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new fA(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new uC(this.storageUrl.href,this.headers,this.fetch,a?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new oA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,a;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(t=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:s,userStorage:l,storageKey:u,flowType:c,lock:f,debug:m,throwOnError:p},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D1({url:this.authUrl.href,headers:at(at({},b),g),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:s,userStorage:l,flowType:c,lock:f,debug:m,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new OA(this.realtimeUrl.href,at(at({},n),{},{params:at(at({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const M1=(n,t,a)=>new k1(n,t,a);function U1(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}U1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L1="https://mntjgtdsmjnbbkzcuaar.supabase.co",B1="sb_publishable_arCiyuW374x8Of3W6QSawg__qniYqNj",bt=M1(L1,B1),Gb=x.createContext({}),Us=()=>x.useContext(Gb),z1=({children:n})=>{const[t,a]=x.useState(null),[s,l]=x.useState(!0);x.useEffect(()=>{bt.auth.getSession().then(({data:{session:m}})=>{a(m?.user??null),l(!1)});const{data:{subscription:f}}=bt.auth.onAuthStateChange((m,p)=>{a(p?.user??null),l(!1)});return()=>f.unsubscribe()},[]);const c={user:t,loading:s,signOut:async()=>{await bt.auth.signOut()}};return S.jsx(Gb.Provider,{value:c,children:!s&&n})},V1=()=>{const{setTitle:n,setBackTo:t}=Ms(),{user:a,signOut:s}=Us();x.useEffect(()=>{n("QuartettNation"),t(null)},[]);const l=async()=>{try{await s()}catch(c){console.error("Error signing out:",c)}},u=a?a.user_metadata?.full_name||a.email?.split("@")[0]||"User":"Guest";return S.jsxs("div",{className:"page-view app-card centered",style:{gap:"2rem"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("h1",{className:"hero-title gradient-text",children:"Challenge your friends"}),S.jsx("p",{className:"hero-subtitle",children:"Generate unique Top Trump decks using AI."})]}),S.jsxs("div",{className:"auth-status-card",style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"var(--radius-lg)",border:"1px solid var(--border)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[S.jsxs("div",{style:{marginBottom:"1rem"},children:[S.jsx("span",{style:{color:"var(--text-dim)",fontSize:"0.9rem"},children:"Currently playing as:"}),S.jsx("h3",{style:{margin:"4px 0",color:a?"var(--primary)":"var(--text-main)"},children:u}),a&&S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-dim)"},children:a.email})]}),a?S.jsx(Je,{variant:"secondary",onClick:l,size:"sm",children:"Log Out"}):S.jsx(si,{to:"/auth",children:S.jsx(Je,{variant:"secondary",size:"sm",children:"Log In / Sign Up"})})]}),S.jsxs("div",{className:"action-buttons",children:[S.jsx(si,{to:"/create",className:"btn btn-primary",style:{minWidth:"160px",textAlign:"center"},children:"Create New Deck"}),S.jsx(si,{to:"/collection",className:"btn btn-secondary",style:{minWidth:"160px",textAlign:"center"},children:"My Collection"})]}),S.jsx("div",{className:"recent-games",style:{width:"100%",maxWidth:"400px"},children:S.jsx(xb,{message:"No active games."})})]})},P1="modulepreload",H1=function(n){return"/QuartettNation/"+n},Tv={},$1=function(t,a,s){let l=Promise.resolve();if(a&&a.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=p(a.map(g=>{if(g=H1(g),g in Tv)return;Tv[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":P1,v||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),v)return new Promise((E,T)=>{w.addEventListener("load",E),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},I1=({deck:n,updateDeck:t,onNext:a})=>{const s=n.categories||[],l=(c,f,m)=>{const p=[...s];p[c]={...p[c],[f]:m},t({categories:p})},u=c=>{const f=[...s];f[c]={...f[c],higherWins:!f[c].higherWins},t({categories:f})};return S.jsxs("div",{className:"category-review",children:[S.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"1rem",fontSize:"0.9rem"},children:'Verify the categories. Click "High" to toggle if a higher value wins.'}),S.jsx("div",{className:"modern-list",children:s.map((c,f)=>S.jsxs("div",{className:"modern-list-item",children:[S.jsx("div",{className:"category-inputs",children:S.jsx(_a,{value:c.name,onChange:m=>l(f,"name",m.target.value),placeholder:"Name",fullWidth:!0,className:"category-input-override"})}),S.jsx(Je,{variant:c.higherWins?"primary":"secondary",size:"sm",onClick:()=>u(f),className:"toggle-btn-override",children:c.higherWins?"High Wins":"Low Wins"})]},f))}),S.jsx("div",{className:"review-actions",children:S.jsx(Je,{variant:"primary",onClick:a,children:"Next: Card Names"})})]})},q1=({deck:n,updateDeck:t,onNext:a})=>{const s=n.cards||[],l=(u,c)=>{const f=[...s];f[u]={...f[u],name:c},t({cards:f})};return S.jsxs("div",{className:"card-name-review",children:[S.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"1rem",fontSize:"0.9rem"},children:"Review all 32 card names. Click on any name to edit it."}),S.jsx("div",{className:"modern-list",children:s.map((u,c)=>S.jsxs("div",{className:"modern-list-item",children:[S.jsxs("span",{className:"index",style:{minWidth:"30px",color:"var(--text-dim)",fontSize:"0.8rem"},children:["#",c+1]}),S.jsx(_a,{value:u.name,onChange:f=>l(c,f.target.value),fullWidth:!0,className:"card-name-input-override"})]},c))}),S.jsx("div",{className:"review-actions",children:S.jsx(Je,{variant:"primary",onClick:a,children:"Next: Images"})})]})},G1="https://commons.wikimedia.org/w/api.php",K1=3;let Yh=0;const Ef=[],Kb=()=>{if(Yh>=K1||Ef.length===0)return;const{task:n,resolve:t,reject:a}=Ef.shift();Yh++,n().then(t).catch(a).finally(()=>{Yh--,Kb()})},Y1=n=>(...t)=>new Promise((a,s)=>{Ef.push({task:()=>n(...t),resolve:a,reject:s}),Kb()}),F1=n=>{if(!n)return"";const t=["1:1","aspect ratio","studio lighting","view","profile","front","side","detailed","4k","hd","close-up"];let a=n.toLowerCase();return t.forEach(s=>{a=a.replace(s,"")}),a.replace(/\s+/g," ").trim()},X1=async(n,t)=>{const a=async l=>{const c=new URLSearchParams({action:"query",format:"json",generator:"search",gsrsearch:l,gsrnamespace:"6",gsrlimit:50,prop:"imageinfo",iiprop:"url|extmetadata|dimensions|thumburl",iiurlwidth:640,origin:"*"});console.log(`Searching Wikimedia for: "${l}"`);try{const f=await fetch(`${G1}?${c.toString()}`);if(f.status===429)return await new Promise(p=>setTimeout(p,2e3)),a(l);const m=await f.json();return!m.query||!m.query.pages?[]:Object.values(m.query.pages).map(p=>{const g=p.imageinfo?p.imageinfo[0]:null;if(!g)return null;const v=g.thumburl||g.url;let b="Unknown",w="CC BY-SA";return g.extmetadata&&(g.extmetadata.Artist&&(b=g.extmetadata.Artist.value.replace(/<[^>]*>?/gm,"")),g.extmetadata.LicenseShortName&&(w=g.extmetadata.LicenseShortName.value)),{id:p.pageid,title:p.title.replace("File:",""),url:v,original_url:g.url,attribution:`${w} / ${b}`}}).filter(p=>{if(!p)return!1;const g=p.original_url.toLowerCase();return[".jpg",".jpeg",".png",".webp"].some(b=>g.endsWith(b))})}catch(f){return console.error("Wikimedia Search Error:",f),[]}};return(await a(n)).slice(0,t)},Yb=(n,t=5)=>{const a=F1(n);return a?Y1(X1)(a,t):Promise.resolve([])},J1=({deck:n,updateDeck:t,onSave:a,currentIndex:s=0,onNavigate:l,isModal:u=!1})=>{const[c,f]=x.useState({x:0,y:0,scale:1}),[m,p]=x.useState(!1),[g,v]=x.useState({x:0,y:0}),[b,w]=x.useState([]),[E,T]=x.useState(!1),[O,j]=x.useState(""),[D,A]=x.useState({...n.cards[s]}),[P,q]=x.useState(!1),X=x.useRef(null),G=x.useRef(null),C=x.useRef(s);x.useEffect(()=>{C.current!==s?(A({...n.cards[s]}),q(!1),n.cards[s].image_settings?f(n.cards[s].image_settings):f({x:0,y:0,scale:1}),C.current=s):P||A(Q=>({...n.cards[s]}))},[s,n.cards,P]),x.useEffect(()=>{(async()=>{const Q=n.cards[s];if(Q.available_images&&Q.available_images.length>1)w(Q.available_images);else{T(!0);try{const Z=await Yb(Q.name,20);w(Z);const ae=[...n.cards];ae[s].available_images=Z,t({cards:ae})}catch(Z){console.error("Failed to load alts",Z)}finally{T(!1)}}})()},[s,n.cards,t]);const k=L=>{p(!0),v({x:L.clientX-c.x,y:L.clientY-c.y}),L.target.setPointerCapture(L.pointerId)},K=L=>{if(m){const Q={...c,x:L.clientX-g.x,y:L.clientY-g.y};f(Q),q(!0)}},te=L=>{p(!1),L.target.releasePointerCapture(L.pointerId)};x.useEffect(()=>{const L=G.current;if(!L)return;const Q=Z=>{Z.preventDefault();const ae=Z.deltaY*-.001;f(R=>{const V=Math.min(Math.max(.5,R.scale+ae),3);return{...R,scale:V}}),q(!0)};return L.addEventListener("wheel",Q,{passive:!1}),()=>L.removeEventListener("wheel",Q)},[]);const ee=L=>{A(Q=>({...Q,image_url:L.url,attribution_text:L.attribution})),f({x:0,y:0,scale:1}),q(!0)},pe=(L,Q)=>{A(Z=>{const ae={...Z.values,[L]:Q};return{...Z,values:ae}}),q(!0)},Re=()=>{const L=[...n.cards];L[s]={...D,image_settings:{...c}},t({cards:L}),q(!1)},Le=()=>{s<n.cards.length-1?l(s+1):a()},I=()=>{s>0&&l(s-1)};return S.jsxs("div",{className:"card-studio",children:[S.jsx("div",{className:"studio-header",children:S.jsx("p",{className:"studio-hint",children:"Drag image to position. Click values to edit."})}),S.jsx("div",{className:"studio-stage",children:S.jsx("div",{className:"studio-card-frame card-scene",children:S.jsx("div",{className:"card-inner",children:S.jsxs("div",{className:"card-face card-front",style:{position:"relative"},children:[S.jsxs("div",{className:"card-top-section",children:[n.theme&&S.jsx("div",{className:"deck-name",children:n.theme}),S.jsx("h3",{className:"card-name",children:D.name})]}),S.jsxs("div",{ref:G,className:"card-image-wrapper studio-interactive-image",onPointerDown:k,onPointerMove:K,onPointerUp:te,style:{cursor:m?"grabbing":"grab"},children:[S.jsx("img",{ref:X,src:D.image_url,alt:"Card Subject",className:"card-image",style:{transform:`translate(${c.x}px, ${c.y}px) scale(${c.scale})`,transformOrigin:"center",pointerEvents:"none"},draggable:!1}),S.jsx("div",{className:"card-attribution",children:D.attribution_text||"Public Domain"})]}),S.jsx("div",{className:"card-content",children:S.jsx("div",{className:"card-stats",children:n.categories.map((L,Q)=>{let Z=L.name,ae=L.unit;if(!ae){const V=L.name.match(/^(.+?)\s*\[(.*?)\]$/);V&&(Z=V[1].trim(),ae=V[2].trim())}const R=D.values?D.values[L.name]:"";return S.jsxs("div",{className:"stat-row",children:[S.jsx("span",{className:"stat-label",children:Z}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx("input",{className:"studio-stat-input",value:R,onChange:V=>pe(L.name,V.target.value),onKeyDown:V=>V.stopPropagation()}),ae&&S.jsx("span",{className:"stat-unit",children:ae})]})]},Q)})})})]})})})}),S.jsxs("div",{className:"studio-controls",children:[S.jsxs("div",{className:"alternatives-strip",children:[S.jsx("h4",{children:"Alternatives"}),S.jsx("div",{className:"thumbnails",children:E?S.jsx($x,{size:"sm"}):b.map((L,Q)=>S.jsx("img",{src:L.url,className:D.image_url===L.url?"active":"",onClick:()=>ee(L),alt:"alt"},Q))})]}),S.jsx("div",{className:"custom-url-section",style:{marginTop:"8px"},children:S.jsx(_a,{placeholder:"Custom Image URL... (Enter to apply)",value:O,onChange:L=>j(L.target.value),onBlur:()=>{O&&(ee({url:O,attribution:"Custom URL"}),j(""))},onKeyDown:L=>{L.key==="Enter"&&O&&(ee({url:O,attribution:"Custom URL"}),j(""))},fullWidth:!0})})]}),S.jsxs("div",{className:"studio-nav",children:[S.jsx(Je,{onClick:I,disabled:s===0||P,variant:"secondary",children:" Previous"}),S.jsx(Je,{onClick:Re,variant:"primary",disabled:!P,children:"Save Changes"}),S.jsx(Je,{onClick:Le,disabled:s===n.cards.length-1&&!u||P,variant:"secondary",children:u&&s===n.cards.length-1?"Done":s===n.cards.length-1?"Finish":"Next "})]})]})},xv=()=>{const n=Array.from({length:24}),t=Array.from({length:8});return S.jsxs("div",{className:"card-back-content",children:[S.jsx("div",{className:"card-back-pattern",children:n.map((a,s)=>S.jsx("div",{className:"pattern-row",children:t.map((l,u)=>S.jsx("span",{className:"pattern-text-item",children:"QuartettNation"},u))},s))}),S.jsx("div",{className:"card-back-logo",children:"QN"})]})},fu=({card:n,categories:t,compact:a=!1,onCategorySelect:s,isSelectable:l=!1,deckName:u,faceDown:c=!1,enableFlip:f=!1,flipped:m=null})=>{const[p,g]=ro.useState(!1),v=m!==null?m:p;if(c&&!f&&m===null)return S.jsx("div",{className:`card-scene ${a?"compact":""}`,children:S.jsx("div",{className:"card-face card-back",style:{position:"relative",transform:"none"},children:S.jsx(xv,{})})});if(!n)return null;const b=()=>{f&&m===null&&g(!p)},w=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"card-top-section",children:[u&&S.jsx("div",{className:"deck-name",children:u}),S.jsx("h3",{className:"card-name",children:n.name})]}),S.jsxs("div",{className:"card-image-wrapper",children:[S.jsx("img",{src:n.image_url||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' fill='%231f2937'/%3E%3Ctext x='50%25' y='50%25' font-family='sans-serif' font-size='48' fill='%236b7280' text-anchor='middle' dy='.3em'%3ENo Image%3C/text%3E%3C/svg%3E",alt:n.name,className:"card-image",style:n.image_settings?{transform:`translate(${n.image_settings.x}px, ${n.image_settings.y}px) scale(${n.image_settings.scale})`,transformOrigin:"center"}:{}}),S.jsx("div",{className:"card-attribution",children:n.attribution_text||"Public Domain"})]}),S.jsx("div",{className:"card-content",children:S.jsx("div",{className:"card-stats",children:t.map((E,T)=>{let O=E.name,j=E.unit;if(!j){const A=E.name.match(/^(.+?)\s*\[(.*?)\]$/);A&&(O=A[1].trim(),j=A[2].trim())}const D=n.values?n.values[E.name]:n.attributes?n.attributes[E.name]:"-";return S.jsxs("div",{className:`stat-row ${l?"selectable":""}`,onClick:A=>{v||l&&s&&(A.stopPropagation(),s(E.name))},children:[S.jsx("span",{className:"stat-label",children:O}),S.jsxs("span",{className:"stat-value",children:[D,j&&S.jsxs("span",{className:"stat-unit",children:[" ",j]})]})]},T)})})})]});return S.jsx("div",{className:`card-scene ${a?"compact":""} ${f?"clickable":""}`,onClick:f?b:void 0,children:S.jsxs("div",{className:`card-inner ${v?"is-flipped":""}`,children:[S.jsx("div",{className:"card-face card-front",children:w}),S.jsx("div",{className:"card-face card-back",children:S.jsx(xv,{})})]})})},W1=({card:n,index:t,onEdit:a,onImageLoaded:s,categories:l,deckName:u})=>{const c=ro.useRef(!1);return x.useEffect(()=>{n.image_url||c.current||n.name&&(c.current=!0,Yb(n.name,1).then(f=>{f.length>0&&s(t,{image_url:f[0].url,attribution_text:f[0].attribution})}).catch(console.error).finally(()=>c.current=!1))},[n.image_url,n.name]),S.jsxs("div",{className:"review-card-wrapper",children:[S.jsx(fu,{card:n,categories:l,deckName:u,compact:!1,enableFlip:!0}),S.jsx("button",{className:"card-edit-btn","aria-label":"Edit Card",onClick:f=>{f.stopPropagation(),a(t)},children:S.jsx(eA,{size:16})})]})},Q1=({deck:n,updateDeck:t,updateCard:a,onSave:s})=>{const[l,u]=x.useState(null),c=p=>{u(p)},f=(p,g)=>{a(p,g)},m=()=>{u(null)};return S.jsxs(S.Fragment,{children:[S.jsx(Hx,{open:l!==null,onClose:()=>u(null),title:l!==null?`Edit Card (${l+1}/${n.cards.length})`:"Edit Card",children:l!==null&&S.jsx(J1,{deck:n,currentIndex:l,onNavigate:u,updateDeck:t,onSave:m,isModal:!0})}),S.jsxs("div",{className:"image-grid-review",children:[S.jsx("p",{className:"hint-text",children:"Review your cards. Click the pen icon to edit images or stats."}),S.jsx("div",{className:"modern-grid",children:n.cards.map((p,g)=>S.jsx(W1,{card:p,index:g,onEdit:c,onImageLoaded:f,categories:n.categories,deckName:n.theme},g))}),S.jsx("div",{className:"review-actions",children:S.jsx(Je,{variant:"primary",onClick:s,fullWidth:!0,children:"Finish Deck"})})]})]})};var Av;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(Av||(Av={}));var Cv;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(Cv||(Cv={}));var Rv;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Rv||(Rv={}));const Ov=["user","model","function","system"];var jv;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(jv||(jv={}));var Nv;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Nv||(Nv={}));var Dv;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dv||(Dv={}));var kv;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(kv||(kv={}));var Hr;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(Hr||(Hr={}));var Mv;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(Mv||(Mv={}));var Uv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Uv||(Uv={}));var Lv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Lv||(Lv={}));class Mt extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class gs extends Mt{constructor(t,a){super(t),this.response=a}}class Fb extends Mt{constructor(t,a,s,l){super(t),this.status=a,this.statusText=s,this.errorDetails=l}}class $i extends Mt{}class Xb extends Mt{}const Z1="https://generativelanguage.googleapis.com",eR="v1beta",tR="0.24.1",nR="genai-js";var Ta;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ta||(Ta={}));class iR{constructor(t,a,s,l,u){this.model=t,this.task=a,this.apiKey=s,this.stream=l,this.requestOptions=u}toString(){var t,a;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||eR;let u=`${((a=this.requestOptions)===null||a===void 0?void 0:a.baseUrl)||Z1}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function aR(n){const t=[];return n?.apiClient&&t.push(n.apiClient),t.push(`${nR}/${tR}`),t.join(" ")}async function sR(n){var t;const a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",aR(n.requestOptions)),a.append("x-goog-api-key",n.apiKey);let s=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(l){throw new $i(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${l.message}`)}for(const[l,u]of s.entries()){if(l==="x-goog-api-key")throw new $i(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new $i(`Header name ${l} can only be set using the apiClient field`);a.append(l,u)}}return a}async function rR(n,t,a,s,l,u){const c=new iR(n,t,a,s,u);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},cR(u)),{method:"POST",headers:await sR(c),body:l})}}async function ho(n,t,a,s,l,u={},c=fetch){const{url:f,fetchOptions:m}=await rR(n,t,a,s,l,u);return oR(f,m,c)}async function oR(n,t,a=fetch){let s;try{s=await a(n,t)}catch(l){lR(l,n)}return s.ok||await uR(s,n),s}function lR(n,t){let a=n;throw a.name==="AbortError"?(a=new Xb(`Request aborted when fetching ${t.toString()}: ${n.message}`),a.stack=n.stack):n instanceof Fb||n instanceof $i||(a=new Mt(`Error fetching from ${t.toString()}: ${n.message}`),a.stack=n.stack),a}async function uR(n,t){let a="",s;try{const l=await n.json();a=l.error.message,l.error.details&&(a+=` ${JSON.stringify(l.error.details)}`,s=l.error.details)}catch{}throw new Fb(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${a}`,n.status,n.statusText,s)}function cR(n){const t={};if(n?.signal!==void 0||n?.timeout>=0){const a=new AbortController;n?.timeout>=0&&setTimeout(()=>a.abort(),n.timeout),n?.signal&&n.signal.addEventListener("abort",()=>{a.abort()}),t.signal=a.signal}return t}function od(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Gl(n.candidates[0]))throw new gs(`${Pi(n)}`,n);return hR(n)}else if(n.promptFeedback)throw new gs(`Text not available. ${Pi(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Gl(n.candidates[0]))throw new gs(`${Pi(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Bv(n)[0]}else if(n.promptFeedback)throw new gs(`Function call not available. ${Pi(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Gl(n.candidates[0]))throw new gs(`${Pi(n)}`,n);return Bv(n)}else if(n.promptFeedback)throw new gs(`Function call not available. ${Pi(n)}`,n)},n}function hR(n){var t,a,s,l;const u=[];if(!((a=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||a===void 0)&&a.parts)for(const c of(l=(s=n.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.text&&u.push(c.text),c.executableCode&&u.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&u.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function Bv(n){var t,a,s,l;const u=[];if(!((a=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||a===void 0)&&a.parts)for(const c of(l=(s=n.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.functionCall&&u.push(c.functionCall);if(u.length>0)return u}const fR=[Hr.RECITATION,Hr.SAFETY,Hr.LANGUAGE];function Gl(n){return!!n.finishReason&&fR.includes(n.finishReason)}function Pi(n){var t,a,s;let l="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)l+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(l+=` due to ${n.promptFeedback.blockReason}`),!((a=n.promptFeedback)===null||a===void 0)&&a.blockReasonMessage&&(l+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((s=n.candidates)===null||s===void 0)&&s[0]){const u=n.candidates[0];Gl(u)&&(l+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(l+=`: ${u.finishMessage}`))}return l}function Zr(n){return this instanceof Zr?(this.v=n,this):new Zr(n)}function dR(n,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(n,t||[]),l,u=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(b){s[b]&&(l[b]=function(w){return new Promise(function(E,T){u.push([b,w,E,T])>1||f(b,w)})})}function f(b,w){try{m(s[b](w))}catch(E){v(u[0][3],E)}}function m(b){b.value instanceof Zr?Promise.resolve(b.value.v).then(p,g):v(u[0][2],b)}function p(b){f("next",b)}function g(b){f("throw",b)}function v(b,w){b(w),u.shift(),u.length&&f(u[0][0],u[0][1])}}const zv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function mR(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),a=yR(t),[s,l]=a.tee();return{stream:gR(s),response:pR(l)}}async function pR(n){const t=[],a=n.getReader();for(;;){const{done:s,value:l}=await a.read();if(s)return od(vR(t));t.push(l)}}function gR(n){return dR(this,arguments,function*(){const a=n.getReader();for(;;){const{value:s,done:l}=yield Zr(a.read());if(l)break;yield yield Zr(od(s))}})}function yR(n){const t=n.getReader();return new ReadableStream({start(s){let l="";return u();function u(){return t.read().then(({value:c,done:f})=>{if(f){if(l.trim()){s.error(new Mt("Failed to parse stream"));return}s.close();return}l+=c;let m=l.match(zv),p;for(;m;){try{p=JSON.parse(m[1])}catch{s.error(new Mt(`Error parsing JSON response: "${m[1]}"`));return}s.enqueue(p),l=l.substring(m[0].length),m=l.match(zv)}return u()}).catch(c=>{let f=c;throw f.stack=c.stack,f.name==="AbortError"?f=new Xb("Request aborted when reading from the stream"):f=new Mt("Error reading from the stream"),f})}}})}function vR(n){const t=n[n.length-1],a={promptFeedback:t?.promptFeedback};for(const s of n){if(s.candidates){let l=0;for(const u of s.candidates)if(a.candidates||(a.candidates=[]),a.candidates[l]||(a.candidates[l]={index:l}),a.candidates[l].citationMetadata=u.citationMetadata,a.candidates[l].groundingMetadata=u.groundingMetadata,a.candidates[l].finishReason=u.finishReason,a.candidates[l].finishMessage=u.finishMessage,a.candidates[l].safetyRatings=u.safetyRatings,u.content&&u.content.parts){a.candidates[l].content||(a.candidates[l].content={role:u.content.role||"user",parts:[]});const c={};for(const f of u.content.parts)f.text&&(c.text=f.text),f.functionCall&&(c.functionCall=f.functionCall),f.executableCode&&(c.executableCode=f.executableCode),f.codeExecutionResult&&(c.codeExecutionResult=f.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),a.candidates[l].content.parts.push(c)}l++}s.usageMetadata&&(a.usageMetadata=s.usageMetadata)}return a}async function Jb(n,t,a,s){const l=await ho(t,Ta.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(a),s);return mR(l)}async function Wb(n,t,a,s){const u=await(await ho(t,Ta.GENERATE_CONTENT,n,!1,JSON.stringify(a),s)).json();return{response:od(u)}}function Qb(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function eo(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const a of n)typeof a=="string"?t.push({text:a}):t.push(a);return bR(t)}function bR(n){const t={role:"user",parts:[]},a={role:"function",parts:[]};let s=!1,l=!1;for(const u of n)"functionResponse"in u?(a.parts.push(u),l=!0):(t.parts.push(u),s=!0);if(s&&l)throw new Mt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!l)throw new Mt("No content is provided for sending chat message.");return s?t:a}function wR(n,t){var a;let s={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(a=t?.cachedContent)===null||a===void 0?void 0:a.name,contents:[]};const l=n.generateContentRequest!=null;if(n.contents){if(l)throw new $i("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=n.contents}else if(l)s=Object.assign(Object.assign({},s),n.generateContentRequest);else{const u=eo(n);s.contents=[u]}return{generateContentRequest:s}}function Vv(n){let t;return n.contents?t=n:t={contents:[eo(n)]},n.systemInstruction&&(t.systemInstruction=Qb(n.systemInstruction)),t}function _R(n){return typeof n=="string"||Array.isArray(n)?{content:eo(n)}:n}const Pv=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],SR={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ER(n){let t=!1;for(const a of n){const{role:s,parts:l}=a;if(!t&&s!=="user")throw new Mt(`First content should be with role 'user', got ${s}`);if(!Ov.includes(s))throw new Mt(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Ov)}`);if(!Array.isArray(l))throw new Mt("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new Mt("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const f of l)for(const m of Pv)m in f&&(u[m]+=1);const c=SR[s];for(const f of Pv)if(!c.includes(f)&&u[f]>0)throw new Mt(`Content with role '${s}' can't contain '${f}' part`);t=!0}}function Hv(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const a=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(a===void 0||a.parts===void 0||a.parts.length===0)return!1;for(const s of a.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const $v="SILENT_ERROR";class TR{constructor(t,a,s,l={}){this.model=a,this.params=s,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s?.history&&(ER(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,a={}){var s,l,u,c,f,m;await this._sendPromise;const p=eo(t),g={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),a);let b;return this._sendPromise=this._sendPromise.then(()=>Wb(this._apiKey,this.model,g,v)).then(w=>{var E;if(Hv(w.response)){this._history.push(p);const T=Object.assign({parts:[],role:"model"},(E=w.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(T)}else{const T=Pi(w.response);T&&console.warn(`sendMessage() was unsuccessful. ${T}. Inspect response object for details.`)}b=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,b}async sendMessageStream(t,a={}){var s,l,u,c,f,m;await this._sendPromise;const p=eo(t),g={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),a),b=Jb(this._apiKey,this.model,g,v);return this._sendPromise=this._sendPromise.then(()=>b).catch(w=>{throw new Error($v)}).then(w=>w.response).then(w=>{if(Hv(w)){this._history.push(p);const E=Object.assign({},w.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=Pi(w);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(w=>{w.message!==$v&&console.error(w)}),b}}async function xR(n,t,a,s){return(await ho(t,Ta.COUNT_TOKENS,n,!1,JSON.stringify(a),s)).json()}async function AR(n,t,a,s){return(await ho(t,Ta.EMBED_CONTENT,n,!1,JSON.stringify(a),s)).json()}async function CR(n,t,a,s){const l=a.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await ho(t,Ta.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:l}),s)).json()}class Iv{constructor(t,a,s={}){this.apiKey=t,this._requestOptions=s,a.model.includes("/")?this.model=a.model:this.model=`models/${a.model}`,this.generationConfig=a.generationConfig||{},this.safetySettings=a.safetySettings||[],this.tools=a.tools,this.toolConfig=a.toolConfig,this.systemInstruction=Qb(a.systemInstruction),this.cachedContent=a.cachedContent}async generateContent(t,a={}){var s;const l=Vv(t),u=Object.assign(Object.assign({},this._requestOptions),a);return Wb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),u)}async generateContentStream(t,a={}){var s;const l=Vv(t),u=Object.assign(Object.assign({},this._requestOptions),a);return Jb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),u)}startChat(t){var a;return new TR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},t),this._requestOptions)}async countTokens(t,a={}){const s=wR(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),a);return xR(this.apiKey,this.model,s,l)}async embedContent(t,a={}){const s=_R(t),l=Object.assign(Object.assign({},this._requestOptions),a);return AR(this.apiKey,this.model,s,l)}async batchEmbedContents(t,a={}){const s=Object.assign(Object.assign({},this._requestOptions),a);return CR(this.apiKey,this.model,t,s)}}class RR{constructor(t){this.apiKey=t}getGenerativeModel(t,a){if(!t.model)throw new Mt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Iv(this.apiKey,t,a)}getGenerativeModelFromCachedContent(t,a,s){if(!t.name)throw new $i("Cached content must contain a `name` field.");if(!t.model)throw new $i("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const c of l)if(a?.[c]&&t[c]&&a?.[c]!==t[c]){if(c==="model"){const f=a.model.startsWith("models/")?a.model.replace("models/",""):a.model,m=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(f===m)continue}throw new $i(`Different value for "${c}" specified in modelParams (${a[c]}) and cachedContent (${t[c]})`)}const u=Object.assign(Object.assign({},a),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Iv(this.apiKey,u,s)}}var Kl={exports:{}};var OR=Kl.exports,qv;function jR(){return qv||(qv=1,(function(n,t){((a,s)=>{n.exports=s()})(OR,function a(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},l,u=!s.document&&!!s.postMessage,c=s.IS_PAPA_WORKER||!1,f={},m=0,p={};function g(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var K=q(k);K.chunkSize=parseInt(K.chunkSize),k.step||k.chunk||(K.chunkSize=null),this._handle=new T(K),(this._handle.streamer=this)._config=K}).call(this,C),this.parseChunk=function(k,K){var te=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<te){let pe=this._config.newline;pe||(ee=this._config.quoteChar||'"',pe=this._handle.guessLineEndings(k,ee)),k=[...k.split(pe).slice(te)].join(pe)}this.isFirstChunk&&G(this._config.beforeFirstChunk)&&(ee=this._config.beforeFirstChunk(k))!==void 0&&(k=ee),this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+k,ee=(this._partialLine="",this._handle.parse(te,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=ee.meta.cursor,te=(this._finished||(this._partialLine=te.substring(k-this._baseIndex),this._baseIndex=k),ee&&ee.data&&(this._rowCount+=ee.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)s.postMessage({results:ee,workerId:p.WORKER_ID,finished:te});else if(G(this._config.chunk)&&!K){if(this._config.chunk(ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ee=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ee.data),this._completeResults.errors=this._completeResults.errors.concat(ee.errors),this._completeResults.meta=ee.meta),this._completed||!te||!G(this._config.complete)||ee&&ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),te||ee&&ee.meta.paused||this._nextChunk(),ee}this._halted=!0},this._sendError=function(k){G(this._config.error)?this._config.error(k):c&&this._config.error&&s.postMessage({workerId:p.WORKER_ID,error:k,finished:!1})}}function v(C){var k;(C=C||{}).chunkSize||(C.chunkSize=p.RemoteChunkSize),g.call(this,C),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),u||(k.onload=X(this._chunkLoaded,this),k.onerror=X(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var K,te=this._config.downloadRequestHeaders;for(K in te)k.setRequestHeader(K,te[K])}var ee;this._config.chunkSize&&(ee=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+ee));try{k.send(this._config.downloadRequestBody)}catch(pe){this._chunkError(pe.message)}u&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(K=>(K=K.getResponseHeader("Content-Range"))!==null?parseInt(K.substring(K.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(K){K=k.statusText||K,this._sendError(new Error(K))}}function b(C){(C=C||{}).chunkSize||(C.chunkSize=p.LocalChunkSize),g.call(this,C);var k,K,te=typeof FileReader<"u";this.stream=function(ee){this._input=ee,K=ee.slice||ee.webkitSlice||ee.mozSlice,te?((k=new FileReader).onload=X(this._chunkLoaded,this),k.onerror=X(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ee=this._input,pe=(this._config.chunkSize&&(pe=Math.min(this._start+this._config.chunkSize,this._input.size),ee=K.call(ee,this._start,pe)),k.readAsText(ee,this._config.encoding));te||this._chunkLoaded({target:{result:pe}})},this._chunkLoaded=function(ee){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ee.target.result)},this._chunkError=function(){this._sendError(k.error)}}function w(C){var k;g.call(this,C=C||{}),this.stream=function(K){return k=K,this._nextChunk()},this._nextChunk=function(){var K,te;if(!this._finished)return K=this._config.chunkSize,k=K?(te=k.substring(0,K),k.substring(K)):(te=k,""),this._finished=!k,this.parseChunk(te)}}function E(C){g.call(this,C=C||{});var k=[],K=!0,te=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ee){this._input=ee,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){te&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):K=!0},this._streamData=X(function(ee){try{k.push(typeof ee=="string"?ee:ee.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(pe){this._streamError(pe)}},this),this._streamError=X(function(ee){this._streamCleanUp(),this._sendError(ee)},this),this._streamEnd=X(function(){this._streamCleanUp(),te=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(C){var k,K,te,ee,pe=Math.pow(2,53),Re=-pe,Le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,I=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,Q=0,Z=0,ae=!1,R=!1,V=[],Y={data:[],errors:[],meta:{}};function ne(he){return C.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function se(){if(Y&&te&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),te=!1),C.skipEmptyLines&&(Y.data=Y.data.filter(function(Pe){return!ne(Pe)})),le()){let Pe=function(rt,je){G(C.transformHeader)&&(rt=C.transformHeader(rt,je)),V.push(rt)};var be=Pe;if(Y)if(Array.isArray(Y.data[0])){for(var he=0;le()&&he<Y.data.length;he++)Y.data[he].forEach(Pe);Y.data.splice(0,1)}else Y.data.forEach(Pe)}function ce(Pe,rt){for(var je=C.header?{}:[],Ne=0;Ne<Pe.length;Ne++){var _e=Ne,wt=Pe[Ne],wt=((Oe,He)=>(Ze=>(C.dynamicTypingFunction&&C.dynamicTyping[Ze]===void 0&&(C.dynamicTyping[Ze]=C.dynamicTypingFunction(Ze)),(C.dynamicTyping[Ze]||C.dynamicTyping)===!0))(Oe)?He==="true"||He==="TRUE"||He!=="false"&&He!=="FALSE"&&((Ze=>{if(Le.test(Ze)&&(Ze=parseFloat(Ze),Re<Ze&&Ze<pe))return 1})(He)?parseFloat(He):I.test(He)?new Date(He):He===""?null:He):He)(_e=C.header?Ne>=V.length?"__parsed_extra":V[Ne]:_e,wt=C.transform?C.transform(wt,_e):wt);_e==="__parsed_extra"?(je[_e]=je[_e]||[],je[_e].push(wt)):je[_e]=wt}return C.header&&(Ne>V.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ne,Z+rt):Ne<V.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ne,Z+rt)),je}var Ve;Y&&(C.header||C.dynamicTyping||C.transform)&&(Ve=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(ce),Ve=Y.data.length):Y.data=ce(Y.data,0),C.header&&Y.meta&&(Y.meta.fields=V),Z+=Ve)}function le(){return C.header&&V.length===0}function ve(he,ce,Ve,be){he={type:he,code:ce,message:Ve},be!==void 0&&(he.row=be),Y.errors.push(he)}G(C.step)&&(ee=C.step,C.step=function(he){Y=he,le()?se():(se(),Y.data.length!==0&&(Q+=he.data.length,C.preview&&Q>C.preview?K.abort():(Y.data=Y.data[0],ee(Y,L))))}),this.parse=function(he,ce,Ve){var be=C.quoteChar||'"',be=(C.newline||(C.newline=this.guessLineEndings(he,be)),te=!1,C.delimiter?G(C.delimiter)&&(C.delimiter=C.delimiter(he),Y.meta.delimiter=C.delimiter):((be=((Pe,rt,je,Ne,_e)=>{var wt,Oe,He,Ze;_e=_e||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var kn=0;kn<_e.length;kn++){for(var on,Ki=_e[kn],Ue=0,ln=0,ot=0,Et=(He=void 0,new j({comments:Ne,delimiter:Ki,newline:rt,preview:10}).parse(Pe)),zt=0;zt<Et.data.length;zt++)je&&ne(Et.data[zt])?ot++:(on=Et.data[zt].length,ln+=on,He===void 0?He=on:0<on&&(Ue+=Math.abs(on-He),He=on));0<Et.data.length&&(ln/=Et.data.length-ot),(Oe===void 0||Ue<=Oe)&&(Ze===void 0||Ze<ln)&&1.99<ln&&(Oe=Ue,wt=Ki,Ze=ln)}return{successful:!!(C.delimiter=wt),bestDelimiter:wt}})(he,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=be.bestDelimiter:(te=!0,C.delimiter=p.DefaultDelimiter),Y.meta.delimiter=C.delimiter),q(C));return C.preview&&C.header&&be.preview++,k=he,K=new j(be),Y=K.parse(k,ce,Ve),se(),ae?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,K.abort(),k=G(C.chunk)?"":k.substring(K.getCharIndex())},this.resume=function(){L.streamer._halted?(ae=!1,L.streamer.parseChunk(k,!0)):setTimeout(L.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,K.abort(),Y.meta.aborted=!0,G(C.complete)&&C.complete(Y),k=""},this.guessLineEndings=function(Pe,be){Pe=Pe.substring(0,1048576);var be=new RegExp(O(be)+"([^]*?)"+O(be),"gm"),Ve=(Pe=Pe.replace(be,"")).split("\r"),be=Pe.split(`
`),Pe=1<be.length&&be[0].length<Ve[0].length;if(Ve.length===1||Pe)return`
`;for(var rt=0,je=0;je<Ve.length;je++)Ve[je][0]===`
`&&rt++;return rt>=Ve.length/2?`\r
`:"\r"}}function O(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(C){var k=(C=C||{}).delimiter,K=C.newline,te=C.comments,ee=C.step,pe=C.preview,Re=C.fastMode,Le=null,I=!1,L=C.quoteChar==null?'"':C.quoteChar,Q=L;if(C.escapeChar!==void 0&&(Q=C.escapeChar),(typeof k!="string"||-1<p.BAD_DELIMITERS.indexOf(k))&&(k=","),te===k)throw new Error("Comment character same as delimiter");te===!0?te="#":(typeof te!="string"||-1<p.BAD_DELIMITERS.indexOf(te))&&(te=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var Z=0,ae=!1;this.parse=function(R,V,Y){if(typeof R!="string")throw new Error("Input must be a string");var ne=R.length,se=k.length,le=K.length,ve=te.length,he=G(ee),ce=[],Ve=[],be=[],Pe=Z=0;if(!R)return Ue();if(Re||Re!==!1&&R.indexOf(L)===-1){for(var rt=R.split(K),je=0;je<rt.length;je++){if(be=rt[je],Z+=be.length,je!==rt.length-1)Z+=K.length;else if(Y)return Ue();if(!te||be.substring(0,ve)!==te){if(he){if(ce=[],Ze(be.split(k)),ln(),ae)return Ue()}else Ze(be.split(k));if(pe&&pe<=je)return ce=ce.slice(0,pe),Ue(!0)}}return Ue()}for(var Ne=R.indexOf(k,Z),_e=R.indexOf(K,Z),wt=new RegExp(O(Q)+O(L),"g"),Oe=R.indexOf(L,Z);;)if(R[Z]===L)for(Oe=Z,Z++;;){if((Oe=R.indexOf(L,Oe+1))===-1)return Y||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:Z}),on();if(Oe===ne-1)return on(R.substring(Z,Oe).replace(wt,L));if(L===Q&&R[Oe+1]===Q)Oe++;else if(L===Q||Oe===0||R[Oe-1]!==Q){Ne!==-1&&Ne<Oe+1&&(Ne=R.indexOf(k,Oe+1));var He=kn((_e=_e!==-1&&_e<Oe+1?R.indexOf(K,Oe+1):_e)===-1?Ne:Math.min(Ne,_e));if(R.substr(Oe+1+He,se)===k){be.push(R.substring(Z,Oe).replace(wt,L)),R[Z=Oe+1+He+se]!==L&&(Oe=R.indexOf(L,Z)),Ne=R.indexOf(k,Z),_e=R.indexOf(K,Z);break}if(He=kn(_e),R.substring(Oe+1+He,Oe+1+He+le)===K){if(be.push(R.substring(Z,Oe).replace(wt,L)),Ki(Oe+1+He+le),Ne=R.indexOf(k,Z),Oe=R.indexOf(L,Z),he&&(ln(),ae))return Ue();if(pe&&ce.length>=pe)return Ue(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:Z}),Oe++}}else if(te&&be.length===0&&R.substring(Z,Z+ve)===te){if(_e===-1)return Ue();Z=_e+le,_e=R.indexOf(K,Z),Ne=R.indexOf(k,Z)}else if(Ne!==-1&&(Ne<_e||_e===-1))be.push(R.substring(Z,Ne)),Z=Ne+se,Ne=R.indexOf(k,Z);else{if(_e===-1)break;if(be.push(R.substring(Z,_e)),Ki(_e+le),he&&(ln(),ae))return Ue();if(pe&&ce.length>=pe)return Ue(!0)}return on();function Ze(ot){ce.push(ot),Pe=Z}function kn(ot){var Et=0;return Et=ot!==-1&&(ot=R.substring(Oe+1,ot))&&ot.trim()===""?ot.length:Et}function on(ot){return Y||(ot===void 0&&(ot=R.substring(Z)),be.push(ot),Z=ne,Ze(be),he&&ln()),Ue()}function Ki(ot){Z=ot,Ze(be),be=[],_e=R.indexOf(K,Z)}function Ue(ot){if(C.header&&!V&&ce.length&&!I){var Et=ce[0],zt=Object.create(null),Vs=new Set(Et);let Ps=!1;for(let fi=0;fi<Et.length;fi++){let un=Et[fi];if(zt[un=G(C.transformHeader)?C.transformHeader(un,fi):un]){let En,Dt=zt[un];for(;En=un+"_"+Dt,Dt++,Vs.has(En););Vs.add(En),Et[fi]=En,zt[un]++,Ps=!0,(Le=Le===null?{}:Le)[En]=un}else zt[un]=1,Et[fi]=un;Vs.add(un)}Ps&&console.warn("Duplicate headers found and renamed."),I=!0}return{data:ce,errors:Ve,meta:{delimiter:k,linebreak:K,aborted:ae,truncated:!!ot,cursor:Pe+(V||0),renamedHeaders:Le}}}function ln(){ee(Ue()),ce=[],Ve=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return Z}}function D(C){var k=C.data,K=f[k.workerId],te=!1;if(k.error)K.userError(k.error,k.file);else if(k.results&&k.results.data){var ee={abort:function(){te=!0,A(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(G(K.userStep)){for(var pe=0;pe<k.results.data.length&&(K.userStep({data:k.results.data[pe],errors:k.results.errors,meta:k.results.meta},ee),!te);pe++);delete k.results}else G(K.userChunk)&&(K.userChunk(k.results,ee,k.file),delete k.results)}k.finished&&!te&&A(k.workerId,k.results)}function A(C,k){var K=f[C];G(K.userComplete)&&K.userComplete(k),K.terminate(),delete f[C]}function P(){throw new Error("Not implemented.")}function q(C){if(typeof C!="object"||C===null)return C;var k,K=Array.isArray(C)?[]:{};for(k in C)K[k]=q(C[k]);return K}function X(C,k){return function(){C.apply(k,arguments)}}function G(C){return typeof C=="function"}return p.parse=function(C,k){var K=(k=k||{}).dynamicTyping||!1;if(G(K)&&(k.dynamicTypingFunction=K,K={}),k.dynamicTyping=K,k.transform=!!G(k.transform)&&k.transform,!k.worker||!p.WORKERS_SUPPORTED)return K=null,p.NODE_STREAM_INPUT,typeof C=="string"?(C=(te=>te.charCodeAt(0)!==65279?te:te.slice(1))(C),K=new(k.download?v:w)(k)):C.readable===!0&&G(C.read)&&G(C.on)?K=new E(k):(s.File&&C instanceof File||C instanceof Object)&&(K=new b(k)),K.stream(C);(K=(()=>{var te;return!!p.WORKERS_SUPPORTED&&(te=(()=>{var ee=s.URL||s.webkitURL||null,pe=a.toString();return p.BLOB_URL||(p.BLOB_URL=ee.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",pe,")();"],{type:"text/javascript"})))})(),(te=new s.Worker(te)).onmessage=D,te.id=m++,f[te.id]=te)})()).userStep=k.step,K.userChunk=k.chunk,K.userComplete=k.complete,K.userError=k.error,k.step=G(k.step),k.chunk=G(k.chunk),k.complete=G(k.complete),k.error=G(k.error),delete k.worker,K.postMessage({input:C,config:k,workerId:K.id})},p.unparse=function(C,k){var K=!1,te=!0,ee=",",pe=`\r
`,Re='"',Le=Re+Re,I=!1,L=null,Q=!1,Z=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||p.BAD_DELIMITERS.filter(function(V){return k.delimiter.indexOf(V)!==-1}).length||(ee=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(K=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(I=k.skipEmptyLines),typeof k.newline=="string"&&(pe=k.newline),typeof k.quoteChar=="string"&&(Re=k.quoteChar),typeof k.header=="boolean"&&(te=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");L=k.columns}k.escapeChar!==void 0&&(Le=k.escapeChar+Re),k.escapeFormulae instanceof RegExp?Q=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(O(Re),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return ae(null,C,I);if(typeof C[0]=="object")return ae(L||Object.keys(C[0]),C,I)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||L),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),ae(C.fields||[],C.data||[],I);throw new Error("Unable to serialize unrecognized input");function ae(V,Y,ne){var se="",le=(typeof V=="string"&&(V=JSON.parse(V)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(V)&&0<V.length),ve=!Array.isArray(Y[0]);if(le&&te){for(var he=0;he<V.length;he++)0<he&&(se+=ee),se+=R(V[he],he);0<Y.length&&(se+=pe)}for(var ce=0;ce<Y.length;ce++){var Ve=(le?V:Y[ce]).length,be=!1,Pe=le?Object.keys(Y[ce]).length===0:Y[ce].length===0;if(ne&&!le&&(be=ne==="greedy"?Y[ce].join("").trim()==="":Y[ce].length===1&&Y[ce][0].length===0),ne==="greedy"&&le){for(var rt=[],je=0;je<Ve;je++){var Ne=ve?V[je]:je;rt.push(Y[ce][Ne])}be=rt.join("").trim()===""}if(!be){for(var _e=0;_e<Ve;_e++){0<_e&&!Pe&&(se+=ee);var wt=le&&ve?V[_e]:_e;se+=R(Y[ce][wt],_e)}ce<Y.length-1&&(!ne||0<Ve&&!Pe)&&(se+=pe)}}return se}function R(V,Y){var ne,se;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(se=!1,Q&&typeof V=="string"&&Q.test(V)&&(V="'"+V,se=!0),ne=V.toString().replace(Z,Le),(se=se||K===!0||typeof K=="function"&&K(V,Y)||Array.isArray(K)&&K[Y]||((le,ve)=>{for(var he=0;he<ve.length;he++)if(-1<le.indexOf(ve[he]))return!0;return!1})(ne,p.BAD_DELIMITERS)||-1<ne.indexOf(ee)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?Re+ne+Re:ne)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!u&&!!s.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=j,p.ParserHandle=T,p.NetworkStreamer=v,p.FileStreamer=b,p.StringStreamer=w,p.ReadableStreamStreamer=E,s.jQuery&&((l=s.jQuery).fn.parse=function(C){var k=C.config||{},K=[];return this.each(function(pe){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var Re=0;Re<this.files.length;Re++)K.push({file:this.files[Re],inputElem:this,instanceConfig:l.extend({},k)})}),te(),this;function te(){if(K.length===0)G(C.complete)&&C.complete();else{var pe,Re,Le,I,L=K[0];if(G(C.before)){var Q=C.before(L.file,L.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return pe="AbortError",Re=L.file,Le=L.inputElem,I=Q.reason,void(G(C.error)&&C.error({name:pe},Re,Le,I));if(Q.action==="skip")return void ee();typeof Q.config=="object"&&(L.instanceConfig=l.extend(L.instanceConfig,Q.config))}else if(Q==="skip")return void ee()}var Z=L.instanceConfig.complete;L.instanceConfig.complete=function(ae){G(Z)&&Z(ae,L.file,L.inputElem),ee()},p.parse(L.file,L.instanceConfig)}}function ee(){K.splice(0,1),te()}}),c&&(s.onmessage=function(C){C=C.data,p.WORKER_ID===void 0&&C&&(p.WORKER_ID=C.workerId),typeof C.input=="string"?s.postMessage({workerId:p.WORKER_ID,results:p.parse(C.input,C.config),finished:!0}):(s.File&&C.input instanceof File||C.input instanceof Object)&&(C=p.parse(C.input,C.config))&&s.postMessage({workerId:p.WORKER_ID,results:C,finished:!0})}),(v.prototype=Object.create(g.prototype)).constructor=v,(b.prototype=Object.create(g.prototype)).constructor=b,(w.prototype=Object.create(w.prototype)).constructor=w,(E.prototype=Object.create(g.prototype)).constructor=E,p})})(Kl)),Kl.exports}var NR=jR();const DR=sb(NR),kR="AIzaSyC8-bXptWzVUojHP0NNAnkqlE2obDkNSCM";let Tf=null;Tf=new RR(kR);function Zb(){return localStorage.getItem("selectedModel")||"gemma-3-27b-it"}const ld=async n=>{if(!Tf)throw new Error("API Key missing");const t=Zb(),a=Tf.getGenerativeModel({model:t});console.log("AI Prompt:",n);try{const l=(await a.generateContent(n)).response.text();return console.log("AI Response:",l),l.replace(/```csv/g,"").replace(/```/g,"").trim()}catch(s){throw console.error("AI Error:",s),s.message?.includes("429")?new Error("Quota Exceeded. Please wait a minute and try again."):s}},MR=(n,t=",")=>DR.parse(n,{delimiter:t,skipEmptyLines:!0,trimHeaders:!0}).data;async function UR(n){const t=`
Theme: "${n}"

Task:
Create exactly 4 categories for numeric attributes of items of the given theme.
Each category MUST include either a unit or "out of 10" in brackets if applicable. No explanation.

Format Example:
Top Speed [km/h], Weight [kg], Power [hp], 0-100 Time [s]
`;return(await ld(t)).split(",").map(u=>u.trim()).map(u=>({name:u,higherWins:!0}))}async function ew(n,t,a=32){const s=`
Task: Generate exactly ${a} unique entries in a list of ${n}.
Return a simple line-break separated list. No explanation.

Example:
Item 1
Item 2
Item 3
`;return{cardNames:(await ld(s)).split(`
`).map(c=>c.replace(/^[\d]+[.)\-]\s*/,"").trim()).filter(c=>c.length>0).slice(0,a)}}async function tw(n,t,a){const l=`Name,${t.map(g=>g.name).join(",")}`,u=a.map(g=>{const v=new Array(t.length).fill("?").join(",");return`${g},${v}`}).join(`
`),c=`
Theme: "${n}"
Task: Fill in the missing values ('?') in the CSV table below. No explanation.

Rules:
1. Stats: Provide numeric values only for the categories.
2. Return the COMPLETE filled CSV table, keeping the same header and row order.

CSV Template to Fill:
${l}
${u}
`,f=await ld(c),m=MR(f,","),p=[];for(const g of m){if(g.length<2)continue;const v=g[0]?.trim();if(!v||v==="Name")continue;const b={};t.forEach((w,E)=>{const T=g[1+E],O=String(T).replace(/[^\d.-]/g,""),j=parseFloat(O);b[w.name]=isNaN(j)?0:j}),p.push({name:v,values:b})}return{cards:p}}const LR=Object.freeze(Object.defineProperty({__proto__:null,generateCardDetails:tw,generateCardNames:ew,generateCategories:UR,getSelectedModel:Zb},Symbol.toStringTag,{value:"Module"})),BR=({initialPartialDeck:n,onSave:t,onCancel:a,theme:s,targetCount:l=32})=>{const[u,c]=x.useState(1),[f,m]=x.useState(n),[p,g]=x.useState(!1),[v,b]=x.useState(""),{setTitle:w,setBackTo:E}=Ms();ro.useEffect(()=>{w({1:"Review Categories",2:"Review Card Names",3:"Edit Images"}[u]),E(u===1?()=>a:()=>()=>c(u-1))},[u,w,E,a]);const T=A=>{m(P=>({...P,...A}))},O=(A,P)=>{m(q=>{const X=[...q.cards];return X[A]={...X[A],...P},{...q,cards:X}})},j=async()=>{g(!0),b("Generating Card Names...");try{const P=(await ew(s,f.categories,l)).cardNames.map((q,X)=>({index:X+1,name:q,values:{}}));T({cards:P}),c(2)}catch(A){alert("Error generating names: "+A.message)}finally{g(!1)}},D=async()=>{g(!0),b("Generating Stats...");try{const A=await tw(s,f.categories,f.cards.map(P=>P.name));T({cards:A.cards}),c(3)}catch(A){alert("Error generating details: "+A.message)}finally{g(!1)}};return p?S.jsxs("div",{className:"deck-review-loading",children:[S.jsx("div",{className:"spinner"}),S.jsx("h3",{children:v})]}):S.jsx("div",{className:"deck-review-container",children:S.jsxs("div",{className:"review-content",children:[S.jsxs("div",{className:"step-indicator",style:{textAlign:"center",marginBottom:"var(--spacing-md)",color:"var(--text-dim)",fontSize:"0.9rem"},children:["Step ",u,"/3"]}),u===1&&S.jsx(I1,{deck:f,updateDeck:T,onNext:j}),u===2&&S.jsx(q1,{deck:f,updateDeck:T,onNext:D}),u===3&&S.jsx(Q1,{deck:f,updateDeck:T,updateCard:O,onSave:()=>t(f)})]})})};async function zR(n){if(!n)return[];const{data:t,error:a}=await bt.from("decks").select("*, cards(count)").eq("created_by",n).order("created_at",{ascending:!1});if(a)throw a;const{data:s,error:l}=await bt.from("deck_access").select("deck:decks(*, cards(count))").eq("user_id",n);if(l)throw l;const u=s.map(f=>({...f.deck,isShared:!0}));return[...t||[],...u].sort((f,m)=>new Date(m.created_at)-new Date(f.created_at))}async function VR(n,t){const{data:a}=await bt.from("decks").select("created_by").eq("id",n).single();if(a&&a.created_by===t)return;const{error:s}=await bt.from("deck_access").upsert({deck_id:n,user_id:t,access_level:"read",last_accessed_at:new Date},{onConflict:"user_id, deck_id"});s&&console.error("Error granting deck access:",s)}async function nw(n){const{data:t,error:a}=await bt.from("decks").select("*, cards(*)").eq("id",n).single();if(a)throw a;return t.cards&&t.cards.sort((s,l)=>s.name.localeCompare(l.name)),t}async function PR(n,t,a){const{data:s,error:l}=await bt.from("decks").insert({name:n.name,theme:n.theme,categories:n.categories,created_by:a}).select().single();if(l)throw l;const u=t.map(f=>({deck_id:s.id,name:f.name,image_url:f.image_url,attribution_text:f.attribution_text,attributes:f.values||f.attributes})),{error:c}=await bt.from("cards").insert(u);if(c)throw c;return s}async function HR(n,t){const{data:a}=await bt.from("decks").select("created_by").eq("id",n).single();if(a&&a.created_by&&a.created_by!==t)throw new Error("Unauthorized: You do not own this deck.");const{error:s}=await bt.from("decks").delete().eq("id",n);if(s)throw s}const $R=()=>{const[n,t]=x.useState(""),[a,s]=x.useState(32),[l,u]=x.useState(!1),[c,f]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(!1),b=ks(),{user:w}=Us(),{setTitle:E,setBackTo:T}=Ms();x.useEffect(()=>{g||(E("Create Deck"),T("/"))},[g]);const O=x.useCallback(async A=>{try{if(!w)throw new Error("You must be logged in to save a deck.");await PR({name:A.deckName,theme:A.theme,categories:A.categories},A.cards,w.id),alert("Deck saved successfully!"),v(!1),p(null),b("/collection")}catch(P){console.error("Error saving deck:",P),alert("Failed to save deck: "+P.message)}},[w,b]),j=async()=>{if(n.trim()){u(!0),f(null);try{console.log("Starting progressive generation...");const{generateCategories:A}=await $1(async()=>{const{generateCategories:q}=await Promise.resolve().then(()=>LR);return{generateCategories:q}},[]),P=await A(n);console.log("Categories generated:",P),p({deckName:n,theme:n,categories:P,cards:[]}),v(!0)}catch(A){console.error("Deck Generation Failed:",A),f(A.message||"Failed to generate deck")}finally{u(!1)}}},D=x.useCallback(()=>{v(!1),p(null)},[]);return S.jsxs("div",{className:"page-view app-card",children:[!g&&S.jsx("div",{style:{height:"var(--spacing-md)"}})," ",m?g?S.jsx(BR,{initialPartialDeck:m,theme:n,targetCount:a,onSave:O,onCancel:D}):null:S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"input-group",children:S.jsx(_a,{label:"Deck Theme",placeholder:"e.g. Vintage Supercars, Marvel Heroes...",value:n,onChange:A=>t(A.target.value),disabled:l})}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Number of Cards"}),S.jsx("div",{className:"size-selector",style:{display:"flex",gap:"10px"},children:[12,16,24,32].map(A=>S.jsx(Je,{variant:a===A?"primary":"secondary",onClick:()=>s(A),style:{flex:1},disabled:l,size:"sm",children:A},A))})]}),c&&S.jsx("div",{className:"error-message",style:{color:"var(--danger)",fontSize:"0.9rem"},children:c}),S.jsx(Je,{variant:"primary",onClick:j,disabled:l||!n.trim(),loading:l,fullWidth:!0,children:l?"Generating...":"Generate with AI"})]})]})};async function IR(n,t,a){const{data:s,error:l}=await bt.from("games").insert({host_deck_id:n,status:"lobby",game_state:{players:[{id:t,name:a,isHost:!0,hand:[],cardsWon:[]}],pot:[],chat:[]}}).select().single();if(l)throw l;return s}function qR(n,t){const a=bt.channel(`game:${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${n}`},s=>{t(s)}).subscribe(s=>{console.log(`[GameService] Subscription status for ${n}:`,s)});return()=>{bt.removeChannel(a)}}async function zl(n,t,a=null){const s={game_state:t};a&&(s.status=a);const{error:l}=await bt.from("games").update(s).eq("id",n);l&&console.error("Sync Error:",l)}const GR=({deckId:n,onBack:t})=>{const[a,s]=x.useState(null),[l,u]=x.useState(!0),[c,f]=x.useState("grid");return x.useEffect(()=>{(async()=>{try{const p=await nw(n);s(p)}catch(p){console.error(p)}finally{u(!1)}})()},[n]),l?S.jsx("div",{className:"p-4 text-center",children:"Loading deck details..."}):a?S.jsxs("div",{className:"page-view app-card",children:[S.jsxs("div",{className:"detail-header",children:[S.jsxs(Je,{variant:"ghost",size:"sm",onClick:t,className:"back-btn",children:[S.jsx(Cb,{size:16})," Back"]}),S.jsxs("div",{className:"view-toggles",children:[S.jsx("button",{className:`toggle-btn ${c==="grid"?"active":""}`,onClick:()=>f("grid"),title:"Card View",children:S.jsx(Jx,{size:20})}),S.jsx("button",{className:`toggle-btn ${c==="table"?"active":""}`,onClick:()=>f("table"),title:"Table View",children:S.jsx(Qx,{size:20})})]})]}),S.jsxs("h2",{className:"deck-title gradient-text",children:[a.name," ",S.jsxs("span",{className:"deck-theme",children:["(",a.theme,")"]})]}),c==="grid"?S.jsx("div",{className:"modern-grid",children:a.cards.map(m=>S.jsx(fu,{card:m,categories:a.categories,deckName:a.name,enableFlip:!0},m.id))}):S.jsx("div",{className:"table-container",children:S.jsxs("table",{className:"stats-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Name"}),a.categories.map((m,p)=>{const g=m.name.match(/^(.+?)\s*\[(.*?)\]$/),v=g?g[1].trim():m.name,b=g?g[2].trim():m.unit;return S.jsxs("th",{children:[v," ",S.jsx("span",{className:"th-unit",children:b})]},p)})]})}),S.jsx("tbody",{children:a.cards.map(m=>S.jsxs("tr",{children:[S.jsx("td",{className:"card-name-cell",children:m.name}),a.categories.map((p,g)=>S.jsx("td",{children:(m.values&&m.values[p.name])??(m.attributes&&m.attributes[p.name])??"-"},g))]},m.id))})]})})]}):S.jsx("div",{className:"p-4 text-center",children:"Deck not found"})},KR=()=>{const[n,t]=x.useState([]),[a,s]=x.useState(!0),[l,u]=x.useState(null),c=ks(),{setTitle:f,setBackTo:m}=Ms(),{user:p}=Us();x.useEffect(()=>{p&&g()},[p]),x.useEffect(()=>{l||(f("My Collection"),m("/"))},[l]);const g=async()=>{try{const T=await zR(p.id);t(T)}catch(T){console.error("Error fetching decks:",T)}finally{s(!1)}},v=async(T,O)=>{if(T.stopPropagation(),window.confirm("Are you sure you want to delete this deck? This action cannot be undone."))try{await HR(O,p.id),t(j=>j.filter(D=>D.id!==O))}catch(j){console.error("Error deleting deck:",j),alert("Failed to delete deck: "+j.message)}};if(l)return S.jsx(GR,{deckId:l,onBack:()=>u(null)});const b=n.filter(T=>!T.isShared),w=n.filter(T=>T.isShared),E=({items:T,title:O})=>S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsx("h3",{style:{marginBottom:"1rem",color:"var(--text-dim)",textTransform:"uppercase",fontSize:"0.9rem",letterSpacing:"0.05em"},children:O}),S.jsx("div",{className:"modern-list",children:T.map(j=>{const D=!j.isShared;return S.jsxs("div",{className:"modern-list-item",children:[S.jsxs("div",{className:"deck-info",onClick:()=>u(j.id),style:{cursor:"pointer",flex:1},children:[S.jsx("h3",{children:j.name}),S.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.85rem",margin:"4px 0"},children:j.categories?.map(A=>A.name).join("  ")}),S.jsxs("div",{className:"deck-meta",style:{display:"flex",gap:"12px",fontSize:"0.8rem",color:"var(--text-dim)"},children:[S.jsxs("span",{children:[j.cards?.[0]?.count||0," Cards"]}),S.jsx("span",{children:new Date(j.created_at).toLocaleDateString()}),j.isShared&&S.jsx("span",{style:{color:"var(--accent)",fontWeight:"bold"},children:"Shared"})]})]}),S.jsxs("div",{className:"deck-actions",children:[D&&S.jsx(Je,{variant:"ghost",size:"sm",onClick:A=>v(A,j.id),title:"Delete Deck",style:{color:"var(--danger)"},children:S.jsx(nA,{size:16})}),S.jsx(Je,{variant:"secondary",size:"sm",onClick:A=>{A.stopPropagation(),u(j.id)},children:"View"}),S.jsx(Je,{variant:"primary",size:"sm",onClick:async A=>{A.stopPropagation();try{const P=p.user_metadata?.full_name||p.email?.split("@")[0]||"Player",q=await IR(j.id,p.id,`${P} (Host)`);c(`/game/${q.id}`)}catch(P){console.error(P),alert("Failed to create game")}},children:"Play"})]})]},j.id)})})]});return S.jsx("div",{className:"page-view app-card",children:a?S.jsx("div",{className:"loading",children:"Loading decks..."}):n.length===0?S.jsx(xb,{message:"You haven't created any decks yet.",children:S.jsx(Je,{variant:"primary",onClick:()=>c("/create"),style:{marginTop:"16px"},children:"Create Deck"})}):S.jsxs(S.Fragment,{children:[b.length>0&&S.jsx(E,{items:b,title:"My Decks"}),w.length>0&&S.jsx(E,{items:w,title:"Shared with Me"})]})})};function YR(n,t,a){let s={...n};const l=s.players.map(w=>({...w,hand:[...w.hand]}));let u=[...s.pot];s.pot=[];const c=t.categories.find(w=>w.name===a),f=c?c.higherWins:!0;let m=l.filter(w=>!w.eliminated);m.length<2&&s.winner;let p=null,g=[],v=[];for(;!p;){const w=m.filter(A=>A.hand.length>0);if(w.length===0)break;if(w.length===1){p=w[0];break}m=w;const E=m.map(A=>{const P=A.hand[0],q=P.attributes?P.attributes[a]:P.values?P.values[a]:0,X=parseFloat(q)||0;return{playerId:A.id,playerName:A.name,card:P,value:X,playerRef:A}}),T=E.map(A=>A.card);u.push(...T),E.forEach(A=>{A.playerRef.hand.shift()});const O=f?1:-1;E.sort((A,P)=>(P.value-A.value)*O);const j=E[0].value,D=E.filter(A=>A.value===j);g=E,v.push({winner:D.length===1?D[0].playerId:null,cardsPlayed:E.map(A=>({playerId:A.playerId,playerName:A.playerName,card:A.card,value:A.value}))}),D.length===1?p=D[0].playerRef:m=D.map(A=>A.playerRef)}p?(p.hand.push(...u),s.warMode=!1,s.warParticipants=null,s.turnPlayerId=p.id,s.lastRound={category:a,winner:p.id,winnerName:p.name,warHistory:v,cardsPlayed:g.map(w=>({playerId:w.playerId,playerName:w.playerName,card:w.card}))}):(s.warMode=!1,s.turnPlayerId=null,s.lastRound={category:a,winner:null,winnerName:null,warHistory:v,cardsPlayed:g.map(w=>({playerId:w.playerId,playerName:w.playerName,card:w.card}))}),s.players=l,s.pot=[],s.players.forEach(w=>{w.hand.length===0&&(w.eliminated=!0)});const b=s.players.filter(w=>!w.eliminated);return b.length===1?(s.winner=b[0],s.status="completed"):b.length===0&&(s.status="completed",s.winner={name:"No One (Draw)"}),s.status!=="completed"&&(!s.turnPlayerId||s.players.find(w=>w.id===s.turnPlayerId)?.eliminated)&&(s.turnPlayerId=b[0]?.id),s}function FR(n,t){const a=[...t];for(let c=a.length-1;c>0;c--){const f=Math.floor(Math.random()*(c+1));[a[c],a[f]]=[a[f],a[c]]}const s=n.map(c=>({...c,hand:[],cardsWon:[],eliminated:!1})),l=Math.floor(a.length/s.length);s.forEach((c,f)=>{const m=f*l,p=m+l;c.hand=a.slice(m,p)});const u=a.slice(s.length*l);return{players:s,pot:u,turnPlayerId:s[0].id,warMode:!1,lastRound:null,winner:null,status:"active"}}function XR(n,t){let a={...n};const s=a.players.findIndex(c=>c.id===t);if(s===-1)return a;const l={...a.players[s]};a.pot=[...a.pot,...l.hand],l.hand=[],l.eliminated=!0,a.players=[...a.players],a.players[s]=l;const u=a.players.filter(c=>!c.eliminated);return u.length===1&&(a.winner=u[0],a.status="completed"),a.turnPlayerId===t&&a.status!=="completed"&&(a.turnPlayerId=u[0]?.id),a}function JR(n){const{user:t}=Us(),[a,s]=x.useState(sessionStorage.getItem("qn_player_id")),l=t?t.id:a,[u,c]=x.useState(null),[f,m]=x.useState("loading"),[p,g]=x.useState(null),[v,b]=x.useState(null),w=u?.players?.[0]?.id===l,E=u?.players?.find(P=>P.id===l),T=u?.turnPlayerId===l;u?.warMode,x.useEffect(()=>{if(!t&&!a){const P=crypto.randomUUID();console.log(`[useGame] Generated new Guest ID: ${P}`),sessionStorage.setItem("qn_player_id",P),s(P)}},[t,a]),x.useEffect(()=>{if(!n)return;(async()=>{const{data:X,error:G}=await bt.from("games").select("*").eq("id",n).single();if(G){g(G.message);return}if(c(X.game_state),m(X.status),X.host_deck_id){const C=await nw(X.host_deck_id);b(C)}})();const q=qR(n,X=>{console.log("[useGame] Received Update:",X),X.new&&(c(X.new.game_state),m(X.new.status))});return()=>q()},[n]);const O=async P=>{if(!n||!l){console.error("[useGame] Join aborted: Missing gameId or playerId",{gameId:n,playerId:l});return}if(console.log(`[useGame] Joining game ${n} with name ${P}`),u?.players?.find(q=>q.id===l)){console.warn(`[useGame] Player ${l} already in game`);return}try{const q=u?.players||[];if(console.log("[useGame] Current players:",q),q.length>=4)throw new Error("Lobby Full");const X={id:l,name:P,isHost:!1,hand:[],cardsWon:[]},G={...u,players:[...q,X]};await zl(n,G),console.log("[useGame] Join successful")}catch(q){console.error("[useGame] Join Failed:",q),g(q.message)}},j=async()=>{if(!w||!v)return;const P=FR(u.players,v.cards),q={...u,...P};await zl(n,q,"active")},D=async P=>{if(T)try{const q=YR(u,v,P),X=q.winner?"completed":"active";await zl(n,q,X)}catch(q){console.error("Game Logic Error:",q)}},A=async()=>{if(!(!u||!E)&&window.confirm("Are you sure you want to surrender? You will be eliminated from the game."))try{const P=XR(u,E.id),q=P.winner?"completed":"active";await zl(n,P,q)}catch(P){console.error("Concede Error:",P)}};return{gameState:u,status:f,myPlayer:E,isHost:w,isMyTurn:T,players:u?.players||[],deck:v,actions:{join:O,start:j,playTurn:D,concede:A},error:p}}const WR=({matchId:n,players:t,isHost:a,onStart:s})=>{const l=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return S.jsxs("div",{className:"page-view app-card",children:[S.jsxs("div",{className:"lobby-header",style:{paddingTop:0},children:[S.jsx("p",{className:"lobby-subtitle",style:{marginTop:0},children:"Waiting for players to join..."}),S.jsxs("div",{className:"match-id-container",children:[S.jsx("code",{className:"match-code",children:n}),S.jsx(Je,{variant:"secondary",size:"sm",onClick:l,children:"Copy Link"})]})]}),S.jsx("div",{className:"modern-grid",children:[0,1,2,3].map(u=>{const c=t[u];return S.jsx("div",{className:`player-slot ${c?"occupied":"empty"}`,children:c?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"player-avatar",children:""}),S.jsx("div",{className:"player-name",children:c.name}),S.jsxs("div",{className:"player-label",children:["Player ",u+1]})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"player-avatar",style:{opacity:.3},children:"?"}),S.jsx("div",{className:"open-slot-text",children:"Slot Open"}),S.jsxs("div",{className:"player-label",children:["Player ",u+1]})]})},u)})}),S.jsx("div",{className:"lobby-footer",children:a?S.jsx(Je,{variant:"primary",size:"lg",className:"btn-glow",disabled:t.length<2,onClick:s,children:t.length<2?"Waiting for players...":"Start Game"}):S.jsx("div",{className:"waiting-pulse",children:"Waiting for host to start the game..."})})]})},ud=x.createContext({});function cd(n){const t=x.useRef(null);return t.current===null&&(t.current=n()),t.current}const hd=typeof window<"u",iw=hd?x.useLayoutEffect:x.useEffect,du=x.createContext(null);function fd(n,t){n.indexOf(t)===-1&&n.push(t)}function dd(n,t){const a=n.indexOf(t);a>-1&&n.splice(a,1)}const li=(n,t,a)=>a>t?t:a<n?n:a;let md=()=>{};const ui={},aw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function sw(n){return typeof n=="object"&&n!==null}const rw=n=>/^0[^.\s]+$/u.test(n);function pd(n){let t;return()=>(t===void 0&&(t=n()),t)}const Sn=n=>n,QR=(n,t)=>a=>t(n(a)),fo=(...n)=>n.reduce(QR),to=(n,t,a)=>{const s=t-n;return s===0?1:(a-n)/s};class gd{constructor(){this.subscriptions=[]}add(t){return fd(this.subscriptions,t),()=>dd(this.subscriptions,t)}notify(t,a,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,a,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(t,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=n=>n*1e3,_n=n=>n/1e3;function ow(n,t){return t?n*(1e3/t):0}const lw=(n,t,a)=>(((1-3*a+3*t)*n+(3*a-6*t))*n+3*t)*n,ZR=1e-7,eO=12;function tO(n,t,a,s,l){let u,c,f=0;do c=t+(a-t)/2,u=lw(c,s,l)-n,u>0?a=c:t=c;while(Math.abs(u)>ZR&&++f<eO);return c}function mo(n,t,a,s){if(n===t&&a===s)return Sn;const l=u=>tO(u,0,1,n,a);return u=>u===0||u===1?u:lw(l(u),t,s)}const uw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,cw=n=>t=>1-n(1-t),hw=mo(.33,1.53,.69,.99),yd=cw(hw),fw=uw(yd),dw=n=>(n*=2)<1?.5*yd(n):.5*(2-Math.pow(2,-10*(n-1))),vd=n=>1-Math.sin(Math.acos(n)),mw=cw(vd),pw=uw(vd),nO=mo(.42,0,1,1),iO=mo(0,0,.58,1),gw=mo(.42,0,.58,1),aO=n=>Array.isArray(n)&&typeof n[0]!="number",yw=n=>Array.isArray(n)&&typeof n[0]=="number",sO={linear:Sn,easeIn:nO,easeInOut:gw,easeOut:iO,circIn:vd,circInOut:pw,circOut:mw,backIn:yd,backInOut:fw,backOut:hw,anticipate:dw},rO=n=>typeof n=="string",Gv=n=>{if(yw(n)){md(n.length===4);const[t,a,s,l]=n;return mo(t,a,s,l)}else if(rO(n))return sO[n];return n},Vl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oO(n,t){let a=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(g){c.has(g)&&(p.schedule(g),n()),g(f)}const p={schedule:(g,v=!1,b=!1)=>{const E=b&&l?a:s;return v&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(f=g,l){u=!0;return}l=!0,[a,s]=[s,a],a.forEach(m),a.clear(),l=!1,u&&(u=!1,p.process(g))}};return p}const lO=40;function vw(n,t){let a=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,c=Vl.reduce((A,P)=>(A[P]=oO(u),A),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:b,render:w,postRender:E}=c,T=()=>{const A=ui.useManualTiming?l.timestamp:performance.now();a=!1,ui.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(A-l.timestamp,lO),1)),l.timestamp=A,l.isProcessing=!0,f.process(l),m.process(l),p.process(l),g.process(l),v.process(l),b.process(l),w.process(l),E.process(l),l.isProcessing=!1,a&&t&&(s=!1,n(T))},O=()=>{a=!0,s=!0,l.isProcessing||n(T)};return{schedule:Vl.reduce((A,P)=>{const q=c[P];return A[P]=(X,G=!1,C=!1)=>(a||O(),q.schedule(X,G,C)),A},{}),cancel:A=>{for(let P=0;P<Vl.length;P++)c[Vl[P]].cancel(A)},state:l,steps:c}}const{schedule:We,cancel:Ii,state:Nt,steps:Fh}=vw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0);let Yl;function uO(){Yl=void 0}const Kt={now:()=>(Yl===void 0&&Kt.set(Nt.isProcessing||ui.useManualTiming?Nt.timestamp:performance.now()),Yl),set:n=>{Yl=n,queueMicrotask(uO)}},bw=n=>t=>typeof t=="string"&&t.startsWith(n),ww=bw("--"),cO=bw("var(--"),bd=n=>cO(n)?hO.test(n.split("/*")[0].trim()):!1,hO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ls={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},no={...Ls,transform:n=>li(0,1,n)},Pl={...Ls,default:1},$r=n=>Math.round(n*1e5)/1e5,wd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fO(n){return n==null}const dO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_d=(n,t)=>a=>!!(typeof a=="string"&&dO.test(a)&&a.startsWith(n)||t&&!fO(a)&&Object.prototype.hasOwnProperty.call(a,t)),_w=(n,t,a)=>s=>{if(typeof s!="string")return s;const[l,u,c,f]=s.match(wd);return{[n]:parseFloat(l),[t]:parseFloat(u),[a]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},mO=n=>li(0,255,n),Xh={...Ls,transform:n=>Math.round(mO(n))},ba={test:_d("rgb","red"),parse:_w("red","green","blue"),transform:({red:n,green:t,blue:a,alpha:s=1})=>"rgba("+Xh.transform(n)+", "+Xh.transform(t)+", "+Xh.transform(a)+", "+$r(no.transform(s))+")"};function pO(n){let t="",a="",s="",l="";return n.length>5?(t=n.substring(1,3),a=n.substring(3,5),s=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),a=n.substring(2,3),s=n.substring(3,4),l=n.substring(4,5),t+=t,a+=a,s+=s,l+=l),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const xf={test:_d("#"),parse:pO,transform:ba.transform},po=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),zi=po("deg"),Vn=po("%"),ge=po("px"),gO=po("vh"),yO=po("vw"),Kv={...Vn,parse:n=>Vn.parse(n)/100,transform:n=>Vn.transform(n*100)},Ss={test:_d("hsl","hue"),parse:_w("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:a,alpha:s=1})=>"hsla("+Math.round(n)+", "+Vn.transform($r(t))+", "+Vn.transform($r(a))+", "+$r(no.transform(s))+")"},pt={test:n=>ba.test(n)||xf.test(n)||Ss.test(n),parse:n=>ba.test(n)?ba.parse(n):Ss.test(n)?Ss.parse(n):xf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ba.transform(n):Ss.transform(n),getAnimatableNone:n=>{const t=pt.parse(n);return t.alpha=0,pt.transform(t)}},vO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bO(n){return isNaN(n)&&typeof n=="string"&&(n.match(wd)?.length||0)+(n.match(vO)?.length||0)>0}const Sw="number",Ew="color",wO="var",_O="var(",Yv="${}",SO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function io(n){const t=n.toString(),a=[],s={color:[],number:[],var:[]},l=[];let u=0;const f=t.replace(SO,m=>(pt.test(m)?(s.color.push(u),l.push(Ew),a.push(pt.parse(m))):m.startsWith(_O)?(s.var.push(u),l.push(wO),a.push(m)):(s.number.push(u),l.push(Sw),a.push(parseFloat(m))),++u,Yv)).split(Yv);return{values:a,split:f,indexes:s,types:l}}function Tw(n){return io(n).values}function xw(n){const{split:t,types:a}=io(n),s=t.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],l[c]!==void 0){const f=a[c];f===Sw?u+=$r(l[c]):f===Ew?u+=pt.transform(l[c]):u+=l[c]}return u}}const EO=n=>typeof n=="number"?0:pt.test(n)?pt.getAnimatableNone(n):n;function TO(n){const t=Tw(n);return xw(n)(t.map(EO))}const qi={test:bO,parse:Tw,createTransformer:xw,getAnimatableNone:TO};function Jh(n,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(t-n)*6*a:a<1/2?t:a<2/3?n+(t-n)*(2/3-a)*6:n}function xO({hue:n,saturation:t,lightness:a,alpha:s}){n/=360,t/=100,a/=100;let l=0,u=0,c=0;if(!t)l=u=c=a;else{const f=a<.5?a*(1+t):a+t-a*t,m=2*a-f;l=Jh(m,f,n+1/3),u=Jh(m,f,n),c=Jh(m,f,n-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function tu(n,t){return a=>a>0?t:n}const tt=(n,t,a)=>n+(t-n)*a,Wh=(n,t,a)=>{const s=n*n,l=a*(t*t-s)+s;return l<0?0:Math.sqrt(l)},AO=[xf,ba,Ss],CO=n=>AO.find(t=>t.test(n));function Fv(n){const t=CO(n);if(!t)return!1;let a=t.parse(n);return t===Ss&&(a=xO(a)),a}const Xv=(n,t)=>{const a=Fv(n),s=Fv(t);if(!a||!s)return tu(n,t);const l={...a};return u=>(l.red=Wh(a.red,s.red,u),l.green=Wh(a.green,s.green,u),l.blue=Wh(a.blue,s.blue,u),l.alpha=tt(a.alpha,s.alpha,u),ba.transform(l))},Af=new Set(["none","hidden"]);function RO(n,t){return Af.has(n)?a=>a<=0?n:t:a=>a>=1?t:n}function OO(n,t){return a=>tt(n,t,a)}function Sd(n){return typeof n=="number"?OO:typeof n=="string"?bd(n)?tu:pt.test(n)?Xv:DO:Array.isArray(n)?Aw:typeof n=="object"?pt.test(n)?Xv:jO:tu}function Aw(n,t){const a=[...n],s=a.length,l=n.map((u,c)=>Sd(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)a[c]=l[c](u);return a}}function jO(n,t){const a={...n,...t},s={};for(const l in a)n[l]!==void 0&&t[l]!==void 0&&(s[l]=Sd(n[l])(n[l],t[l]));return l=>{for(const u in s)a[u]=s[u](l);return a}}function NO(n,t){const a=[],s={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],c=n.indexes[u][s[u]],f=n.values[c]??0;a[l]=f,s[u]++}return a}const DO=(n,t)=>{const a=qi.createTransformer(t),s=io(n),l=io(t);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Af.has(n)&&!l.values.length||Af.has(t)&&!s.values.length?RO(n,t):fo(Aw(NO(s,l),l.values),a):tu(n,t)};function Cw(n,t,a){return typeof n=="number"&&typeof t=="number"&&typeof a=="number"?tt(n,t,a):Sd(n)(n,t)}const kO=n=>{const t=({timestamp:a})=>n(a);return{start:(a=!0)=>We.update(t,a),stop:()=>Ii(t),now:()=>Nt.isProcessing?Nt.timestamp:Kt.now()}},Rw=(n,t,a=10)=>{let s="";const l=Math.max(Math.round(t/a),2);for(let u=0;u<l;u++)s+=Math.round(n(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},nu=2e4;function Ed(n){let t=0;const a=50;let s=n.next(t);for(;!s.done&&t<nu;)t+=a,s=n.next(t);return t>=nu?1/0:t}function MO(n,t=100,a){const s=a({...n,keyframes:[0,t]}),l=Math.min(Ed(s),nu);return{type:"keyframes",ease:u=>s.next(l*u).value/t,duration:_n(l)}}const UO=5;function Ow(n,t,a){const s=Math.max(t-UO,0);return ow(a-n(s),t-s)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qh=.001;function LO({duration:n=st.duration,bounce:t=st.bounce,velocity:a=st.velocity,mass:s=st.mass}){let l,u,c=1-t;c=li(st.minDamping,st.maxDamping,c),n=li(st.minDuration,st.maxDuration,_n(n)),c<1?(l=p=>{const g=p*c,v=g*n,b=g-a,w=Cf(p,c),E=Math.exp(-v);return Qh-b/w*E},u=p=>{const v=p*c*n,b=v*a+a,w=Math.pow(c,2)*Math.pow(p,2)*n,E=Math.exp(-v),T=Cf(Math.pow(p,2),c);return(-l(p)+Qh>0?-1:1)*((b-w)*E)/T}):(l=p=>{const g=Math.exp(-p*n),v=(p-a)*n+1;return-Qh+g*v},u=p=>{const g=Math.exp(-p*n),v=(a-p)*(n*n);return g*v});const f=5/n,m=zO(l,u,f);if(n=zn(n),isNaN(m))return{stiffness:st.stiffness,damping:st.damping,duration:n};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:n}}}const BO=12;function zO(n,t,a){let s=a;for(let l=1;l<BO;l++)s=s-n(s)/t(s);return s}function Cf(n,t){return n*Math.sqrt(1-t*t)}const VO=["duration","bounce"],PO=["stiffness","damping","mass"];function Jv(n,t){return t.some(a=>n[a]!==void 0)}function HO(n){let t={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...n};if(!Jv(n,PO)&&Jv(n,VO))if(n.visualDuration){const a=n.visualDuration,s=2*Math.PI/(a*1.2),l=s*s,u=2*li(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:st.mass,stiffness:l,damping:u}}else{const a=LO(n);t={...t,...a,mass:st.mass},t.isResolvedFromDuration=!0}return t}function iu(n=st.visualDuration,t=st.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:l}=a;const u=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:w}=HO({...a,velocity:-_n(a.velocity||0)}),E=b||0,T=p/(2*Math.sqrt(m*g)),O=c-u,j=_n(Math.sqrt(m/g)),D=Math.abs(O)<5;s||(s=D?st.restSpeed.granular:st.restSpeed.default),l||(l=D?st.restDelta.granular:st.restDelta.default);let A;if(T<1){const q=Cf(j,T);A=X=>{const G=Math.exp(-T*j*X);return c-G*((E+T*j*O)/q*Math.sin(q*X)+O*Math.cos(q*X))}}else if(T===1)A=q=>c-Math.exp(-j*q)*(O+(E+j*O)*q);else{const q=j*Math.sqrt(T*T-1);A=X=>{const G=Math.exp(-T*j*X),C=Math.min(q*X,300);return c-G*((E+T*j*O)*Math.sinh(C)+q*O*Math.cosh(C))/q}}const P={calculatedDuration:w&&v||null,next:q=>{const X=A(q);if(w)f.done=q>=v;else{let G=q===0?E:0;T<1&&(G=q===0?zn(E):Ow(A,q,X));const C=Math.abs(G)<=s,k=Math.abs(c-X)<=l;f.done=C&&k}return f.value=f.done?c:X,f},toString:()=>{const q=Math.min(Ed(P),nu),X=Rw(G=>P.next(q*G).value,q,30);return q+"ms "+X},toTransition:()=>{}};return P}iu.applyToOptions=n=>{const t=MO(n,100,iu);return n.ease=t.ease,n.duration=zn(t.duration),n.type="keyframes",n};function Rf({keyframes:n,velocity:t=0,power:a=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},w=C=>f!==void 0&&C<f||m!==void 0&&C>m,E=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let T=a*t;const O=v+T,j=c===void 0?O:c(O);j!==O&&(T=j-v);const D=C=>-T*Math.exp(-C/s),A=C=>j+D(C),P=C=>{const k=D(C),K=A(C);b.done=Math.abs(k)<=p,b.value=b.done?j:K};let q,X;const G=C=>{w(b.value)&&(q=C,X=iu({keyframes:[b.value,E(b.value)],velocity:Ow(A,C,b.value),damping:l,stiffness:u,restDelta:p,restSpeed:g}))};return G(0),{calculatedDuration:null,next:C=>{let k=!1;return!X&&q===void 0&&(k=!0,P(C),G(C)),q!==void 0&&C>=q?X.next(C-q):(!k&&P(C),b)}}}function $O(n,t,a){const s=[],l=a||ui.mix||Cw,u=n.length-1;for(let c=0;c<u;c++){let f=l(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||Sn:t;f=fo(m,f)}s.push(f)}return s}function IO(n,t,{clamp:a=!0,ease:s,mixer:l}={}){const u=n.length;if(md(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=$O(t,s,l),m=f.length,p=g=>{if(c&&g<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=to(n[v],n[v+1],g);return f[v](b)};return a?g=>p(li(n[0],n[u-1],g)):p}function qO(n,t){const a=n[n.length-1];for(let s=1;s<=t;s++){const l=to(0,t,s);n.push(tt(a,1,l))}}function GO(n){const t=[0];return qO(t,n.length-1),t}function KO(n,t){return n.map(a=>a*t)}function YO(n,t){return n.map(()=>t||gw).splice(0,n.length-1)}function Ir({duration:n=300,keyframes:t,times:a,ease:s="easeInOut"}){const l=aO(s)?s.map(Gv):Gv(s),u={done:!1,value:t[0]},c=KO(a&&a.length===t.length?a:GO(t),n),f=IO(c,t,{ease:Array.isArray(l)?l:YO(t,l)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const FO=n=>n!==null;function Td(n,{repeat:t,repeatType:a="loop"},s,l=1){const u=n.filter(FO),f=l<0||t&&a!=="loop"&&t%2===1?0:u.length-1;return!f||s===void 0?u[f]:s}const XO={decay:Rf,inertia:Rf,tween:Ir,keyframes:Ir,spring:iu};function jw(n){typeof n.type=="string"&&(n.type=XO[n.type])}class xd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const JO=n=>n/100;class Ad extends xd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jw(t);const{type:a=Ir,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=t;let{keyframes:f}=t;const m=a||Ir;m!==Ir&&typeof f[0]!="number"&&(this.mixKeyframes=fo(JO,Cw(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Ed(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=p}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:w,type:E,onUpdate:T,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?j<0:j>l;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let A=this.currentTime,P=s;if(v){const C=Math.min(this.currentTime,l)/f;let k=Math.floor(C),K=C%1;!K&&C>=1&&(K=1),K===1&&k--,k=Math.min(k,v+1),k%2&&(b==="reverse"?(K=1-K,w&&(K-=w/f)):b==="mirror"&&(P=c)),A=li(0,1,K)*f}const q=D?{done:!1,value:g[0]}:P.next(A);u&&(q.value=u(q.value));let{done:X}=q;!D&&m!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return G&&E!==Rf&&(q.value=Td(g,this.options,O,this.speed)),T&&T(q.value),G&&this.finish(),q}then(t,a){return this.finished.then(t,a)}get duration(){return _n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(this.currentTime)}set time(t){t=zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=_n(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kO,startTime:a}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function WO(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const wa=n=>n*180/Math.PI,Of=n=>{const t=wa(Math.atan2(n[1],n[0]));return jf(t)},QO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Of,rotateZ:Of,skewX:n=>wa(Math.atan(n[1])),skewY:n=>wa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jf=n=>(n=n%360,n<0&&(n+=360),n),Wv=Of,Qv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Zv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ZO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qv,scaleY:Zv,scale:n=>(Qv(n)+Zv(n))/2,rotateX:n=>jf(wa(Math.atan2(n[6],n[5]))),rotateY:n=>jf(wa(Math.atan2(-n[2],n[0]))),rotateZ:Wv,rotate:Wv,skewX:n=>wa(Math.atan(n[4])),skewY:n=>wa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Nf(n){return n.includes("scale")?1:0}function Df(n,t){if(!n||n==="none")return Nf(t);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(a)s=ZO,l=a;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=QO,l=f}if(!l)return Nf(t);const u=s[t],c=l[1].split(",").map(tj);return typeof u=="function"?u(c):c[u]}const ej=(n,t)=>{const{transform:a="none"}=getComputedStyle(n);return Df(a,t)};function tj(n){return parseFloat(n.trim())}const Bs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zs=new Set(Bs),e0=n=>n===Ls||n===ge,nj=new Set(["x","y","z"]),ij=Bs.filter(n=>!nj.has(n));function aj(n){const t=[];return ij.forEach(a=>{const s=n.getValue(a);s!==void 0&&(t.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),t}const Sa={width:({x:n},{paddingLeft:t="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),height:({y:n},{paddingTop:t="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Df(t,"x"),y:(n,{transform:t})=>Df(t,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Ea=new Set;let kf=!1,Mf=!1,Uf=!1;function Nw(){if(Mf){const n=Array.from(Ea).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),a=new Map;t.forEach(s=>{const l=aj(s);l.length&&(a.set(s,l),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const l=a.get(s);l&&l.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mf=!1,kf=!1,Ea.forEach(n=>n.complete(Uf)),Ea.clear()}function Dw(){Ea.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mf=!0)})}function sj(){Uf=!0,Dw(),Nw(),Uf=!1}class Cd{constructor(t,a,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),kf||(kf=!0,We.read(Dw),We.resolveKeyframes(Nw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:s,motionValue:l}=this;if(t[0]===null){const u=l?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&a){const f=s.readValue(a,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),l&&u===void 0&&l.set(t[0])}WO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rj=n=>n.startsWith("--");function oj(n,t,a){rj(t)?n.style.setProperty(t,a):n.style[t]=a}const lj=pd(()=>window.ScrollTimeline!==void 0),uj={};function cj(n,t){const a=pd(n);return()=>uj[t]??a()}const kw=cj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zr=([n,t,a,s])=>`cubic-bezier(${n}, ${t}, ${a}, ${s})`,t0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zr([0,.65,.55,1]),circOut:zr([.55,0,1,.45]),backIn:zr([.31,.01,.66,-.59]),backOut:zr([.33,1.53,.69,.99])};function Mw(n,t){if(n)return typeof n=="function"?kw()?Rw(n,t):"ease-out":yw(n)?zr(n):Array.isArray(n)?n.map(a=>Mw(a,t)||t0.easeOut):t0[n]}function hj(n,t,a,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const g={[t]:a};m&&(g.offset=m);const v=Mw(f,l);Array.isArray(v)&&(g.easing=v);const b={delay:s,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),n.animate(g,b)}function Uw(n){return typeof n=="function"&&"applyToOptions"in n}function fj({type:n,...t}){return Uw(n)&&kw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dj extends xd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,md(typeof t.type!="string");const p=fj(t);this.animation=hj(a,s,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Td(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):oj(a,s,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&lj()?(this.animation.timeline=t,Sn):a(this)}}const Lw={anticipate:dw,backInOut:fw,circInOut:pw};function mj(n){return n in Lw}function pj(n){typeof n.ease=="string"&&mj(n.ease)&&(n.ease=Lw[n.ease])}const n0=10;class gj extends dj{constructor(t){pj(t),jw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const f=new Ad({...c,autoplay:!1}),m=zn(this.finishedTime??this.time);a.setWithVelocity(f.sample(m-n0).value,f.sample(m).value,n0),f.stop()}}const i0=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qi.test(n)||n==="0")&&!n.startsWith("url("));function yj(n){const t=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==t)return!0}function vj(n,t,a,s){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=i0(l,t),f=i0(u,t);return!c||!f?!1:yj(n)||(a==="spring"||Uw(a))&&s}function Lf(n){n.duration=0,n.type="keyframes"}const bj=new Set(["opacity","clipPath","filter","transform"]),wj=pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _j(n){const{motionValue:t,name:a,repeatDelay:s,repeatType:l,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return wj()&&a&&bj.has(a)&&(a!=="transform"||!p)&&!m&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const Sj=40;class Ej extends xd{constructor({autoplay:t=!0,delay:a=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Kt.now();const b={autoplay:t,delay:a,type:s,repeat:l,repeatDelay:u,repeatType:c,name:m,motionValue:p,element:g,...v},w=g?.KeyframeResolver||Cd;this.keyframeResolver=new w(f,(E,T,O)=>this.onKeyframesResolved(E,T,b,!O),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:g}=s;this.resolvedAt=Kt.now(),vj(t,u,c,f)||((ui.instantAnimations||!m)&&g?.(Td(t,s,a)),t[0]=t[t.length-1],Lf(s),s.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Sj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:t},w=!p&&_j(b)?new gj({...b,element:b.motionValue.owner.current}):new Ad(b);w.finished.then(()=>this.notifyFinished()).catch(Sn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Tj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xj(n){const t=Tj.exec(n);if(!t)return[,];const[,a,s,l]=t;return[`--${a??s}`,l]}function Bw(n,t,a=1){const[s,l]=xj(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return aw(c)?parseFloat(c):c}return bd(l)?Bw(l,t,a+1):l}function Rd(n,t){return n?.[t]??n?.default??n}const zw=new Set(["width","height","top","left","right","bottom",...Bs]),Aj={test:n=>n==="auto",parse:n=>n},Vw=n=>t=>t.test(n),Pw=[Ls,ge,Vn,zi,yO,gO,Aj],a0=n=>Pw.find(Vw(n));function Cj(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||rw(n):!0}const Rj=new Set(["brightness","contrast","saturate","opacity"]);function Oj(n){const[t,a]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=a.match(wd)||[];if(!s)return n;const l=a.replace(s,"");let u=Rj.has(t)?1:0;return s!==a&&(u*=100),t+"("+u+l+")"}const jj=/\b([a-z-]*)\(.*?\)/gu,Bf={...qi,getAnimatableNone:n=>{const t=n.match(jj);return t?t.map(Oj).join(" "):n}},s0={...Ls,transform:Math.round},Nj={rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:Pl,scaleX:Pl,scaleY:Pl,scaleZ:Pl,skew:zi,skewX:zi,skewY:zi,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:no,originX:Kv,originY:Kv,originZ:ge},Od={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...Nj,zIndex:s0,fillOpacity:no,strokeOpacity:no,numOctaves:s0},Dj={...Od,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:Bf,WebkitFilter:Bf},Hw=n=>Dj[n];function $w(n,t){let a=Hw(n);return a!==Bf&&(a=qi),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const kj=new Set(["auto","none","0"]);function Mj(n,t,a){let s=0,l;for(;s<n.length&&!l;){const u=n[s];typeof u=="string"&&!kj.has(u)&&io(u).values.length&&(l=n[s]),s++}if(l&&a)for(const u of t)n[u]=$w(a,l)}class Uj extends Cd{constructor(t,a,s,l,u){super(t,a,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),bd(p))){const g=Bw(p,a.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!zw.has(s)||t.length!==2)return;const[l,u]=t,c=a0(l),f=a0(u);if(c!==f)if(e0(c)&&e0(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,s=[];for(let l=0;l<t.length;l++)(t[l]===null||Cj(t[l]))&&s.push(l);s.length&&Mj(t,s,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const l=a[a.length-1];l!==void 0&&t.getValue(s,l).jump(l,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const l=t.getValue(a);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Sa[a](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Lj(n,t,a){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const l=a?.[n]??s.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const Iw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function qw(n){return sw(n)&&"offsetHeight"in n}const r0=30,Bj=n=>!isNaN(parseFloat(n));class zj{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const l=Kt.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Bj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new gd);const s=this.events[t].add(a);return t==="change"?()=>{s(),We.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>r0)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,r0);return ow(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(n,t){return new zj(n,t)}const{schedule:jd}=vw(queueMicrotask,!1),On={x:!1,y:!1};function Gw(){return On.x||On.y}function Vj(n){return n==="x"||n==="y"?On[n]?null:(On[n]=!0,()=>{On[n]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function Kw(n,t){const a=Lj(n),s=new AbortController,l={passive:!0,...t,signal:s.signal};return[a,l,()=>s.abort()]}function o0(n){return!(n.pointerType==="touch"||Gw())}function Pj(n,t,a={}){const[s,l,u]=Kw(n,a),c=f=>{if(!o0(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const g=v=>{o0(v)&&(p(v),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,l)};return s.forEach(f=>{f.addEventListener("pointerenter",c,l)}),u}const Yw=(n,t)=>t?n===t?!0:Yw(n,t.parentElement):!1,Nd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Hj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $j(n){return Hj.has(n.tagName)||n.tabIndex!==-1}const Fl=new WeakSet;function l0(n){return t=>{t.key==="Enter"&&n(t)}}function Zh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ij=(n,t)=>{const a=n.currentTarget;if(!a)return;const s=l0(()=>{if(Fl.has(a))return;Zh(a,"down");const l=l0(()=>{Zh(a,"up")}),u=()=>Zh(a,"cancel");a.addEventListener("keyup",l,t),a.addEventListener("blur",u,t)});a.addEventListener("keydown",s,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),t)};function u0(n){return Nd(n)&&!Gw()}function qj(n,t,a={}){const[s,l,u]=Kw(n,a),c=f=>{const m=f.currentTarget;if(!u0(f))return;Fl.add(m);const p=t(m,f),g=(w,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Fl.has(m)&&Fl.delete(m),u0(w)&&typeof p=="function"&&p(w,{success:E})},v=w=>{g(w,m===window||m===document||a.useGlobalTarget||Yw(m,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return s.forEach(f=>{(a.useGlobalTarget?window:f).addEventListener("pointerdown",c,l),qw(f)&&(f.addEventListener("focus",p=>Ij(p,l)),!$j(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function Fw(n){return sw(n)&&"ownerSVGElement"in n}function Gj(n){return Fw(n)&&n.tagName==="svg"}const Ut=n=>!!(n&&n.getVelocity),Kj=[...Pw,pt,qi],Yj=n=>Kj.find(Vw(n)),Dd=x.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function c0(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Fj(...n){return t=>{let a=!1;const s=n.map(l=>{const u=c0(l,t);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let l=0;l<s.length;l++){const u=s[l];typeof u=="function"?u():c0(n[l],null)}}}}function Xj(...n){return x.useCallback(Fj(...n),n)}class Jj extends x.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const s=a.offsetParent,l=qw(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=a.offsetHeight||0,u.width=a.offsetWidth||0,u.top=a.offsetTop,u.left=a.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wj({children:n,isPresent:t,anchorX:a,root:s}){const l=x.useId(),u=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext(Dd),m=Xj(u,n?.ref);return x.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:b,right:w}=c.current;if(t||!u.current||!p||!g)return;const E=a==="left"?`left: ${b}`:`right: ${w}`;u.current.dataset.motionPopId=l;const T=document.createElement("style");f&&(T.nonce=f);const O=s??document.head;return O.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{O.contains(T)&&O.removeChild(T)}},[t]),S.jsx(Jj,{isPresent:t,childRef:u,sizeRef:c,children:x.cloneElement(n,{ref:m})})}const Qj=({children:n,initial:t,isPresent:a,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:f,root:m})=>{const p=cd(Zj),g=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:a,custom:l,onExitComplete:w=>{p.set(w,!0);for(const E of p.values())if(!E)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[a,p,s]);return u&&v&&(b={...b}),x.useMemo(()=>{p.forEach((w,E)=>p.set(E,!1))},[a]),x.useEffect(()=>{!a&&!p.size&&s&&s()},[a]),c==="popLayout"&&(n=S.jsx(Wj,{isPresent:a,anchorX:f,root:m,children:n})),S.jsx(du.Provider,{value:b,children:n})};function Zj(){return new Map}function Xw(n=!0){const t=x.useContext(du);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:l}=t,u=x.useId();x.useEffect(()=>{if(n)return l(u)},[n]);const c=x.useCallback(()=>n&&s&&s(u),[u,s,n]);return!a&&s?[!1,c]:[!0]}const Hl=n=>n.key||"";function h0(n){const t=[];return x.Children.forEach(n,a=>{x.isValidElement(a)&&t.push(a)}),t}const zf=({children:n,custom:t,initial:a=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,g]=Xw(c),v=x.useMemo(()=>h0(n),[n]),b=c&&!p?[]:v.map(Hl),w=x.useRef(!0),E=x.useRef(v),T=cd(()=>new Map),[O,j]=x.useState(v),[D,A]=x.useState(v);iw(()=>{w.current=!1,E.current=v;for(let X=0;X<D.length;X++){const G=Hl(D[X]);b.includes(G)?T.delete(G):T.get(G)!==!0&&T.set(G,!1)}},[D,b.length,b.join("-")]);const P=[];if(v!==O){let X=[...v];for(let G=0;G<D.length;G++){const C=D[G],k=Hl(C);b.includes(k)||(X.splice(G,0,C),P.push(C))}return u==="wait"&&P.length&&(X=P),A(h0(X)),j(v),null}const{forceRender:q}=x.useContext(ud);return S.jsx(S.Fragment,{children:D.map(X=>{const G=Hl(X),C=c&&!p?!1:v===D||b.includes(G),k=()=>{if(T.has(G))T.set(G,!0);else return;let K=!0;T.forEach(te=>{te||(K=!1)}),K&&(q?.(),A(E.current),c&&g?.(),s&&s())};return S.jsx(Qj,{isPresent:C,initial:!w.current||a?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:m,onExitComplete:C?void 0:k,anchorX:f,children:X},G)})})},Jw=x.createContext({strict:!1}),f0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const n in f0)js[n]={isEnabled:t=>f0[n].some(a=>!!t[a])};function eN(n){for(const t in n)js[t]={...js[t],...n[t]}}const tN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function au(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||tN.has(n)}let Ww=n=>!au(n);function nN(n){typeof n=="function"&&(Ww=t=>t.startsWith("on")?!au(t):n(t))}try{nN(require("@emotion/is-prop-valid").default)}catch{}function iN(n,t,a){const s={};for(const l in n)l==="values"&&typeof n.values=="object"||(Ww(l)||a===!0&&au(l)||!t&&!au(l)||n.draggable&&l.startsWith("onDrag"))&&(s[l]=n[l]);return s}const mu=x.createContext({});function pu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ao(n){return typeof n=="string"||Array.isArray(n)}const kd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Md=["initial",...kd];function gu(n){return pu(n.animate)||Md.some(t=>ao(n[t]))}function Qw(n){return!!(gu(n)||n.variants)}function aN(n,t){if(gu(n)){const{initial:a,animate:s}=n;return{initial:a===!1||ao(a)?a:void 0,animate:ao(s)?s:void 0}}return n.inherit!==!1?t:{}}function sN(n){const{initial:t,animate:a}=aN(n,x.useContext(mu));return x.useMemo(()=>({initial:t,animate:a}),[d0(t),d0(a)])}function d0(n){return Array.isArray(n)?n.join(" "):n}function m0(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ur={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ge.test(n))n=parseFloat(n);else return n;const a=m0(n,t.target.x),s=m0(n,t.target.y);return`${a}% ${s}%`}},rN={correct:(n,{treeScale:t,projectionDelta:a})=>{const s=n,l=qi.parse(n);if(l.length>5)return s;const u=qi.createTransformer(n),c=typeof l[0]!="number"?1:0,f=a.x.scale*t.x,m=a.y.scale*t.y;l[0+c]/=f,l[1+c]/=m;const p=tt(f,m,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}},Vf={borderRadius:{...Ur,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ur,borderTopRightRadius:Ur,borderBottomLeftRadius:Ur,borderBottomRightRadius:Ur,boxShadow:rN};function Zw(n,{layout:t,layoutId:a}){return zs.has(n)||n.startsWith("origin")||(t||a!==void 0)&&(!!Vf[n]||n==="opacity")}const oN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lN=Bs.length;function uN(n,t,a){let s="",l=!0;for(let u=0;u<lN;u++){const c=Bs[u],f=n[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||a){const p=Iw(f,Od[c]);if(!m){l=!1;const g=oN[c]||c;s+=`${g}(${p}) `}a&&(t[c]=p)}}return s=s.trim(),a?s=a(t,l?"":s):l&&(s="none"),s}function Ud(n,t,a){const{style:s,vars:l,transformOrigin:u}=n;let c=!1,f=!1;for(const m in t){const p=t[m];if(zs.has(m)){c=!0;continue}else if(ww(m)){l[m]=p;continue}else{const g=Iw(p,Od[m]);m.startsWith("origin")?(f=!0,u[m]=g):s[m]=g}}if(t.transform||(c||a?s.transform=uN(t,n.transform,a):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:g=0}=u;s.transformOrigin=`${m} ${p} ${g}`}}const Ld=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e_(n,t,a){for(const s in t)!Ut(t[s])&&!Zw(s,a)&&(n[s]=t[s])}function cN({transformTemplate:n},t){return x.useMemo(()=>{const a=Ld();return Ud(a,t,n),Object.assign({},a.vars,a.style)},[t])}function hN(n,t){const a=n.style||{},s={};return e_(s,a,n),Object.assign(s,cN(n,t)),s}function fN(n,t){const a={},s=hN(n,t);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=s,a}const dN={offset:"stroke-dashoffset",array:"stroke-dasharray"},mN={offset:"strokeDashoffset",array:"strokeDasharray"};function pN(n,t,a=1,s=0,l=!0){n.pathLength=1;const u=l?dN:mN;n[u.offset]=ge.transform(-s);const c=ge.transform(t),f=ge.transform(a);n[u.array]=`${c} ${f}`}function t_(n,{attrX:t,attrY:a,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...f},m,p,g){if(Ud(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),a!==void 0&&(v.y=a),s!==void 0&&(v.scale=s),l!==void 0&&pN(v,l,u,c,!1)}const n_=()=>({...Ld(),attrs:{}}),i_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function gN(n,t,a,s){const l=x.useMemo(()=>{const u=n_();return t_(u,t,i_(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};e_(u,n.style,n),l.style={...u,...l.style}}return l}const yN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bd(n){return typeof n!="string"||n.includes("-")?!1:!!(yN.indexOf(n)>-1||/[A-Z]/u.test(n))}function vN(n,t,a,{latestValues:s},l,u=!1){const f=(Bd(n)?gN:fN)(t,s,l,n),m=iN(t,typeof n=="string",u),p=n!==x.Fragment?{...m,...f,ref:a}:{},{children:g}=t,v=x.useMemo(()=>Ut(g)?g.get():g,[g]);return x.createElement(n,{...p,children:v})}function p0(n){const t=[{},{}];return n?.values.forEach((a,s)=>{t[0][s]=a.get(),t[1][s]=a.getVelocity()}),t}function zd(n,t,a,s){if(typeof t=="function"){const[l,u]=p0(s);t=t(a!==void 0?a:n.custom,l,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,u]=p0(s);t=t(a!==void 0?a:n.custom,l,u)}return t}function Xl(n){return Ut(n)?n.get():n}function bN({scrapeMotionValuesFromProps:n,createRenderState:t},a,s,l){return{latestValues:wN(a,s,l,n),renderState:t()}}function wN(n,t,a,s){const l={},u=s(n,{});for(const b in u)l[b]=Xl(u[b]);let{initial:c,animate:f}=n;const m=gu(n),p=Qw(n);t&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let g=a?a.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!pu(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const E=zd(n,b[w]);if(E){const{transitionEnd:T,transition:O,...j}=E;for(const D in j){let A=j[D];if(Array.isArray(A)){const P=g?A.length-1:0;A=A[P]}A!==null&&(l[D]=A)}for(const D in T)l[D]=T[D]}}}return l}const a_=n=>(t,a)=>{const s=x.useContext(mu),l=x.useContext(du),u=()=>bN(n,t,s,l);return a?u():cd(u)};function Vd(n,t,a){const{style:s}=n,l={};for(const u in s)(Ut(s[u])||t.style&&Ut(t.style[u])||Zw(u,n)||a?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}const _N=a_({scrapeMotionValuesFromProps:Vd,createRenderState:Ld});function s_(n,t,a){const s=Vd(n,t,a);for(const l in n)if(Ut(n[l])||Ut(t[l])){const u=Bs.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=n[l]}return s}const SN=a_({scrapeMotionValuesFromProps:s_,createRenderState:n_}),EN=Symbol.for("motionComponentSymbol");function Es(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function TN(n,t,a){return x.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),a&&(typeof a=="function"?a(s):Es(a)&&(a.current=s))},[t])}const Pd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xN="framerAppearId",r_="data-"+Pd(xN),o_=x.createContext({});function AN(n,t,a,s,l){const{visualElement:u}=x.useContext(mu),c=x.useContext(Jw),f=x.useContext(du),m=x.useContext(Dd).reducedMotion,p=x.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(n,{visualState:t,parent:u,props:a,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,v=x.useContext(o_);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&CN(p.current,a,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{g&&b.current&&g.update(a,f)});const w=a[r_],E=x.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return iw(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),E.current=!1),g.enteringChildren=void 0)}),g}function CN(n,t,a,s){const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=t;n.projection=new a(n.latestValues,t["data-framer-portal-id"]?void 0:l_(n.parent)),n.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Es(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:m,layoutRoot:p})}function l_(n){if(n)return n.options.allowProjection!==!1?n.projection:l_(n.parent)}function ef(n,{forwardMotionProps:t=!1}={},a,s){a&&eN(a);const l=Bd(n)?SN:_N;function u(f,m){let p;const g={...x.useContext(Dd),...f,layoutId:RN(f)},{isStatic:v}=g,b=sN(f),w=l(f,v);if(!v&&hd){ON();const E=jN(g);p=E.MeasureLayout,b.visualElement=AN(n,w,g,s,E.ProjectionNode)}return S.jsxs(mu.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...g}):null,vN(n,f,TN(w,b.visualElement,m),w,v,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=x.forwardRef(u);return c[EN]=n,c}function RN({layoutId:n}){const t=x.useContext(ud).id;return t&&n!==void 0?t+"-"+n:n}function ON(n,t){x.useContext(Jw).strict}function jN(n){const{drag:t,layout:a}=js;if(!t&&!a)return{};const s={...t,...a};return{MeasureLayout:t?.isEnabled(n)||a?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function NN(n,t){if(typeof Proxy>"u")return ef;const a=new Map,s=(u,c)=>ef(u,c,n,t),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(a.has(c)||a.set(c,ef(c,void 0,n,t)),a.get(c))})}function u_({top:n,left:t,right:a,bottom:s}){return{x:{min:t,max:a},y:{min:n,max:s}}}function DN({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function kN(n,t){if(!t)return n;const a=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function tf(n){return n===void 0||n===1}function Pf({scale:n,scaleX:t,scaleY:a}){return!tf(n)||!tf(t)||!tf(a)}function pa(n){return Pf(n)||c_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function c_(n){return g0(n.x)||g0(n.y)}function g0(n){return n&&n!=="0%"}function su(n,t,a){const s=n-a,l=t*s;return a+l}function y0(n,t,a,s,l){return l!==void 0&&(n=su(n,l,s)),su(n,a,s)+t}function Hf(n,t=0,a=1,s,l){n.min=y0(n.min,t,a,s,l),n.max=y0(n.max,t,a,s,l)}function h_(n,{x:t,y:a}){Hf(n.x,t.translate,t.scale,t.originPoint),Hf(n.y,a.translate,a.scale,a.originPoint)}const v0=.999999999999,b0=1.0000000000001;function MN(n,t,a,s=!1){const l=a.length;if(!l)return;t.x=t.y=1;let u,c;for(let f=0;f<l;f++){u=a[f],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xs(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,h_(n,c)),s&&pa(u.latestValues)&&xs(n,u.latestValues))}t.x<b0&&t.x>v0&&(t.x=1),t.y<b0&&t.y>v0&&(t.y=1)}function Ts(n,t){n.min=n.min+t,n.max=n.max+t}function w0(n,t,a,s,l=.5){const u=tt(n.min,n.max,l);Hf(n,t,a,u,s)}function xs(n,t){w0(n.x,t.x,t.scaleX,t.scale,t.originX),w0(n.y,t.y,t.scaleY,t.scale,t.originY)}function f_(n,t){return u_(kN(n.getBoundingClientRect(),t))}function UN(n,t,a){const s=f_(n,a),{scroll:l}=t;return l&&(Ts(s.x,l.offset.x),Ts(s.y,l.offset.y)),s}const _0=()=>({translate:0,scale:1,origin:0,originPoint:0}),As=()=>({x:_0(),y:_0()}),S0=()=>({min:0,max:0}),vt=()=>({x:S0(),y:S0()}),$f={current:null},d_={current:!1};function LN(){if(d_.current=!0,!!hd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>$f.current=n.matches;n.addEventListener("change",t),t()}else $f.current=!1}const BN=new WeakMap;function zN(n,t,a){for(const s in t){const l=t[s],u=a[s];if(Ut(l))n.addValue(s,l);else if(Ut(u))n.addValue(s,Os(l,{owner:n}));else if(u!==l)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=n.getStaticValue(s);n.addValue(s,Os(c!==void 0?c:l,{owner:n}))}}for(const s in a)t[s]===void 0&&n.removeValue(s);return t}const E0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VN{scrapeMotionValuesFromProps(t,a,s){return{}}constructor({parent:t,props:a,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Kt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,We.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=a.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=a,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=gu(a),this.isVariantNode=Qw(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in v){const w=v[b];m[b]!==void 0&&Ut(w)&&w.set(m[b])}}mount(t){this.current=t,BN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),d_.current||LN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$f.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=zs.has(t);s&&this.onBindTransform&&this.onBindTransform();const l=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&We.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in js){const a=js[t];if(!a)continue;const{isEnabled:s,Feature:l}=a;if(!this.features[t]&&l&&s(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<E0.length;s++){const l=E0[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=t[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=zN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const s=this.values.get(t);a!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&a!==void 0&&(s=Os(a===null?void 0:a,{owner:this}),this.addValue(t,s)),s}readValue(t,a){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(aw(s)||rw(s))?s=parseFloat(s):!Yj(s)&&qi.test(a)&&(s=$w(t,a)),this.setBaseTarget(t,Ut(s)?s.get():s)),Ut(s)?s.get():s}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const u=zd(this.props,a,this.presenceContext?.custom);u&&(s=u[t])}if(a&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Ut(l)?l:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new gd),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){jd.render(this.render)}}class m_ extends VN{constructor(){super(...arguments),this.KeyframeResolver=Uj}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:s}){delete a[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ut(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function p_(n,{style:t,vars:a},s,l){const u=n.style;let c;for(c in t)u[c]=t[c];l?.applyProjectionStyles(u,s);for(c in a)u.setProperty(c,a[c])}function PN(n){return window.getComputedStyle(n)}class HN extends m_{constructor(){super(...arguments),this.type="html",this.renderInstance=p_}readValueFromInstance(t,a){if(zs.has(a))return this.projection?.isProjecting?Nf(a):ej(t,a);{const s=PN(t),l=(ww(a)?s.getPropertyValue(a):s[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:a}){return f_(t,a)}build(t,a,s){Ud(t,a,s.transformTemplate)}scrapeMotionValuesFromProps(t,a,s){return Vd(t,a,s)}}const g_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $N(n,t,a,s){p_(n,t,void 0,s);for(const l in t.attrs)n.setAttribute(g_.has(l)?l:Pd(l),t.attrs[l])}class IN extends m_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(zs.has(a)){const s=Hw(a);return s&&s.default||0}return a=g_.has(a)?a:Pd(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,s){return s_(t,a,s)}build(t,a,s){t_(t,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,a,s,l){$N(t,a,s,l)}mount(t){this.isSVGTag=i_(t.tagName),super.mount(t)}}const qN=(n,t)=>Bd(n)?new IN(t):new HN(t,{allowProjection:n!==x.Fragment});function Rs(n,t,a){const s=n.getProps();return zd(s,t,a!==void 0?a:s.custom,n)}const If=n=>Array.isArray(n);function GN(n,t,a){n.hasValue(t)?n.getValue(t).set(a):n.addValue(t,Os(a))}function KN(n){return If(n)?n[n.length-1]||0:n}function YN(n,t){const a=Rs(n,t);let{transitionEnd:s={},transition:l={},...u}=a||{};u={...u,...s};for(const c in u){const f=KN(u[c]);GN(n,c,f)}}function FN(n){return!!(Ut(n)&&n.add)}function qf(n,t){const a=n.getValue("willChange");if(FN(a))return a.add(t);if(!a&&ui.WillChange){const s=new ui.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function y_(n){return n.props[r_]}const XN=n=>n!==null;function JN(n,{repeat:t,repeatType:a="loop"},s){const l=n.filter(XN),u=t&&a!=="loop"&&t%2===1?0:l.length-1;return l[u]}const WN={type:"spring",stiffness:500,damping:25,restSpeed:10},QN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZN={type:"keyframes",duration:.8},eD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tD=(n,{keyframes:t})=>t.length>2?ZN:zs.has(n)?n.startsWith("scale")?QN(t[1]):WN:eD;function nD({when:n,delay:t,delayChildren:a,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:f,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const Hd=(n,t,a,s={},l,u)=>c=>{const f=Rd(s,n)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-zn(m);const g={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:u?void 0:l};nD(f)||Object.assign(g,tD(n,g)),g.duration&&(g.duration=zn(g.duration)),g.repeatDelay&&(g.repeatDelay=zn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Lf(g),g.delay===0&&(v=!0)),(ui.instantAnimations||ui.skipAnimations)&&(v=!0,Lf(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=JN(g.keyframes,f);if(b!==void 0){We.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new Ad(g):new Ej(g)};function iD({protectedKeys:n,needsAnimating:t},a){const s=n.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,s}function v_(n,t,{delay:a=0,transitionOverride:s,type:l}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...f}=t;s&&(u=s);const m=[],p=l&&n.animationState&&n.animationState.getState()[l];for(const g in f){const v=n.getValue(g,n.latestValues[g]??null),b=f[g];if(b===void 0||p&&iD(p,g))continue;const w={delay:a,...Rd(u||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const j=y_(n);if(j){const D=window.MotionHandoffAnimation(j,g,We);D!==null&&(w.startTime=D,T=!0)}}qf(n,g),v.start(Hd(g,v,b,n.shouldReduceMotion&&zw.has(g)?{type:!1}:w,n,T));const O=v.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{We.update(()=>{c&&YN(n,c)})}),m}function b_(n,t,a,s=0,l=1){const u=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),c=n.size,f=(c-1)*s;return typeof a=="function"?a(u,c):l===1?u*s:f-u*s}function Gf(n,t,a={}){const s=Rs(n,t,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(l=a.transitionOverride);const u=s?()=>Promise.all(v_(n,s,a)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=l;return aD(n,t,m,p,g,v,a)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,p]=f==="beforeChildren"?[u,c]:[c,u];return m().then(()=>p())}else return Promise.all([u(),c(a.delay)])}function aD(n,t,a=0,s=0,l=0,u=1,c){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(Gf(m,t,{...c,delay:a+(typeof s=="function"?0:s)+b_(n.variantChildren,m,s,l,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function sD(n,t,a={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const l=t.map(u=>Gf(n,u,a));s=Promise.all(l)}else if(typeof t=="string")s=Gf(n,t,a);else{const l=typeof t=="function"?Rs(n,t,a.custom):t;s=Promise.all(v_(n,l,a))}return s.then(()=>{n.notify("AnimationComplete",t)})}function w_(n,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==n.length)return!1;for(let s=0;s<a;s++)if(t[s]!==n[s])return!1;return!0}const rD=Md.length;function __(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?__(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const t={};for(let a=0;a<rD;a++){const s=Md[a],l=n.props[s];(ao(l)||l===!1)&&(t[s]=l)}return t}const oD=[...kd].reverse(),lD=kd.length;function uD(n){return t=>Promise.all(t.map(({animation:a,options:s})=>sD(n,a,s)))}function cD(n){let t=uD(n),a=T0(),s=!0;const l=m=>(p,g)=>{const v=Rs(n,g,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:w,...E}=v;p={...p,...E,...w}}return p};function u(m){t=m(n)}function c(m){const{props:p}=n,g=__(n.parent)||{},v=[],b=new Set;let w={},E=1/0;for(let O=0;O<lD;O++){const j=oD[O],D=a[j],A=p[j]!==void 0?p[j]:g[j],P=ao(A),q=j===m?D.isActive:null;q===!1&&(E=O);let X=A===g[j]&&A!==p[j]&&P;if(X&&s&&n.manuallyAnimateOnMount&&(X=!1),D.protectedKeys={...w},!D.isActive&&q===null||!A&&!D.prevProp||pu(A)||typeof A=="boolean")continue;const G=hD(D.prevProp,A);let C=G||j===m&&D.isActive&&!X&&P||O>E&&P,k=!1;const K=Array.isArray(A)?A:[A];let te=K.reduce(l(j),{});q===!1&&(te={});const{prevResolvedValues:ee={}}=D,pe={...ee,...te},Re=L=>{C=!0,b.has(L)&&(k=!0,b.delete(L)),D.needsAnimating[L]=!0;const Q=n.getValue(L);Q&&(Q.liveStyle=!1)};for(const L in pe){const Q=te[L],Z=ee[L];if(w.hasOwnProperty(L))continue;let ae=!1;If(Q)&&If(Z)?ae=!w_(Q,Z):ae=Q!==Z,ae?Q!=null?Re(L):b.add(L):Q!==void 0&&b.has(L)?Re(L):D.protectedKeys[L]=!0}D.prevProp=A,D.prevResolvedValues=te,D.isActive&&(w={...w,...te}),s&&n.blockInitialAnimation&&(C=!1);const Le=X&&G;C&&(!Le||k)&&v.push(...K.map(L=>{const Q={type:j};if(typeof L=="string"&&s&&!Le&&n.manuallyAnimateOnMount&&n.parent){const{parent:Z}=n,ae=Rs(Z,L);if(Z.enteringChildren&&ae){const{delayChildren:R}=ae.transition||{};Q.delay=b_(Z.enteringChildren,n,R)}}return{animation:L,options:Q}}))}if(b.size){const O={};if(typeof p.initial!="boolean"){const j=Rs(n,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(O.transition=j.transition)}b.forEach(j=>{const D=n.getBaseTarget(j),A=n.getValue(j);A&&(A.liveStyle=!0),O[j]=D??null}),v.push({animation:O})}let T=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(v):Promise.resolve()}function f(m,p){if(a[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),a[m].isActive=p;const g=c(m);for(const v in a)a[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>a,reset:()=>{a=T0()}}}function hD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!w_(t,n):!1}function da(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T0(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Gi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fD extends Gi{constructor(t){super(t),t.animationState||(t.animationState=cD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dD=0;class mD extends Gi{constructor(){super(...arguments),this.id=dD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const l=this.node.animationState.setActive("exit",!t);a&&!t&&l.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pD={animation:{Feature:fD},exit:{Feature:mD}};function so(n,t,a,s={passive:!0}){return n.addEventListener(t,a,s),()=>n.removeEventListener(t,a)}function go(n){return{point:{x:n.pageX,y:n.pageY}}}const gD=n=>t=>Nd(t)&&n(t,go(t));function qr(n,t,a,s){return so(n,t,gD(a),s)}const S_=1e-4,yD=1-S_,vD=1+S_,E_=.01,bD=0-E_,wD=0+E_;function Bt(n){return n.max-n.min}function _D(n,t,a){return Math.abs(n-t)<=a}function x0(n,t,a,s=.5){n.origin=s,n.originPoint=tt(t.min,t.max,n.origin),n.scale=Bt(a)/Bt(t),n.translate=tt(a.min,a.max,n.origin)-n.originPoint,(n.scale>=yD&&n.scale<=vD||isNaN(n.scale))&&(n.scale=1),(n.translate>=bD&&n.translate<=wD||isNaN(n.translate))&&(n.translate=0)}function Gr(n,t,a,s){x0(n.x,t.x,a.x,s?s.originX:void 0),x0(n.y,t.y,a.y,s?s.originY:void 0)}function A0(n,t,a){n.min=a.min+t.min,n.max=n.min+Bt(t)}function SD(n,t,a){A0(n.x,t.x,a.x),A0(n.y,t.y,a.y)}function C0(n,t,a){n.min=t.min-a.min,n.max=n.min+Bt(t)}function ru(n,t,a){C0(n.x,t.x,a.x),C0(n.y,t.y,a.y)}function wn(n){return[n("x"),n("y")]}const T_=({current:n})=>n?n.ownerDocument.defaultView:null,R0=(n,t)=>Math.abs(n-t);function ED(n,t){const a=R0(n.x,t.x),s=R0(n.y,t.y);return Math.sqrt(a**2+s**2)}class x_{constructor(t,a,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=af(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=ED(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!E)return;const{point:T}=b,{timestamp:O}=Nt;this.history.push({...T,timestamp:O});const{onStart:j,onMove:D}=this.handlers;w||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=nf(w,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=af(b.type==="pointercancel"?this.lastMoveEventInfo:nf(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,j),T&&T(b,j)},!Nd(t))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const f=go(t),m=nf(f,this.transformPagePoint),{point:p}=m,{timestamp:g}=Nt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=a;v&&v(t,af(m,this.history)),this.removeListeners=fo(qr(this.contextWindow,"pointermove",this.handlePointerMove),qr(this.contextWindow,"pointerup",this.handlePointerUp),qr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function nf(n,t){return t?{point:t(n.point)}:n}function O0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function af({point:n},t){return{point:n,delta:O0(n,A_(t)),offset:O0(n,TD(t)),velocity:xD(t,.1)}}function TD(n){return n[0]}function A_(n){return n[n.length-1]}function xD(n,t){if(n.length<2)return{x:0,y:0};let a=n.length-1,s=null;const l=A_(n);for(;a>=0&&(s=n[a],!(l.timestamp-s.timestamp>zn(t)));)a--;if(!s)return{x:0,y:0};const u=_n(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function AD(n,{min:t,max:a},s){return t!==void 0&&n<t?n=s?tt(t,n,s.min):Math.max(n,t):a!==void 0&&n>a&&(n=s?tt(a,n,s.max):Math.min(n,a)),n}function j0(n,t,a){return{min:t!==void 0?n.min+t:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function CD(n,{top:t,left:a,bottom:s,right:l}){return{x:j0(n.x,a,l),y:j0(n.y,t,s)}}function N0(n,t){let a=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([a,s]=[s,a]),{min:a,max:s}}function RD(n,t){return{x:N0(n.x,t.x),y:N0(n.y,t.y)}}function OD(n,t){let a=.5;const s=Bt(n),l=Bt(t);return l>s?a=to(t.min,t.max-s,n.min):s>l&&(a=to(n.min,n.max-l,t.min)),li(0,1,a)}function jD(n,t){const a={};return t.min!==void 0&&(a.min=t.min-n.min),t.max!==void 0&&(a.max=t.max-n.min),a}const Kf=.35;function ND(n=Kf){return n===!1?n=0:n===!0&&(n=Kf),{x:D0(n,"left","right"),y:D0(n,"top","bottom")}}function D0(n,t,a){return{min:k0(n,t),max:k0(n,a)}}function k0(n,t){return typeof n=="number"?n:n[t]||0}const DD=new WeakMap;class kD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(go(v).point)},c=(v,b)=>{const{drag:w,dragPropagation:E,onDragStart:T}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vj(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(j=>{let D=this.getAxisMotionValue(j).get()||0;if(Vn.test(D)){const{projection:A}=this.visualElement;if(A&&A.layout){const P=A.layout.layoutBox[j];P&&(D=Bt(P)*(parseFloat(D)/100))}}this.originPoint[j]=D}),T&&We.postRender(()=>T(v,b)),qf(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:T,onDrag:O}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=b;if(E&&this.currentDirection===null){this.currentDirection=MD(j),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),O&&O(v,b)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>wn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new x_(t,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:T_(this.visualElement)})}stop(t,a){const s=t||this.latestPointerEvent,l=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&We.postRender(()=>f(s,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,s){const{drag:l}=this.getProps();if(!s||!$l(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=AD(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Es(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=CD(s.layoutBox,t):this.constraints=!1,this.elastic=ND(a),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=jD(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Es(t))return!1;const s=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=UN(s,l.root,this.visualElement.getTransformPagePoint());let c=RD(l.layout.layoutBox,u);if(a){const f=a(DN(c));this.hasMutatedConstraints=!!f,f&&(c=u_(f))}return c}startAnimation(t){const{drag:a,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=wn(g=>{if(!$l(g,a,this.currentDirection))return;let v=m&&m[g]||{};c&&(v={min:0,max:0});const b=l?200:1e6,w=l?40:1e7,E={type:"inertia",velocity:s?t[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(p).then(f)}startAxisValueAnimation(t,a){const s=this.getAxisMotionValue(t);return qf(this.visualElement,t),s.start(Hd(t,s,0,a,this.visualElement,!1))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),l=s[a];return l||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){wn(a=>{const{drag:s}=this.getProps();if(!$l(a,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(a);if(l&&l.layout){const{min:c,max:f}=l.layout.layoutBox[a];u.set(t[a]-tt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!Es(a)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};wn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();l[c]=OD({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),wn(c=>{if(!$l(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(tt(m,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;DD.set(this.visualElement,this);const t=this.visualElement.current,a=qr(t,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Es(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),We.read(s);const c=so(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(wn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=m[g].translate,v.set(v.get()+m[g].translate))}),this.visualElement.render())}));return()=>{c(),a(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=Kf,dragMomentum:f=!0}=t;return{...t,drag:a,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function $l(n,t,a){return(t===!0||t===n)&&(a===null||a===n)}function MD(n,t=10){let a=null;return Math.abs(n.y)>t?a="y":Math.abs(n.x)>t&&(a="x"),a}class UD extends Gi{constructor(t){super(t),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new kD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const M0=n=>(t,a)=>{n&&We.postRender(()=>n(t,a))};class LD extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(t){this.session=new x_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:M0(t),onStart:M0(a),onMove:s,onEnd:(u,c)=>{delete this.session,l&&We.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=qr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let sf=!1;class BD extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=t;u&&(a.group&&a.group.add(u),s&&s.register&&l&&s.register(u),sf&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Jl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,sf=!0,l||t.layoutDependency!==a||a===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||We.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:l}=t;sf=!0,l&&(l.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function C_(n){const[t,a]=Xw(),s=x.useContext(ud);return S.jsx(BD,{...n,layoutGroup:s,switchLayoutGroup:x.useContext(o_),isPresent:t,safeToRemove:a})}function zD(n,t,a){const s=Ut(n)?n:Os(n);return s.start(Hd("",s,t,a)),s.animation}const VD=(n,t)=>n.depth-t.depth;class PD{constructor(){this.children=[],this.isDirty=!1}add(t){fd(this.children,t),this.isDirty=!0}remove(t){dd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VD),this.isDirty=!1,this.children.forEach(t)}}function HD(n,t){const a=Kt.now(),s=({timestamp:l})=>{const u=l-a;u>=t&&(Ii(s),n(u-t))};return We.setup(s,!0),()=>Ii(s)}const R_=["TopLeft","TopRight","BottomLeft","BottomRight"],$D=R_.length,U0=n=>typeof n=="string"?parseFloat(n):n,L0=n=>typeof n=="number"||ge.test(n);function ID(n,t,a,s,l,u){l?(n.opacity=tt(0,a.opacity??1,qD(s)),n.opacityExit=tt(t.opacity??1,0,GD(s))):u&&(n.opacity=tt(t.opacity??1,a.opacity??1,s));for(let c=0;c<$D;c++){const f=`border${R_[c]}Radius`;let m=B0(t,f),p=B0(a,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||L0(m)===L0(p)?(n[f]=Math.max(tt(U0(m),U0(p),s),0),(Vn.test(p)||Vn.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||a.rotate)&&(n.rotate=tt(t.rotate||0,a.rotate||0,s))}function B0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const qD=O_(0,.5,mw),GD=O_(.5,.95,Sn);function O_(n,t,a){return s=>s<n?0:s>t?1:a(to(n,t,s))}function z0(n,t){n.min=t.min,n.max=t.max}function Cn(n,t){z0(n.x,t.x),z0(n.y,t.y)}function V0(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function P0(n,t,a,s,l){return n-=t,n=su(n,1/a,s),l!==void 0&&(n=su(n,1/l,s)),n}function KD(n,t=0,a=1,s=.5,l,u=n,c=n){if(Vn.test(t)&&(t=parseFloat(t),t=tt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=tt(u.min,u.max,s);n===u&&(f-=t),n.min=P0(n.min,t,a,f,l),n.max=P0(n.max,t,a,f,l)}function H0(n,t,[a,s,l],u,c){KD(n,t[a],t[s],t[l],t.scale,u,c)}const YD=["x","scaleX","originX"],FD=["y","scaleY","originY"];function $0(n,t,a,s){H0(n.x,t,YD,a?a.x:void 0,s?s.x:void 0),H0(n.y,t,FD,a?a.y:void 0,s?s.y:void 0)}function I0(n){return n.translate===0&&n.scale===1}function j_(n){return I0(n.x)&&I0(n.y)}function q0(n,t){return n.min===t.min&&n.max===t.max}function XD(n,t){return q0(n.x,t.x)&&q0(n.y,t.y)}function G0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function N_(n,t){return G0(n.x,t.x)&&G0(n.y,t.y)}function K0(n){return Bt(n.x)/Bt(n.y)}function Y0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class JD{constructor(){this.members=[]}add(t){fd(this.members,t),t.scheduleRender()}remove(t){if(dd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(l=>t===l);if(a===0)return!1;let s;for(let l=a;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,a){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,a&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:s}=t;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WD(n,t,a){let s="";const l=n.x.translate/t.x,u=n.y.translate/t.y,c=a?.z||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:w,skewY:E}=a;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),E&&(s+=`skewY(${E}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const rf=["","X","Y","Z"],QD=1e3;let ZD=0;function of(n,t,a,s){const{latestValues:l}=t;l[n]&&(a[n]=l[n],t.setStaticValue(n,0),s&&(s[n]=0))}function D_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const a=y_(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:l,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",We,!(l||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&D_(s)}function k_({attachResizeListener:n,defaultParent:t,measureScroll:a,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},f=t?.()){this.id=ZD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nk),this.nodes.forEach(rk),this.nodes.forEach(ok),this.nodes.forEach(ik)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new PD)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gd),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Fw(c)&&!Gj(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;We.read(()=>{v=window.innerWidth}),n(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=HD(b,250),Jl.hasAnimatedSinceResize&&(Jl.hasAnimatedSinceResize=!1,this.nodes.forEach(J0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||fk,{onLayoutAnimationStart:T,onLayoutAnimationComplete:O}=p.getProps(),j=!this.targetLayout||!N_(this.targetLayout,w),D=!v&&b;if(this.options.layoutRoot||this.resumeFrom||D||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Rd(E,"layout"),onPlay:T,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(g,D)}else v||J0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(X0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sk),this.nodes.forEach(ek),this.nodes.forEach(tk)):this.nodes.forEach(X0),this.clearAllSnapshots();const f=Kt.now();Nt.delta=li(0,1e3/60,f-Nt.timestamp),Nt.timestamp=f,Nt.isProcessing=!0,Fh.update.process(Nt),Fh.preRender.process(Nt),Fh.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ak),this.sharedNodes.forEach(uk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bt(this.snapshot.measuredBox.x)&&!Bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!j_(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||pa(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),dk(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return vt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mk))){const{scroll:p}=this.root;p&&(Ts(f.x,p.offset.x),Ts(f.y,p.offset.y))}return f}removeElementScroll(c){const f=vt();if(Cn(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Cn(f,c),Ts(f.x,g.offset.x),Ts(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const m=vt();Cn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&xs(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),pa(g.latestValues)&&xs(m,g.latestValues)}return pa(this.latestValues)&&xs(m,this.latestValues),m}removeTransform(c){const f=vt();Cn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;Pf(p.latestValues)&&p.updateSnapshot();const g=vt(),v=p.measurePageBox();Cn(g,v),$0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return pa(this.latestValues)&&$0(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Nt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),h_(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pf(this.parent.latestValues)||c_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),ru(this.relativeTargetOrigin,f,m),Cn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Cn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;MN(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(V0(this.prevProjectionDelta.x,this.projectionDelta.x),V0(this.prevProjectionDelta.y,this.projectionDelta.y)),Gr(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Y0(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=As(),this.projectionDelta=As(),this.projectionDeltaWithTransform=As()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=As();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=vt(),w=m?m.source:void 0,E=this.layout?this.layout.source:void 0,T=w!==E,O=this.getStack(),j=!O||O.members.length<=1,D=!!(T&&!j&&this.options.crossfade===!0&&!this.path.some(hk));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const q=P/1e3;W0(v.x,c.x,q),W0(v.y,c.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ck(this.relativeTarget,this.relativeTargetOrigin,b,q),A&&XD(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=vt()),Cn(A,this.relativeTarget)),T&&(this.animationValues=g,ID(g,p,this.latestValues,q,D,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Jl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=zD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:g}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&M_(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||vt();const v=Bt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const b=Bt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Cn(f,m),xs(f,g),Gr(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JD),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&of("z",c,p,this.animationValues);for(let g=0;g<rf.length;g++)of(`rotate${rf[g]}`,c,p,this.animationValues),of(`skew${rf[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xl(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xl(f?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=WD(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),c.transform=v;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in Vf){if(g[E]===void 0)continue;const{correct:T,applyTo:O,isCSSVariable:j}=Vf[E],D=v==="none"?g[E]:T(g[E],p);if(O){const A=O.length;for(let P=0;P<A;P++)c[O[P]]=D}else j?this.options.visualElement.renderState.vars[E]=D:c[E]=D}this.options.layoutId&&(c.pointerEvents=p===this?Xl(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F0),this.root.sharedNodes.clear()}}}function ek(n){n.updateLayout()}function tk(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?wn(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=Bt(v);v.min=a[g].min,v.max=v.min+b}):M_(l,t.layoutBox,a)&&wn(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],b=Bt(a[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const c=As();Gr(c,a,t.layoutBox);const f=As();u?Gr(f,n.applyTransform(s,!0),t.measuredBox):Gr(f,a,t.layoutBox);const m=!j_(c);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const w=vt();ru(w,t.layoutBox,v.layoutBox);const E=vt();ru(E,a,b.layoutBox),N_(w,E)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=w,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function nk(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ik(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ak(n){n.clearSnapshot()}function F0(n){n.clearMeasurements()}function X0(n){n.isLayoutDirty=!1}function sk(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function J0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rk(n){n.resolveTargetDelta()}function ok(n){n.calcProjection()}function lk(n){n.resetSkewAndRotation()}function uk(n){n.removeLeadSnapshot()}function W0(n,t,a){n.translate=tt(t.translate,0,a),n.scale=tt(t.scale,1,a),n.origin=t.origin,n.originPoint=t.originPoint}function Q0(n,t,a,s){n.min=tt(t.min,a.min,s),n.max=tt(t.max,a.max,s)}function ck(n,t,a,s){Q0(n.x,t.x,a.x,s),Q0(n.y,t.y,a.y,s)}function hk(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fk={duration:.45,ease:[.4,0,.1,1]},Z0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eb=Z0("applewebkit/")&&!Z0("chrome/")?Math.round:Sn;function tb(n){n.min=eb(n.min),n.max=eb(n.max)}function dk(n){tb(n.x),tb(n.y)}function M_(n,t,a){return n==="position"||n==="preserve-aspect"&&!_D(K0(t),K0(a),.2)}function mk(n){return n!==n.root&&n.scroll?.wasRoot}const pk=k_({attachResizeListener:(n,t)=>so(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lf={current:void 0},U_=k_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lf.current){const n=new pk({});n.mount(window),n.setOptions({layoutScroll:!0}),lf.current=n}return lf.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),gk={pan:{Feature:LD},drag:{Feature:UD,ProjectionNode:U_,MeasureLayout:C_}};function nb(n,t,a){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",a==="Start");const l="onHover"+a,u=s[l];u&&We.postRender(()=>u(t,go(t)))}class yk extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=Pj(t,(a,s)=>(nb(this.node,s,"Start"),l=>nb(this.node,l,"End"))))}unmount(){}}class vk extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fo(so(this.node.current,"focus",()=>this.onFocus()),so(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ib(n,t,a){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",a==="Start");const l="onTap"+(a==="End"?"":a),u=s[l];u&&We.postRender(()=>u(t,go(t)))}class bk extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=qj(t,(a,s)=>(ib(this.node,s,"Start"),(l,{success:u})=>ib(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yf=new WeakMap,uf=new WeakMap,wk=n=>{const t=Yf.get(n.target);t&&t(n)},_k=n=>{n.forEach(wk)};function Sk({root:n,...t}){const a=n||document;uf.has(a)||uf.set(a,{});const s=uf.get(a),l=JSON.stringify(t);return s[l]||(s[l]=new IntersectionObserver(_k,{root:n,...t})),s[l]}function Ek(n,t,a){const s=Sk(t);return Yf.set(n,a),s.observe(n),()=>{Yf.delete(n),s.unobserve(n)}}const Tk={some:0,all:1};class xk extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:s,amount:l="some",once:u}=t,c={root:a?a.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:Tk[l]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(m)};return Ek(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(Ak(t,a))&&this.startObserver()}unmount(){}}function Ak({viewport:n={}},{viewport:t={}}={}){return a=>n[a]!==t[a]}const Ck={inView:{Feature:xk},tap:{Feature:bk},focus:{Feature:vk},hover:{Feature:yk}},Rk={layout:{ProjectionNode:U_,MeasureLayout:C_}},Ok={...pD,...Ck,...gk,...Rk},Lr=NN(Ok,qN),jk=({roundData:n,myPlayerId:t,onComplete:a})=>{const s=n.warHistory||[n],[l,u]=x.useState(0),[c,f]=x.useState("enter"),[m,p]=x.useState(!1);if(x.useEffect(()=>{u(0),f("enter"),p(!1)},[n]),x.useEffect(()=>{console.log("BattleOverlay: Sequence starting for history length:",s.length);let E=!0;return(async()=>{for(let O=0;O<s.length;O++){if(!E||(u(O),f("enter"),p(!1),await new Promise(D=>setTimeout(D,1e3)),!E)||(f("reveal"),await new Promise(D=>setTimeout(D,1500)),!E)||(f("compare"),await new Promise(D=>setTimeout(D,2e3)),!E))return;if(O===s.length-1)await new Promise(D=>setTimeout(D,1500));else{if(p(!0),await new Promise(D=>setTimeout(D,1500)),!E)return;f("exit"),await new Promise(D=>setTimeout(D,500))}}E&&(f("exit"),await new Promise(O=>setTimeout(O,500)),a&&a())})(),()=>{E=!1}},[n]),!n)return null;const g=s[l];if(!g||!g.cardsPlayed)return null;const v=g.winner,b=n.category,w=n.winnerName;return S.jsxs(Lr.div,{className:"battle-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsxs("div",{className:"battle-category",children:["Competition: ",S.jsx("span",{children:b}),s.length>1&&S.jsxs("div",{style:{fontSize:"0.6em",opacity:.8},children:["Round ",l+1," / ",s.length]})]}),S.jsx(zf,{mode:"wait",children:c!=="exit"&&S.jsx("div",{className:"battle-arena",children:g.cardsPlayed.map((E,T)=>{if(!E||!E.card)return null;const O=E.playerId===t,j=E.playerId===v,D=!O&&c==="enter",A=E.value??E.card.values?.[b]??E.card.attributes?.[b]??"-";return S.jsxs("div",{className:`battle-card-slot ${j&&c==="compare"?"winner":""}`,children:[S.jsx("div",{className:"player-label",children:E.playerName}),S.jsxs(Lr.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1,scale:j&&c==="compare"?1.1:1,filter:!j&&v&&c==="compare"?"grayscale(0.8) blur(1px)":"none"},exit:{y:-50,opacity:0},transition:{delay:T*.1},className:"battle-card-wrapper",children:[S.jsx(fu,{card:E.card,categories:[{name:b}],deckName:null,flipped:D,enableFlip:!1}),c==="compare"&&S.jsx(Lr.div,{className:"stat-highlight",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:A})]})]},E.playerId)})},`arena-${l}`)}),S.jsxs(zf,{children:[c==="compare"&&m&&S.jsxs(Lr.div,{className:"winner-banner war-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:["WAR!",S.jsx("div",{style:{fontSize:"0.4em"},children:"Tie - Next Cards!"})]},"war-banner"),c==="compare"&&!m&&l===s.length-1&&S.jsx(Lr.div,{className:"winner-banner",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},children:w?`${w} Wins!`:"DRAW!"},"winner-banner")]})]})},Nk=({matchId:n,gameState:t,myPlayer:a,deck:s,actions:l,isMyTurn:u})=>{if(!s)return S.jsx("div",{children:"Loading Deck Data..."});const c=a.hand[0],f=s.categories,m=t.winner,p=t.warMode,g=t.pot.length,v=t.lastRound,[b,w]=x.useState(!1),E=ro.useRef(null);x.useEffect(()=>{console.log("GameBoard: Checking lastRound update",{lastRound:v,prev:E.current}),v&&v!==E.current&&(console.log("GameBoard: New round detected, triggering battle animation",v),w(!0),E.current=v)},[v]);const T=a.eliminated;return t.status==="completed"&&m&&!b?S.jsxs("div",{className:"game-board-container game-over",children:[S.jsx("h1",{children:"Game Over!"}),S.jsxs("h2",{children:["Winner: ",m.name]}),S.jsx(Je,{variant:"primary",onClick:()=>window.location.href="/",children:"Back to Home"})]}):S.jsxs("div",{className:"game-board-container",children:[S.jsxs("div",{className:"game-header",children:[S.jsx("div",{className:"turn-indicator",children:u?"YOUR TURN":`${t.players.find(O=>O.id===t.turnPlayerId)?.name}'s Turn`}),S.jsxs("div",{className:"pot-indicator",children:["Pot: ",g," cards ",p&&S.jsx("span",{className:"war-badge",children:"WAR!"})]})]}),S.jsx(zf,{children:b&&v&&S.jsx(jk,{roundData:v,myPlayerId:a.id,onComplete:()=>w(!1)})}),S.jsx("div",{className:"opponents-strip",children:t.players.filter(O=>O.id!==a.id).map(O=>S.jsxs("div",{className:`opponent-card ${O.id===t.turnPlayerId?"active-turn":""} ${O.eliminated?"eliminated-p":""}`,children:[S.jsx("div",{className:"opponent-avatar",children:""}),S.jsx("div",{className:"opponent-name",children:O.name}),S.jsxs("div",{className:"opponent-hand-count",children:[O.hand.length," cards"]})]},O.id))}),S.jsxs("div",{className:"main-play-area",children:[S.jsxs("div",{className:"my-player-info",style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem",justifyContent:"center"},children:[S.jsx("div",{className:"opponent-avatar",style:{background:"#4CAF50"},children:""}),S.jsxs("div",{className:"my-info-text",style:{textAlign:"left"},children:[S.jsxs("div",{style:{fontWeight:"bold"},children:[a.name," (You)"]}),S.jsxs("div",{style:{fontSize:"0.9em",opacity:.8},children:[a.hand.length," cards"]})]})]}),S.jsx("div",{className:"my-card-section",children:c?S.jsx(fu,{card:c,categories:f||[],isSelectable:u&&!m,onCategorySelect:l.playTurn,deckName:s.name}):S.jsx("div",{className:"empty-card-slot",children:"Empty Hand"})}),S.jsxs("div",{className:"controls-section",children:[T&&S.jsxs("div",{className:"eliminated-message",children:[S.jsx("h3",{children:"You have been eliminated"}),S.jsx("p",{children:"Spectating the game..."})]}),!T&&u&&!m&&S.jsx("div",{className:"text-center text-primary mt-4 animate-pulse",children:" Select a category on the card above "}),!T&&!u&&S.jsx("div",{className:"waiting-message",children:"Waiting for opponent..."}),v&&!b&&S.jsx("div",{className:"review-battle-container",style:{marginTop:"1rem",textAlign:"center"},children:S.jsx(Je,{variant:"secondary",size:"sm",onClick:()=>w(!0),children:"Review Last Battle"})}),!T&&!m&&S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Je,{variant:"ghost",size:"sm",onClick:l.concede,style:{color:"var(--danger)",opacity:.7},children:"Surrender Game"})})]})]})]})},Dk=()=>{const{id:n}=qT(),{status:t,actions:a,gameState:s,myPlayer:l,isHost:u,players:c,deck:f,isMyTurn:m}=JR(n),[p,g]=x.useState(""),{setTitle:v,setBackTo:b}=Ms(),{user:w}=Us(),E=x.useRef(!1);return x.useEffect(()=>{w&&f?.id&&VR(f.id,w.id)},[w,f?.id]),x.useEffect(()=>{if(w&&!l&&t==="lobby"&&!E.current){E.current=!0;const T=w.user_metadata?.full_name||w.email?.split("@")[0]||"Player";console.log("Auto-joining as",T),a.join(T).catch(O=>{console.error("Auto-join failed:",O),E.current=!1})}},[w,l,t]),x.useEffect(()=>{t==="lobby"?(v("Game Lobby"),b("/")):t==="active"&&(v("Game Board"),b("/"))},[t,v,b]),t==="loading"?S.jsx("div",{className:"p-8 text-center",children:"Loading Game..."}):s?l?t==="lobby"?S.jsx(WR,{matchId:n,players:c,isHost:u,onStart:a.start}):t==="active"||t==="completed"?S.jsx(Nk,{matchId:n,gameState:s,myPlayer:l,deck:f,actions:a,isMyTurn:m}):S.jsxs("div",{children:["Unknown Status: ",t]}):S.jsxs("div",{className:"page-view app-card centered",children:[S.jsx("h2",{children:"Join Game"}),S.jsx("div",{className:"input-group",style:{width:"100%",maxWidth:"300px"},children:S.jsx("input",{type:"text",placeholder:"Enter your name",value:p,onChange:T=>g(T.target.value),onKeyDown:T=>T.key==="Enter"&&p.trim()&&a.join(p)})}),S.jsx(Je,{variant:"primary",disabled:!p.trim(),onClick:()=>a.join(p),style:{width:"100%",maxWidth:"300px"},children:"Join Lobby"})]}):S.jsx("div",{className:"p-8 text-center",children:"Game Not Found"})},kk=()=>{const[n,t]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(""),[c,f]=x.useState(!1),[m,p]=x.useState(!1),[g,v]=x.useState(null),b=ks(),w=async E=>{E.preventDefault(),f(!0),v(null);try{if(m){const{error:T}=await bt.auth.signUp({email:n,password:l,options:{data:{full_name:a}}});if(T)throw T;alert("Account created! You can now log in."),p(!1)}else{const{error:T}=await bt.auth.signInWithPassword({email:n,password:l});if(T)throw T;b("/")}}catch(T){v(T.message)}finally{f(!1)}};return S.jsx("div",{className:"page-view centered",style:{minHeight:"80vh",justifyContent:"center"},children:S.jsxs("div",{className:"glass-panel",style:{padding:"2rem",width:"100%",maxWidth:"400px"},children:[S.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:m?"Create Account":"Welcome Back"}),g&&S.jsx("div",{style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid var(--danger)",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:g}),S.jsxs("form",{onSubmit:w,className:"input-group",style:{gap:"1.5rem"},children:[m&&S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Username"}),S.jsx(_a,{type:"text",value:a,onChange:E=>s(E.target.value),required:!0,placeholder:"Choose a username"})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Email"}),S.jsx(_a,{type:"email",value:n,onChange:E=>t(E.target.value),required:!0,placeholder:"you@example.com"})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{children:"Password"}),S.jsx(_a,{type:"password",value:l,onChange:E=>u(E.target.value),required:!0,placeholder:""})]}),S.jsx(Je,{type:"submit",variant:"primary",fullWidth:!0,loading:c,children:m?"Sign Up":"Log In"})]}),S.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.9rem",color:"var(--text-dim)"},children:[m?"Already have an account?":"Don't have an account?",S.jsx("button",{onClick:()=>p(!m),style:{marginLeft:"0.5rem",color:"var(--primary)",fontWeight:"600",textDecoration:"underline"},children:m?"Log In":"Sign Up"})]})]})})},ab=({children:n})=>{const{user:t,loading:a}=Us();return a?null:t?n:S.jsx(ax,{to:"/auth"})};function Mk(){return S.jsx(z1,{children:S.jsx(iA,{children:S.jsxs(rx,{children:[S.jsx(ys,{path:"/",element:S.jsx(V1,{})}),S.jsx(ys,{path:"/auth",element:S.jsx(kk,{})}),S.jsx(ys,{path:"/create",element:S.jsx(ab,{children:S.jsx($R,{})})}),S.jsx(ys,{path:"/collection",element:S.jsx(ab,{children:S.jsx(KR,{})})}),S.jsx(ys,{path:"/game/:id",element:S.jsx(Dk,{})})]})})})}oT.createRoot(document.getElementById("root")).render(S.jsx(ro.StrictMode,{children:S.jsx(jx,{children:S.jsx(Px,{children:S.jsx(Mk,{})})})}));
